######## start ##############
11/13/2022 00:21:27 - INFO - __main__ -   Namespace(adam_epsilon=1e-08, add_lang_ids=False, add_task_prefix=False, always_save_model=True, beam_size=10, cache_path='saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data', config_name='', data_dir='/home/y_shi202/related-project/CodeT5/data', data_num=-1, dev_filename=None, do_eval=False, do_eval_bleu=False, do_lower_case=False, do_test=True, do_train=False, eval_batch_size=16, eval_steps=-1, eval_task='', gradient_accumulation_steps=1, lang='java', learning_rate=5e-05, load_model_path=None, local_rank=-1, log_steps=-1, max_grad_norm=1.0, max_source_length=130, max_steps=-1, max_target_length=120, model_name_or_path='Salesforce/codet5-base', model_type='codet5', no_cuda=False, num_train_epochs=50, output_dir='saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50', patience=5, res_dir='saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/prediction', res_fn='results/refine_codet5_base.txt', save_last_checkpoints=True, save_steps=-1, seed=1234, start_epoch=0, sub_task='small', summary_dir='tensorboard', task='refine', test_filename=None, tokenizer_name='Salesforce/codet5-base', train_batch_size=16, train_filename=None, train_steps=-1, warmup_steps=1000, weight_decay=0.0)
11/13/2022 00:21:27 - WARNING - configs -   Process rank: -1, device: cuda, n_gpu: 1, distributed training: False, cpu count: 72
11/13/2022 00:21:31 - INFO - models -   Finish loading model [223M] from Salesforce/codet5-base
11/13/2022 00:21:31 - INFO - __main__ -   test by self config: 
11/13/2022 00:21:31 - INFO - __main__ -   test by self model: Salesforce/codet5-base
11/13/2022 00:21:35 - INFO - __main__ -   自己设定的cpu数量为 1
11/13/2022 00:21:35 - INFO - __main__ -     ***** Testing *****
11/13/2022 00:21:35 - INFO - __main__ -     Batch size = 16
11/13/2022 00:21:35 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 00:21:36 - INFO - __main__ -   test11111111111
11/13/2022 00:21:36 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 00:21:36 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/local_variable_renaming/before_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/local_variable_renaming/before_refactoring/small/test.buggy-fixed.fixed
11/13/2022 00:21:36 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 00:21:36 - INFO - utils -   Read 251 examples, avg src len: 39, avg trg len: 35, max src len: 93, max trg len: 74
11/13/2022 00:21:36 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/test_src_all.pt
11/13/2022 00:21:36 - INFO - utils -   加载前test666666666666666
  0%|          | 0/251 [00:00<?, ?it/s] 50%|█████     | 126/251 [00:00<00:00, 680.81it/s] 78%|███████▊  | 195/251 [00:00<00:00, 652.79it/s]100%|██████████| 251/251 [00:00<00:00, 846.14it/s]
11/13/2022 00:21:37 - INFO - utils -   加载后test77777777777777
11/13/2022 00:21:37 - INFO - __main__ -   加载成功test2222222222
11/13/2022 00:21:37 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 00:21:37 - INFO - __main__ -     Num examples = 251
11/13/2022 00:21:37 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/16 [00:00<?, ?it/s]Eval bleu for test set:   6%|▋         | 1/16 [00:05<01:20,  5.35s/it]Eval bleu for test set:  12%|█▎        | 2/16 [00:09<01:07,  4.79s/it]Eval bleu for test set:  19%|█▉        | 3/16 [00:14<01:03,  4.86s/it]Eval bleu for test set:  25%|██▌       | 4/16 [00:19<00:57,  4.83s/it]Eval bleu for test set:  31%|███▏      | 5/16 [00:24<00:52,  4.78s/it]Eval bleu for test set:  38%|███▊      | 6/16 [00:28<00:47,  4.80s/it]Eval bleu for test set:  44%|████▍     | 7/16 [00:33<00:43,  4.78s/it]Eval bleu for test set:  50%|█████     | 8/16 [00:38<00:38,  4.80s/it]Eval bleu for test set:  56%|█████▋    | 9/16 [00:43<00:33,  4.80s/it]Eval bleu for test set:  62%|██████▎   | 10/16 [00:48<00:29,  4.84s/it]Eval bleu for test set:  69%|██████▉   | 11/16 [00:52<00:22,  4.51s/it]Eval bleu for test set:  75%|███████▌  | 12/16 [00:56<00:18,  4.62s/it]Eval bleu for test set:  81%|████████▏ | 13/16 [01:01<00:13,  4.60s/it]Eval bleu for test set:  88%|████████▊ | 14/16 [01:06<00:09,  4.65s/it]Eval bleu for test set:  94%|█████████▍| 15/16 [01:11<00:04,  4.69s/it]Eval bleu for test set: 100%|██████████| 16/16 [01:15<00:00,  4.51s/it]Eval bleu for test set: 100%|██████████| 16/16 [01:15<00:00,  4.71s/it]
11/13/2022 00:23:02 - INFO - __main__ -   ***** Eval results *****
11/13/2022 00:23:02 - INFO - __main__ -     bleu = 80.09
11/13/2022 00:23:02 - INFO - __main__ -     codebleu = 82.4012
11/13/2022 00:23:02 - INFO - __main__ -     em = 23.9044
11/13/2022 00:23:02 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typelocal_variable_renaming + whether_refactoringbefore_refactoring :
11/13/2022 00:23:02 - INFO - __main__ -   [best-bleu] bleu-4: 80.09, em: 23.9044, codebleu: 82.4012

11/13/2022 00:23:02 - INFO - __main__ -   Finish and take 1m
11/13/2022 00:23:02 - INFO - __main__ -     ***** Testing *****
11/13/2022 00:23:02 - INFO - __main__ -     Batch size = 16
11/13/2022 00:23:02 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 00:23:03 - INFO - __main__ -   test11111111111
11/13/2022 00:23:03 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 00:23:03 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/local_variable_renaming/after_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/local_variable_renaming/after_refactoring/small/test.buggy-fixed.fixed
11/13/2022 00:23:03 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 00:23:03 - INFO - utils -   Read 251 examples, avg src len: 39, avg trg len: 35, max src len: 93, max trg len: 74
11/13/2022 00:23:03 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/test_src_all.pt
11/13/2022 00:23:03 - INFO - utils -   加载前test666666666666666
ngram match: 0.8008796750828766, weighted ngram match: 0.8372039783420764, syntax_match: 0.8348733233979135, dataflow_match: 0.8230897009966778
  0%|          | 0/251 [00:00<?, ?it/s] 50%|█████     | 126/251 [00:00<00:00, 819.51it/s] 83%|████████▎ | 208/251 [00:00<00:00, 784.18it/s]100%|██████████| 251/251 [00:00<00:00, 952.85it/s]
11/13/2022 00:23:04 - INFO - utils -   加载后test77777777777777
11/13/2022 00:23:04 - INFO - __main__ -   加载成功test2222222222
11/13/2022 00:23:04 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 00:23:04 - INFO - __main__ -     Num examples = 251
11/13/2022 00:23:04 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/16 [00:00<?, ?it/s]Eval bleu for test set:   6%|▋         | 1/16 [00:05<01:16,  5.09s/it]Eval bleu for test set:  12%|█▎        | 2/16 [00:09<01:05,  4.68s/it]Eval bleu for test set:  19%|█▉        | 3/16 [00:14<01:02,  4.79s/it]Eval bleu for test set:  25%|██▌       | 4/16 [00:19<00:57,  4.79s/it]Eval bleu for test set:  31%|███▏      | 5/16 [00:23<00:52,  4.77s/it]Eval bleu for test set:  38%|███▊      | 6/16 [00:28<00:47,  4.79s/it]Eval bleu for test set:  44%|████▍     | 7/16 [00:33<00:42,  4.77s/it]Eval bleu for test set:  50%|█████     | 8/16 [00:38<00:38,  4.80s/it]Eval bleu for test set:  56%|█████▋    | 9/16 [00:43<00:33,  4.80s/it]Eval bleu for test set:  62%|██████▎   | 10/16 [00:48<00:29,  4.84s/it]Eval bleu for test set:  69%|██████▉   | 11/16 [00:52<00:22,  4.58s/it]Eval bleu for test set:  75%|███████▌  | 12/16 [00:56<00:18,  4.67s/it]Eval bleu for test set:  81%|████████▏ | 13/16 [01:01<00:14,  4.67s/it]Eval bleu for test set:  88%|████████▊ | 14/16 [01:06<00:09,  4.70s/it]Eval bleu for test set:  94%|█████████▍| 15/16 [01:11<00:04,  4.73s/it]Eval bleu for test set: 100%|██████████| 16/16 [01:15<00:00,  4.48s/it]Eval bleu for test set: 100%|██████████| 16/16 [01:15<00:00,  4.70s/it]
11/13/2022 00:24:29 - INFO - __main__ -   ***** Eval results *****
11/13/2022 00:24:29 - INFO - __main__ -     bleu = 80.43
11/13/2022 00:24:29 - INFO - __main__ -     codebleu = 82.9759
11/13/2022 00:24:29 - INFO - __main__ -     em = 21.5139
11/13/2022 00:24:29 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typelocal_variable_renaming + whether_refactoringafter_refactoring :
11/13/2022 00:24:29 - INFO - __main__ -   [best-bleu] bleu-4: 80.43, em: 21.5139, codebleu: 82.9759

11/13/2022 00:24:29 - INFO - __main__ -   Finish and take 3m
11/13/2022 00:24:29 - INFO - __main__ -     ***** Testing *****
11/13/2022 00:24:29 - INFO - __main__ -     Batch size = 16
11/13/2022 00:24:29 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 00:24:30 - INFO - __main__ -   test11111111111
11/13/2022 00:24:30 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 00:24:30 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/method_renaming/before_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/method_renaming/before_refactoring/small/test.buggy-fixed.fixed
11/13/2022 00:24:30 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 00:24:30 - INFO - utils -   Read 5674 examples, avg src len: 32, avg trg len: 29, max src len: 93, max trg len: 129
11/13/2022 00:24:30 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/test_src_all.pt
11/13/2022 00:24:30 - INFO - utils -   加载前test666666666666666
ngram match: 0.8043087774202712, weighted ngram match: 0.8445002457701691, syntax_match: 0.8380029806259315, dataflow_match: 0.8322259136212624
  0%|          | 0/5674 [00:00<?, ?it/s] 50%|█████     | 2838/5674 [00:01<00:01, 1721.11it/s] 75%|███████▌  | 4257/5674 [00:03<00:01, 1195.61it/s]100%|██████████| 5674/5674 [00:03<00:00, 1696.87it/s]
11/13/2022 00:24:37 - INFO - utils -   加载后test77777777777777
11/13/2022 00:24:37 - INFO - __main__ -   加载成功test2222222222
11/13/2022 00:24:37 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 00:24:37 - INFO - __main__ -     Num examples = 5674
11/13/2022 00:24:37 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/355 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/355 [00:05<29:41,  5.03s/it]Eval bleu for test set:   1%|          | 2/355 [00:09<28:56,  4.92s/it]Eval bleu for test set:   1%|          | 3/355 [00:14<28:36,  4.88s/it]Eval bleu for test set:   1%|          | 4/355 [00:19<28:16,  4.83s/it]Eval bleu for test set:   1%|▏         | 5/355 [00:24<28:17,  4.85s/it]Eval bleu for test set:   2%|▏         | 6/355 [00:29<28:05,  4.83s/it]Eval bleu for test set:   2%|▏         | 7/355 [00:33<27:48,  4.80s/it]Eval bleu for test set:   2%|▏         | 8/355 [00:38<27:45,  4.80s/it]Eval bleu for test set:   3%|▎         | 9/355 [00:43<27:49,  4.83s/it]Eval bleu for test set:   3%|▎         | 10/355 [00:47<26:53,  4.68s/it]Eval bleu for test set:   3%|▎         | 11/355 [00:52<26:30,  4.62s/it]Eval bleu for test set:   3%|▎         | 12/355 [00:57<27:32,  4.82s/it]Eval bleu for test set:   4%|▎         | 13/355 [01:03<28:34,  5.01s/it]Eval bleu for test set:   4%|▍         | 14/355 [01:08<29:31,  5.19s/it]Eval bleu for test set:   4%|▍         | 15/355 [01:14<29:56,  5.28s/it]Eval bleu for test set:   5%|▍         | 16/355 [01:19<29:57,  5.30s/it]Eval bleu for test set:   5%|▍         | 17/355 [01:24<30:01,  5.33s/it]Eval bleu for test set:   5%|▌         | 18/355 [01:30<30:07,  5.36s/it]Eval bleu for test set:   5%|▌         | 19/355 [01:35<29:23,  5.25s/it]Eval bleu for test set:   6%|▌         | 20/355 [01:40<28:59,  5.19s/it]Eval bleu for test set:   6%|▌         | 21/355 [01:44<27:25,  4.93s/it]Eval bleu for test set:   6%|▌         | 22/355 [01:50<28:11,  5.08s/it]Eval bleu for test set:   6%|▋         | 23/355 [01:55<28:10,  5.09s/it]Eval bleu for test set:   7%|▋         | 24/355 [02:00<28:33,  5.18s/it]Eval bleu for test set:   7%|▋         | 25/355 [02:06<28:44,  5.23s/it]Eval bleu for test set:   7%|▋         | 26/355 [02:11<28:49,  5.26s/it]Eval bleu for test set:   8%|▊         | 27/355 [02:16<28:51,  5.28s/it]Eval bleu for test set:   8%|▊         | 28/355 [02:22<28:57,  5.31s/it]Eval bleu for test set:   8%|▊         | 29/355 [02:27<28:44,  5.29s/it]Eval bleu for test set:   8%|▊         | 30/355 [02:32<28:52,  5.33s/it]Eval bleu for test set:   9%|▊         | 31/355 [02:37<27:55,  5.17s/it]Eval bleu for test set:   9%|▉         | 32/355 [02:42<27:22,  5.08s/it]Eval bleu for test set:   9%|▉         | 33/355 [02:47<26:46,  4.99s/it]Eval bleu for test set:  10%|▉         | 34/355 [02:52<27:24,  5.12s/it]Eval bleu for test set:  10%|▉         | 35/355 [02:58<27:59,  5.25s/it]Eval bleu for test set:  10%|█         | 36/355 [03:03<28:15,  5.31s/it]Eval bleu for test set:  10%|█         | 37/355 [03:08<28:02,  5.29s/it]Eval bleu for test set:  11%|█         | 38/355 [03:14<27:58,  5.30s/it]Eval bleu for test set:  11%|█         | 39/355 [03:19<27:57,  5.31s/it]Eval bleu for test set:  11%|█▏        | 40/355 [03:24<27:58,  5.33s/it]Eval bleu for test set:  12%|█▏        | 41/355 [03:30<27:56,  5.34s/it]Eval bleu for test set:  12%|█▏        | 42/355 [03:34<26:28,  5.08s/it]Eval bleu for test set:  12%|█▏        | 43/355 [03:39<26:37,  5.12s/it]Eval bleu for test set:  12%|█▏        | 44/355 [03:45<26:53,  5.19s/it]Eval bleu for test set:  13%|█▎        | 45/355 [03:50<27:07,  5.25s/it]Eval bleu for test set:  13%|█▎        | 46/355 [03:55<26:54,  5.22s/it]Eval bleu for test set:  13%|█▎        | 47/355 [04:01<27:08,  5.29s/it]Eval bleu for test set:  14%|█▎        | 48/355 [04:06<27:25,  5.36s/it]Eval bleu for test set:  14%|█▍        | 49/355 [04:12<27:18,  5.35s/it]Eval bleu for test set:  14%|█▍        | 50/355 [04:17<27:31,  5.41s/it]Eval bleu for test set:  14%|█▍        | 51/355 [04:22<27:12,  5.37s/it]Eval bleu for test set:  15%|█▍        | 52/355 [04:28<27:07,  5.37s/it]Eval bleu for test set:  15%|█▍        | 53/355 [04:33<26:19,  5.23s/it]Eval bleu for test set:  15%|█▌        | 54/355 [04:38<26:15,  5.23s/it]Eval bleu for test set:  15%|█▌        | 55/355 [04:43<26:01,  5.20s/it]Eval bleu for test set:  16%|█▌        | 56/355 [04:49<26:13,  5.26s/it]Eval bleu for test set:  16%|█▌        | 57/355 [04:54<26:24,  5.32s/it]Eval bleu for test set:  16%|█▋        | 58/355 [04:59<26:27,  5.35s/it]Eval bleu for test set:  17%|█▋        | 59/355 [05:05<26:17,  5.33s/it]Eval bleu for test set:  17%|█▋        | 60/355 [05:10<26:07,  5.31s/it]Eval bleu for test set:  17%|█▋        | 61/355 [05:15<26:12,  5.35s/it]Eval bleu for test set:  17%|█▋        | 62/355 [05:21<26:05,  5.34s/it]Eval bleu for test set:  18%|█▊        | 63/355 [05:26<26:04,  5.36s/it]Eval bleu for test set:  18%|█▊        | 64/355 [05:31<24:53,  5.13s/it]Eval bleu for test set:  18%|█▊        | 65/355 [05:36<24:24,  5.05s/it]Eval bleu for test set:  19%|█▊        | 66/355 [05:41<24:36,  5.11s/it]Eval bleu for test set:  19%|█▉        | 67/355 [05:46<24:44,  5.16s/it]Eval bleu for test set:  19%|█▉        | 68/355 [05:51<24:57,  5.22s/it]Eval bleu for test set:  19%|█▉        | 69/355 [05:57<24:47,  5.20s/it]Eval bleu for test set:  20%|█▉        | 70/355 [06:02<25:13,  5.31s/it]Eval bleu for test set:  20%|██        | 71/355 [06:08<25:18,  5.35s/it]Eval bleu for test set:  20%|██        | 72/355 [06:13<24:59,  5.30s/it]Eval bleu for test set:  21%|██        | 73/355 [06:18<24:44,  5.26s/it]Eval bleu for test set:  21%|██        | 74/355 [06:23<24:39,  5.26s/it]Eval bleu for test set:  21%|██        | 75/355 [06:29<24:50,  5.32s/it]Eval bleu for test set:  21%|██▏       | 76/355 [06:34<24:39,  5.30s/it]Eval bleu for test set:  22%|██▏       | 77/355 [06:39<24:26,  5.28s/it]Eval bleu for test set:  22%|██▏       | 78/355 [06:45<24:40,  5.34s/it]Eval bleu for test set:  22%|██▏       | 79/355 [06:50<24:28,  5.32s/it]Eval bleu for test set:  23%|██▎       | 80/355 [06:54<22:12,  4.85s/it]Eval bleu for test set:  23%|██▎       | 81/355 [06:59<22:54,  5.02s/it]Eval bleu for test set:  23%|██▎       | 82/355 [07:04<23:01,  5.06s/it]Eval bleu for test set:  23%|██▎       | 83/355 [07:10<23:13,  5.12s/it]Eval bleu for test set:  24%|██▎       | 84/355 [07:15<23:36,  5.23s/it]Eval bleu for test set:  24%|██▍       | 85/355 [07:20<23:38,  5.25s/it]Eval bleu for test set:  24%|██▍       | 86/355 [07:26<23:43,  5.29s/it]Eval bleu for test set:  25%|██▍       | 87/355 [07:31<23:35,  5.28s/it]Eval bleu for test set:  25%|██▍       | 88/355 [07:36<23:00,  5.17s/it]Eval bleu for test set:  25%|██▌       | 89/355 [07:41<22:31,  5.08s/it]Eval bleu for test set:  25%|██▌       | 90/355 [07:46<22:05,  5.00s/it]Eval bleu for test set:  26%|██▌       | 91/355 [07:50<21:41,  4.93s/it]Eval bleu for test set:  26%|██▌       | 92/355 [07:55<21:23,  4.88s/it]Eval bleu for test set:  26%|██▌       | 93/355 [08:00<21:15,  4.87s/it]Eval bleu for test set:  26%|██▋       | 94/355 [08:05<21:03,  4.84s/it]Eval bleu for test set:  27%|██▋       | 95/355 [08:10<21:05,  4.87s/it]Eval bleu for test set:  27%|██▋       | 96/355 [08:14<20:59,  4.86s/it]Eval bleu for test set:  27%|██▋       | 97/355 [08:19<20:50,  4.85s/it]Eval bleu for test set:  28%|██▊       | 98/355 [08:23<19:39,  4.59s/it]Eval bleu for test set:  28%|██▊       | 99/355 [08:28<19:46,  4.63s/it]Eval bleu for test set:  28%|██▊       | 100/355 [08:33<19:53,  4.68s/it]Eval bleu for test set:  28%|██▊       | 101/355 [08:37<19:50,  4.69s/it]Eval bleu for test set:  29%|██▊       | 102/355 [08:42<19:56,  4.73s/it]Eval bleu for test set:  29%|██▉       | 103/355 [08:47<19:52,  4.73s/it]Eval bleu for test set:  29%|██▉       | 104/355 [08:51<19:20,  4.63s/it]Eval bleu for test set:  30%|██▉       | 105/355 [08:56<19:22,  4.65s/it]Eval bleu for test set:  30%|██▉       | 106/355 [09:01<19:22,  4.67s/it]Eval bleu for test set:  30%|███       | 107/355 [09:06<19:26,  4.70s/it]Eval bleu for test set:  30%|███       | 108/355 [09:10<19:25,  4.72s/it]Eval bleu for test set:  31%|███       | 109/355 [09:15<19:22,  4.73s/it]Eval bleu for test set:  31%|███       | 110/355 [09:20<19:18,  4.73s/it]Eval bleu for test set:  31%|███▏      | 111/355 [09:24<18:37,  4.58s/it]Eval bleu for test set:  32%|███▏      | 112/355 [09:29<18:50,  4.65s/it]Eval bleu for test set:  32%|███▏      | 113/355 [09:34<19:06,  4.74s/it]Eval bleu for test set:  32%|███▏      | 114/355 [09:39<19:02,  4.74s/it]Eval bleu for test set:  32%|███▏      | 115/355 [09:43<19:00,  4.75s/it]Eval bleu for test set:  33%|███▎      | 116/355 [09:48<19:01,  4.78s/it]Eval bleu for test set:  33%|███▎      | 117/355 [09:53<19:10,  4.83s/it]Eval bleu for test set:  33%|███▎      | 118/355 [09:58<19:05,  4.83s/it]Eval bleu for test set:  34%|███▎      | 119/355 [10:03<18:52,  4.80s/it]Eval bleu for test set:  34%|███▍      | 120/355 [10:08<18:53,  4.82s/it]Eval bleu for test set:  34%|███▍      | 121/355 [10:12<18:23,  4.72s/it]Eval bleu for test set:  34%|███▍      | 122/355 [10:17<18:11,  4.68s/it]Eval bleu for test set:  35%|███▍      | 123/355 [10:21<18:12,  4.71s/it]Eval bleu for test set:  35%|███▍      | 124/355 [10:26<18:25,  4.79s/it]Eval bleu for test set:  35%|███▌      | 125/355 [10:31<18:19,  4.78s/it]Eval bleu for test set:  35%|███▌      | 126/355 [10:36<18:12,  4.77s/it]Eval bleu for test set:  36%|███▌      | 127/355 [10:40<17:00,  4.48s/it]Eval bleu for test set:  36%|███▌      | 128/355 [10:44<17:12,  4.55s/it]Eval bleu for test set:  36%|███▋      | 129/355 [10:49<17:26,  4.63s/it]Eval bleu for test set:  37%|███▋      | 130/355 [10:54<17:23,  4.64s/it]Eval bleu for test set:  37%|███▋      | 131/355 [10:59<17:31,  4.69s/it]Eval bleu for test set:  37%|███▋      | 132/355 [11:04<17:35,  4.73s/it]Eval bleu for test set:  37%|███▋      | 133/355 [11:09<17:47,  4.81s/it]Eval bleu for test set:  38%|███▊      | 134/355 [11:13<17:42,  4.81s/it]Eval bleu for test set:  38%|███▊      | 135/355 [11:18<17:21,  4.74s/it]Eval bleu for test set:  38%|███▊      | 136/355 [11:22<16:58,  4.65s/it]Eval bleu for test set:  39%|███▊      | 137/355 [11:27<16:49,  4.63s/it]Eval bleu for test set:  39%|███▉      | 138/355 [11:32<16:38,  4.60s/it]Eval bleu for test set:  39%|███▉      | 139/355 [11:36<16:29,  4.58s/it]Eval bleu for test set:  39%|███▉      | 140/355 [11:41<16:31,  4.61s/it]Eval bleu for test set:  40%|███▉      | 141/355 [11:45<16:37,  4.66s/it]Eval bleu for test set:  40%|████      | 142/355 [11:50<16:12,  4.56s/it]Eval bleu for test set:  40%|████      | 143/355 [11:55<16:28,  4.66s/it]Eval bleu for test set:  41%|████      | 144/355 [12:00<16:32,  4.70s/it]Eval bleu for test set:  41%|████      | 145/355 [12:04<16:21,  4.67s/it]Eval bleu for test set:  41%|████      | 146/355 [12:09<16:17,  4.68s/it]Eval bleu for test set:  41%|████▏     | 147/355 [12:14<16:20,  4.71s/it]Eval bleu for test set:  42%|████▏     | 148/355 [12:18<16:16,  4.72s/it]Eval bleu for test set:  42%|████▏     | 149/355 [12:23<16:04,  4.68s/it]Eval bleu for test set:  42%|████▏     | 150/355 [12:28<16:07,  4.72s/it]Eval bleu for test set:  43%|████▎     | 151/355 [12:33<16:10,  4.76s/it]Eval bleu for test set:  43%|████▎     | 152/355 [12:37<16:00,  4.73s/it]Eval bleu for test set:  43%|████▎     | 153/355 [12:42<15:44,  4.67s/it]Eval bleu for test set:  43%|████▎     | 154/355 [12:47<15:43,  4.69s/it]Eval bleu for test set:  44%|████▎     | 155/355 [12:51<15:44,  4.72s/it]Eval bleu for test set:  44%|████▍     | 156/355 [12:55<14:21,  4.33s/it]Eval bleu for test set:  44%|████▍     | 157/355 [12:59<14:13,  4.31s/it]Eval bleu for test set:  45%|████▍     | 158/355 [13:04<14:38,  4.46s/it]Eval bleu for test set:  45%|████▍     | 159/355 [13:09<15:07,  4.63s/it]Eval bleu for test set:  45%|████▌     | 160/355 [13:13<14:28,  4.46s/it]Eval bleu for test set:  45%|████▌     | 161/355 [13:18<14:55,  4.61s/it]Eval bleu for test set:  46%|████▌     | 162/355 [13:23<15:04,  4.69s/it]Eval bleu for test set:  46%|████▌     | 163/355 [13:27<15:03,  4.70s/it]Eval bleu for test set:  46%|████▌     | 164/355 [13:32<15:06,  4.75s/it]Eval bleu for test set:  46%|████▋     | 165/355 [13:37<15:13,  4.81s/it]Eval bleu for test set:  47%|████▋     | 166/355 [13:42<14:55,  4.74s/it]Eval bleu for test set:  47%|████▋     | 167/355 [13:47<14:51,  4.74s/it]Eval bleu for test set:  47%|████▋     | 168/355 [13:51<14:42,  4.72s/it]Eval bleu for test set:  48%|████▊     | 169/355 [13:56<14:32,  4.69s/it]Eval bleu for test set:  48%|████▊     | 170/355 [14:01<14:37,  4.74s/it]Eval bleu for test set:  48%|████▊     | 171/355 [14:06<14:40,  4.78s/it]Eval bleu for test set:  48%|████▊     | 172/355 [14:09<13:38,  4.47s/it]Eval bleu for test set:  49%|████▊     | 173/355 [14:14<13:51,  4.57s/it]Eval bleu for test set:  49%|████▉     | 174/355 [14:19<13:59,  4.64s/it]Eval bleu for test set:  49%|████▉     | 175/355 [14:24<14:02,  4.68s/it]Eval bleu for test set:  50%|████▉     | 176/355 [14:29<14:04,  4.72s/it]Eval bleu for test set:  50%|████▉     | 177/355 [14:33<14:03,  4.74s/it]Eval bleu for test set:  50%|█████     | 178/355 [14:38<14:04,  4.77s/it]Eval bleu for test set:  50%|█████     | 179/355 [14:43<13:43,  4.68s/it]Eval bleu for test set:  51%|█████     | 180/355 [14:48<13:57,  4.78s/it]Eval bleu for test set:  51%|█████     | 181/355 [14:53<13:55,  4.80s/it]Eval bleu for test set:  51%|█████▏    | 182/355 [14:57<13:45,  4.77s/it]Eval bleu for test set:  52%|█████▏    | 183/355 [15:02<13:44,  4.80s/it]Eval bleu for test set:  52%|█████▏    | 184/355 [15:07<13:31,  4.74s/it]Eval bleu for test set:  52%|█████▏    | 185/355 [15:11<13:26,  4.74s/it]Eval bleu for test set:  52%|█████▏    | 186/355 [15:16<13:21,  4.74s/it]Eval bleu for test set:  53%|█████▎    | 187/355 [15:21<13:10,  4.70s/it]Eval bleu for test set:  53%|█████▎    | 188/355 [15:26<13:17,  4.78s/it]Eval bleu for test set:  53%|█████▎    | 189/355 [15:31<13:15,  4.79s/it]Eval bleu for test set:  54%|█████▎    | 190/355 [15:35<13:03,  4.75s/it]Eval bleu for test set:  54%|█████▍    | 191/355 [15:40<12:50,  4.70s/it]Eval bleu for test set:  54%|█████▍    | 192/355 [15:44<12:36,  4.64s/it]Eval bleu for test set:  54%|█████▍    | 193/355 [15:49<12:46,  4.73s/it]Eval bleu for test set:  55%|█████▍    | 194/355 [15:54<12:40,  4.73s/it]Eval bleu for test set:  55%|█████▍    | 195/355 [15:58<12:00,  4.50s/it]Eval bleu for test set:  55%|█████▌    | 196/355 [16:03<12:11,  4.60s/it]Eval bleu for test set:  55%|█████▌    | 197/355 [16:08<12:18,  4.68s/it]Eval bleu for test set:  56%|█████▌    | 198/355 [16:13<12:33,  4.80s/it]Eval bleu for test set:  56%|█████▌    | 199/355 [16:18<12:35,  4.84s/it]Eval bleu for test set:  56%|█████▋    | 200/355 [16:22<12:24,  4.80s/it]Eval bleu for test set:  57%|█████▋    | 201/355 [16:27<12:20,  4.81s/it]Eval bleu for test set:  57%|█████▋    | 202/355 [16:32<12:26,  4.88s/it]Eval bleu for test set:  57%|█████▋    | 203/355 [16:37<12:18,  4.86s/it]Eval bleu for test set:  57%|█████▋    | 204/355 [16:42<12:07,  4.81s/it]Eval bleu for test set:  58%|█████▊    | 205/355 [16:46<11:58,  4.79s/it]Eval bleu for test set:  58%|█████▊    | 206/355 [16:51<11:51,  4.77s/it]Eval bleu for test set:  58%|█████▊    | 207/355 [16:56<11:47,  4.78s/it]Eval bleu for test set:  59%|█████▊    | 208/355 [17:01<11:45,  4.80s/it]Eval bleu for test set:  59%|█████▉    | 209/355 [17:06<11:40,  4.80s/it]Eval bleu for test set:  59%|█████▉    | 210/355 [17:10<11:35,  4.80s/it]Eval bleu for test set:  59%|█████▉    | 211/355 [17:15<11:32,  4.81s/it]Eval bleu for test set:  60%|█████▉    | 212/355 [17:20<11:26,  4.80s/it]Eval bleu for test set:  60%|██████    | 213/355 [17:25<11:22,  4.81s/it]Eval bleu for test set:  60%|██████    | 214/355 [17:30<11:13,  4.78s/it]Eval bleu for test set:  61%|██████    | 215/355 [17:34<11:08,  4.77s/it]Eval bleu for test set:  61%|██████    | 216/355 [17:39<11:03,  4.77s/it]Eval bleu for test set:  61%|██████    | 217/355 [17:44<10:56,  4.76s/it]Eval bleu for test set:  61%|██████▏   | 218/355 [17:49<10:56,  4.79s/it]Eval bleu for test set:  62%|██████▏   | 219/355 [17:53<10:49,  4.77s/it]Eval bleu for test set:  62%|██████▏   | 220/355 [17:58<10:43,  4.77s/it]Eval bleu for test set:  62%|██████▏   | 221/355 [18:03<10:37,  4.76s/it]Eval bleu for test set:  63%|██████▎   | 222/355 [18:07<10:11,  4.60s/it]Eval bleu for test set:  63%|██████▎   | 223/355 [18:12<10:17,  4.68s/it]Eval bleu for test set:  63%|██████▎   | 224/355 [18:17<10:14,  4.69s/it]Eval bleu for test set:  63%|██████▎   | 225/355 [18:21<10:08,  4.68s/it]Eval bleu for test set:  64%|██████▎   | 226/355 [18:26<10:09,  4.73s/it]Eval bleu for test set:  64%|██████▍   | 227/355 [18:31<10:04,  4.72s/it]Eval bleu for test set:  64%|██████▍   | 228/355 [18:36<10:06,  4.78s/it]Eval bleu for test set:  65%|██████▍   | 229/355 [18:41<10:02,  4.78s/it]Eval bleu for test set:  65%|██████▍   | 230/355 [18:45<09:54,  4.76s/it]Eval bleu for test set:  65%|██████▌   | 231/355 [18:50<09:51,  4.77s/it]Eval bleu for test set:  65%|██████▌   | 232/355 [18:55<09:44,  4.75s/it]Eval bleu for test set:  66%|██████▌   | 233/355 [19:00<09:47,  4.82s/it]Eval bleu for test set:  66%|██████▌   | 234/355 [19:05<09:43,  4.82s/it]Eval bleu for test set:  66%|██████▌   | 235/355 [19:10<09:39,  4.83s/it]Eval bleu for test set:  66%|██████▋   | 236/355 [19:14<09:32,  4.81s/it]Eval bleu for test set:  67%|██████▋   | 237/355 [19:19<09:30,  4.83s/it]Eval bleu for test set:  67%|██████▋   | 238/355 [19:24<09:27,  4.85s/it]Eval bleu for test set:  67%|██████▋   | 239/355 [19:29<09:24,  4.87s/it]Eval bleu for test set:  68%|██████▊   | 240/355 [19:34<09:18,  4.86s/it]Eval bleu for test set:  68%|██████▊   | 241/355 [19:38<09:07,  4.80s/it]Eval bleu for test set:  68%|██████▊   | 242/355 [19:43<08:57,  4.75s/it]Eval bleu for test set:  68%|██████▊   | 243/355 [19:48<08:56,  4.79s/it]Eval bleu for test set:  69%|██████▊   | 244/355 [19:53<08:49,  4.77s/it]Eval bleu for test set:  69%|██████▉   | 245/355 [19:58<08:46,  4.79s/it]Eval bleu for test set:  69%|██████▉   | 246/355 [20:02<08:41,  4.79s/it]Eval bleu for test set:  70%|██████▉   | 247/355 [20:07<08:39,  4.81s/it]Eval bleu for test set:  70%|██████▉   | 248/355 [20:12<08:38,  4.84s/it]Eval bleu for test set:  70%|███████   | 249/355 [20:17<08:32,  4.83s/it]Eval bleu for test set:  70%|███████   | 250/355 [20:22<08:23,  4.80s/it]Eval bleu for test set:  71%|███████   | 251/355 [20:26<08:16,  4.78s/it]Eval bleu for test set:  71%|███████   | 252/355 [20:31<08:13,  4.80s/it]Eval bleu for test set:  71%|███████▏  | 253/355 [20:36<08:06,  4.77s/it]Eval bleu for test set:  72%|███████▏  | 254/355 [20:40<07:47,  4.63s/it]Eval bleu for test set:  72%|███████▏  | 255/355 [20:45<07:44,  4.64s/it]Eval bleu for test set:  72%|███████▏  | 256/355 [20:50<07:42,  4.68s/it]Eval bleu for test set:  72%|███████▏  | 257/355 [20:54<07:36,  4.65s/it]Eval bleu for test set:  73%|███████▎  | 258/355 [20:59<07:31,  4.65s/it]Eval bleu for test set:  73%|███████▎  | 259/355 [21:03<07:23,  4.62s/it]Eval bleu for test set:  73%|███████▎  | 260/355 [21:08<07:21,  4.65s/it]Eval bleu for test set:  74%|███████▎  | 261/355 [21:13<07:24,  4.73s/it]Eval bleu for test set:  74%|███████▍  | 262/355 [21:18<07:18,  4.71s/it]Eval bleu for test set:  74%|███████▍  | 263/355 [21:22<07:14,  4.72s/it]Eval bleu for test set:  74%|███████▍  | 264/355 [21:27<07:02,  4.65s/it]Eval bleu for test set:  75%|███████▍  | 265/355 [21:32<06:59,  4.66s/it]Eval bleu for test set:  75%|███████▍  | 266/355 [21:36<06:55,  4.67s/it]Eval bleu for test set:  75%|███████▌  | 267/355 [21:41<06:45,  4.61s/it]Eval bleu for test set:  75%|███████▌  | 268/355 [21:46<06:46,  4.68s/it]Eval bleu for test set:  76%|███████▌  | 269/355 [21:50<06:44,  4.70s/it]Eval bleu for test set:  76%|███████▌  | 270/355 [21:55<06:25,  4.53s/it]Eval bleu for test set:  76%|███████▋  | 271/355 [21:59<06:27,  4.61s/it]Eval bleu for test set:  77%|███████▋  | 272/355 [22:04<06:26,  4.66s/it]Eval bleu for test set:  77%|███████▋  | 273/355 [22:09<06:22,  4.67s/it]Eval bleu for test set:  77%|███████▋  | 274/355 [22:13<06:18,  4.68s/it]Eval bleu for test set:  77%|███████▋  | 275/355 [22:18<06:15,  4.69s/it]Eval bleu for test set:  78%|███████▊  | 276/355 [22:22<05:54,  4.49s/it]Eval bleu for test set:  78%|███████▊  | 277/355 [22:27<05:52,  4.52s/it]Eval bleu for test set:  78%|███████▊  | 278/355 [22:32<06:00,  4.69s/it]Eval bleu for test set:  79%|███████▊  | 279/355 [22:37<05:58,  4.71s/it]Eval bleu for test set:  79%|███████▉  | 280/355 [22:41<05:52,  4.70s/it]Eval bleu for test set:  79%|███████▉  | 281/355 [22:46<05:48,  4.71s/it]Eval bleu for test set:  79%|███████▉  | 282/355 [22:51<05:43,  4.71s/it]Eval bleu for test set:  80%|███████▉  | 283/355 [22:55<05:38,  4.70s/it]Eval bleu for test set:  80%|████████  | 284/355 [23:00<05:37,  4.75s/it]Eval bleu for test set:  80%|████████  | 285/355 [23:05<05:34,  4.77s/it]Eval bleu for test set:  81%|████████  | 286/355 [23:10<05:29,  4.78s/it]Eval bleu for test set:  81%|████████  | 287/355 [23:15<05:20,  4.72s/it]Eval bleu for test set:  81%|████████  | 288/355 [23:19<05:17,  4.73s/it]Eval bleu for test set:  81%|████████▏ | 289/355 [23:23<04:48,  4.37s/it]Eval bleu for test set:  82%|████████▏ | 290/355 [23:28<04:52,  4.50s/it]Eval bleu for test set:  82%|████████▏ | 291/355 [23:32<04:50,  4.54s/it]Eval bleu for test set:  82%|████████▏ | 292/355 [23:37<04:51,  4.62s/it]Eval bleu for test set:  83%|████████▎ | 293/355 [23:42<04:48,  4.66s/it]Eval bleu for test set:  83%|████████▎ | 294/355 [23:46<04:44,  4.66s/it]Eval bleu for test set:  83%|████████▎ | 295/355 [23:51<04:40,  4.68s/it]Eval bleu for test set:  83%|████████▎ | 296/355 [23:56<04:39,  4.73s/it]Eval bleu for test set:  84%|████████▎ | 297/355 [24:01<04:34,  4.74s/it]Eval bleu for test set:  84%|████████▍ | 298/355 [24:05<04:21,  4.59s/it]Eval bleu for test set:  84%|████████▍ | 299/355 [24:10<04:19,  4.63s/it]Eval bleu for test set:  85%|████████▍ | 300/355 [24:15<04:16,  4.67s/it]Eval bleu for test set:  85%|████████▍ | 301/355 [24:19<04:15,  4.74s/it]Eval bleu for test set:  85%|████████▌ | 302/355 [24:24<04:13,  4.78s/it]Eval bleu for test set:  85%|████████▌ | 303/355 [24:29<04:06,  4.75s/it]Eval bleu for test set:  86%|████████▌ | 304/355 [24:34<04:04,  4.79s/it]Eval bleu for test set:  86%|████████▌ | 305/355 [24:39<03:58,  4.77s/it]Eval bleu for test set:  86%|████████▌ | 306/355 [24:43<03:53,  4.76s/it]Eval bleu for test set:  86%|████████▋ | 307/355 [24:48<03:49,  4.78s/it]Eval bleu for test set:  87%|████████▋ | 308/355 [24:53<03:43,  4.76s/it]Eval bleu for test set:  87%|████████▋ | 309/355 [24:58<03:38,  4.76s/it]Eval bleu for test set:  87%|████████▋ | 310/355 [25:02<03:31,  4.70s/it]Eval bleu for test set:  88%|████████▊ | 311/355 [25:07<03:28,  4.75s/it]Eval bleu for test set:  88%|████████▊ | 312/355 [25:12<03:25,  4.79s/it]Eval bleu for test set:  88%|████████▊ | 313/355 [25:17<03:21,  4.79s/it]Eval bleu for test set:  88%|████████▊ | 314/355 [25:22<03:16,  4.80s/it]Eval bleu for test set:  89%|████████▊ | 315/355 [25:26<03:11,  4.79s/it]Eval bleu for test set:  89%|████████▉ | 316/355 [25:31<03:09,  4.85s/it]Eval bleu for test set:  89%|████████▉ | 317/355 [25:36<03:03,  4.82s/it]Eval bleu for test set:  90%|████████▉ | 318/355 [25:40<02:53,  4.70s/it]Eval bleu for test set:  90%|████████▉ | 319/355 [25:45<02:49,  4.70s/it]Eval bleu for test set:  90%|█████████ | 320/355 [25:50<02:44,  4.69s/it]Eval bleu for test set:  90%|█████████ | 321/355 [25:55<02:41,  4.75s/it]Eval bleu for test set:  91%|█████████ | 322/355 [25:59<02:35,  4.71s/it]Eval bleu for test set:  91%|█████████ | 323/355 [26:04<02:31,  4.73s/it]Eval bleu for test set:  91%|█████████▏| 324/355 [26:09<02:26,  4.74s/it]Eval bleu for test set:  92%|█████████▏| 325/355 [26:14<02:22,  4.77s/it]Eval bleu for test set:  92%|█████████▏| 326/355 [26:18<02:17,  4.73s/it]Eval bleu for test set:  92%|█████████▏| 327/355 [26:23<02:10,  4.65s/it]Eval bleu for test set:  92%|█████████▏| 328/355 [26:28<02:06,  4.70s/it]Eval bleu for test set:  93%|█████████▎| 329/355 [26:33<02:04,  4.79s/it]Eval bleu for test set:  93%|█████████▎| 330/355 [26:38<02:03,  4.92s/it]Eval bleu for test set:  93%|█████████▎| 331/355 [26:43<02:01,  5.04s/it]Eval bleu for test set:  94%|█████████▎| 332/355 [26:49<01:58,  5.13s/it]Eval bleu for test set:  94%|█████████▍| 333/355 [26:54<01:54,  5.22s/it]Eval bleu for test set:  94%|█████████▍| 334/355 [26:59<01:50,  5.26s/it]Eval bleu for test set:  94%|█████████▍| 335/355 [27:05<01:44,  5.25s/it]Eval bleu for test set:  95%|█████████▍| 336/355 [27:08<01:31,  4.83s/it]Eval bleu for test set:  95%|█████████▍| 337/355 [27:13<01:25,  4.72s/it]Eval bleu for test set:  95%|█████████▌| 338/355 [27:18<01:23,  4.92s/it]Eval bleu for test set:  95%|█████████▌| 339/355 [27:24<01:20,  5.02s/it]Eval bleu for test set:  96%|█████████▌| 340/355 [27:29<01:17,  5.14s/it]Eval bleu for test set:  96%|█████████▌| 341/355 [27:34<01:12,  5.20s/it]Eval bleu for test set:  96%|█████████▋| 342/355 [27:40<01:08,  5.27s/it]Eval bleu for test set:  97%|█████████▋| 343/355 [27:45<01:03,  5.31s/it]Eval bleu for test set:  97%|█████████▋| 344/355 [27:50<00:58,  5.29s/it]Eval bleu for test set:  97%|█████████▋| 345/355 [27:55<00:51,  5.11s/it]Eval bleu for test set:  97%|█████████▋| 346/355 [27:59<00:44,  4.89s/it]Eval bleu for test set:  98%|█████████▊| 347/355 [28:05<00:40,  5.05s/it]Eval bleu for test set:  98%|█████████▊| 348/355 [28:10<00:35,  5.14s/it]Eval bleu for test set:  98%|█████████▊| 349/355 [28:16<00:31,  5.22s/it]Eval bleu for test set:  99%|█████████▊| 350/355 [28:20<00:24,  4.90s/it]Eval bleu for test set:  99%|█████████▉| 351/355 [28:25<00:19,  4.99s/it]Eval bleu for test set:  99%|█████████▉| 352/355 [28:30<00:15,  5.07s/it]Eval bleu for test set:  99%|█████████▉| 353/355 [28:35<00:10,  5.10s/it]Eval bleu for test set: 100%|█████████▉| 354/355 [28:41<00:05,  5.15s/it]Eval bleu for test set: 100%|██████████| 355/355 [28:45<00:00,  4.88s/it]Eval bleu for test set: 100%|██████████| 355/355 [28:45<00:00,  4.86s/it]
11/13/2022 00:57:22 - INFO - __main__ -   ***** Eval results *****
11/13/2022 00:57:22 - INFO - __main__ -     bleu = 79.91
11/13/2022 00:57:22 - INFO - __main__ -     codebleu = 80.7616
11/13/2022 00:57:22 - INFO - __main__ -     em = 25.2379
11/13/2022 00:57:22 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typemethod_renaming + whether_refactoringbefore_refactoring :
11/13/2022 00:57:22 - INFO - __main__ -   [best-bleu] bleu-4: 79.91, em: 25.2379, codebleu: 80.7616

11/13/2022 00:57:22 - INFO - __main__ -   Finish and take 35m
11/13/2022 00:57:22 - INFO - __main__ -     ***** Testing *****
11/13/2022 00:57:22 - INFO - __main__ -     Batch size = 16
11/13/2022 00:57:22 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 00:57:22 - INFO - __main__ -   test11111111111
11/13/2022 00:57:22 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 00:57:22 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/method_renaming/after_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/method_renaming/after_refactoring/small/test.buggy-fixed.fixed
11/13/2022 00:57:22 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 00:57:22 - INFO - utils -   Read 5674 examples, avg src len: 32, avg trg len: 29, max src len: 93, max trg len: 129
11/13/2022 00:57:22 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/test_src_all.pt
11/13/2022 00:57:22 - INFO - utils -   加载前test666666666666666
ngram match: 0.7991462565438557, weighted ngram match: 0.8048631941995725, syntax_match: 0.8227227451915657, dataflow_match: 0.80373126561199
  0%|          | 0/5674 [00:00<?, ?it/s] 50%|█████     | 2838/5674 [00:01<00:01, 1757.34it/s] 75%|███████▌  | 4257/5674 [00:03<00:01, 1265.50it/s]100%|██████████| 5674/5674 [00:03<00:00, 1786.41it/s]
11/13/2022 00:57:29 - INFO - utils -   加载后test77777777777777
11/13/2022 00:57:29 - INFO - __main__ -   加载成功test2222222222
11/13/2022 00:57:29 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 00:57:29 - INFO - __main__ -     Num examples = 5674
11/13/2022 00:57:29 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/355 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/355 [00:05<29:42,  5.04s/it]Eval bleu for test set:   1%|          | 2/355 [00:09<28:56,  4.92s/it]Eval bleu for test set:   1%|          | 3/355 [00:14<28:54,  4.93s/it]Eval bleu for test set:   1%|          | 4/355 [00:20<29:42,  5.08s/it]Eval bleu for test set:   1%|▏         | 5/355 [00:25<30:16,  5.19s/it]Eval bleu for test set:   2%|▏         | 6/355 [00:30<30:36,  5.26s/it]Eval bleu for test set:   2%|▏         | 7/355 [00:36<30:21,  5.23s/it]Eval bleu for test set:   2%|▏         | 8/355 [00:41<30:23,  5.25s/it]Eval bleu for test set:   3%|▎         | 9/355 [00:46<30:30,  5.29s/it]Eval bleu for test set:   3%|▎         | 10/355 [00:51<29:38,  5.15s/it]Eval bleu for test set:   3%|▎         | 11/355 [00:56<28:55,  5.05s/it]Eval bleu for test set:   3%|▎         | 12/355 [01:01<28:50,  5.05s/it]Eval bleu for test set:   4%|▎         | 13/355 [01:06<29:20,  5.15s/it]Eval bleu for test set:   4%|▍         | 14/355 [01:12<29:47,  5.24s/it]Eval bleu for test set:   4%|▍         | 15/355 [01:17<29:58,  5.29s/it]Eval bleu for test set:   5%|▍         | 16/355 [01:22<29:51,  5.28s/it]Eval bleu for test set:   5%|▍         | 17/355 [01:28<29:57,  5.32s/it]Eval bleu for test set:   5%|▌         | 18/355 [01:33<29:47,  5.30s/it]Eval bleu for test set:   5%|▌         | 19/355 [01:38<29:06,  5.20s/it]Eval bleu for test set:   6%|▌         | 20/355 [01:43<28:29,  5.10s/it]Eval bleu for test set:   6%|▌         | 21/355 [01:47<27:03,  4.86s/it]Eval bleu for test set:   6%|▌         | 22/355 [01:53<27:49,  5.01s/it]Eval bleu for test set:   6%|▋         | 23/355 [01:57<26:54,  4.86s/it]Eval bleu for test set:   7%|▋         | 24/355 [02:02<27:34,  5.00s/it]Eval bleu for test set:   7%|▋         | 25/355 [02:08<27:56,  5.08s/it]Eval bleu for test set:   7%|▋         | 26/355 [02:13<28:08,  5.13s/it]Eval bleu for test set:   8%|▊         | 27/355 [02:18<28:18,  5.18s/it]Eval bleu for test set:   8%|▊         | 28/355 [02:24<28:27,  5.22s/it]Eval bleu for test set:   8%|▊         | 29/355 [02:29<28:20,  5.22s/it]Eval bleu for test set:   8%|▊         | 30/355 [02:34<28:32,  5.27s/it]Eval bleu for test set:   9%|▊         | 31/355 [02:39<27:34,  5.11s/it]Eval bleu for test set:   9%|▉         | 32/355 [02:44<27:53,  5.18s/it]Eval bleu for test set:   9%|▉         | 33/355 [02:49<27:53,  5.20s/it]Eval bleu for test set:  10%|▉         | 34/355 [02:55<28:11,  5.27s/it]Eval bleu for test set:  10%|▉         | 35/355 [03:00<28:25,  5.33s/it]Eval bleu for test set:  10%|█         | 36/355 [03:06<28:23,  5.34s/it]Eval bleu for test set:  10%|█         | 37/355 [03:11<28:00,  5.28s/it]Eval bleu for test set:  11%|█         | 38/355 [03:16<27:56,  5.29s/it]Eval bleu for test set:  11%|█         | 39/355 [03:21<27:49,  5.28s/it]Eval bleu for test set:  11%|█▏        | 40/355 [03:27<27:51,  5.31s/it]Eval bleu for test set:  12%|█▏        | 41/355 [03:32<27:43,  5.30s/it]Eval bleu for test set:  12%|█▏        | 42/355 [03:36<25:42,  4.93s/it]Eval bleu for test set:  12%|█▏        | 43/355 [03:41<25:37,  4.93s/it]Eval bleu for test set:  12%|█▏        | 44/355 [03:46<26:07,  5.04s/it]Eval bleu for test set:  13%|█▎        | 45/355 [03:52<26:27,  5.12s/it]Eval bleu for test set:  13%|█▎        | 46/355 [03:57<26:21,  5.12s/it]Eval bleu for test set:  13%|█▎        | 47/355 [04:02<26:39,  5.19s/it]Eval bleu for test set:  14%|█▎        | 48/355 [04:08<27:02,  5.28s/it]Eval bleu for test set:  14%|█▍        | 49/355 [04:13<26:58,  5.29s/it]Eval bleu for test set:  14%|█▍        | 50/355 [04:18<27:08,  5.34s/it]Eval bleu for test set:  14%|█▍        | 51/355 [04:24<26:48,  5.29s/it]Eval bleu for test set:  15%|█▍        | 52/355 [04:29<26:47,  5.31s/it]Eval bleu for test set:  15%|█▍        | 53/355 [04:34<26:01,  5.17s/it]Eval bleu for test set:  15%|█▌        | 54/355 [04:39<25:57,  5.17s/it]Eval bleu for test set:  15%|█▌        | 55/355 [04:44<25:46,  5.16s/it]Eval bleu for test set:  16%|█▌        | 56/355 [04:49<25:50,  5.19s/it]Eval bleu for test set:  16%|█▌        | 57/355 [04:55<26:06,  5.26s/it]Eval bleu for test set:  16%|█▋        | 58/355 [05:00<26:12,  5.29s/it]Eval bleu for test set:  17%|█▋        | 59/355 [05:05<26:00,  5.27s/it]Eval bleu for test set:  17%|█▋        | 60/355 [05:11<25:52,  5.26s/it]Eval bleu for test set:  17%|█▋        | 61/355 [05:16<25:58,  5.30s/it]Eval bleu for test set:  17%|█▋        | 62/355 [05:21<25:49,  5.29s/it]Eval bleu for test set:  18%|█▊        | 63/355 [05:27<25:52,  5.32s/it]Eval bleu for test set:  18%|█▊        | 64/355 [05:31<24:53,  5.13s/it]Eval bleu for test set:  18%|█▊        | 65/355 [05:37<25:00,  5.17s/it]Eval bleu for test set:  19%|█▊        | 66/355 [05:42<24:53,  5.17s/it]Eval bleu for test set:  19%|█▉        | 67/355 [05:47<24:52,  5.18s/it]Eval bleu for test set:  19%|█▉        | 68/355 [05:52<25:02,  5.23s/it]Eval bleu for test set:  19%|█▉        | 69/355 [05:58<24:46,  5.20s/it]Eval bleu for test set:  20%|█▉        | 70/355 [06:03<25:09,  5.29s/it]Eval bleu for test set:  20%|██        | 71/355 [06:08<25:10,  5.32s/it]Eval bleu for test set:  20%|██        | 72/355 [06:14<24:56,  5.29s/it]Eval bleu for test set:  21%|██        | 73/355 [06:19<24:34,  5.23s/it]Eval bleu for test set:  21%|██        | 74/355 [06:24<24:30,  5.23s/it]Eval bleu for test set:  21%|██        | 75/355 [06:29<24:40,  5.29s/it]Eval bleu for test set:  21%|██▏       | 76/355 [06:35<24:29,  5.27s/it]Eval bleu for test set:  22%|██▏       | 77/355 [06:40<24:13,  5.23s/it]Eval bleu for test set:  22%|██▏       | 78/355 [06:45<24:33,  5.32s/it]Eval bleu for test set:  22%|██▏       | 79/355 [06:50<24:19,  5.29s/it]Eval bleu for test set:  23%|██▎       | 80/355 [06:55<23:12,  5.06s/it]Eval bleu for test set:  23%|██▎       | 81/355 [07:00<23:39,  5.18s/it]Eval bleu for test set:  23%|██▎       | 82/355 [07:06<23:34,  5.18s/it]Eval bleu for test set:  23%|██▎       | 83/355 [07:11<23:33,  5.20s/it]Eval bleu for test set:  24%|██▎       | 84/355 [07:16<23:43,  5.25s/it]Eval bleu for test set:  24%|██▍       | 85/355 [07:21<23:04,  5.13s/it]Eval bleu for test set:  24%|██▍       | 86/355 [07:26<22:39,  5.05s/it]Eval bleu for test set:  25%|██▍       | 87/355 [07:31<22:17,  4.99s/it]Eval bleu for test set:  25%|██▍       | 88/355 [07:36<22:01,  4.95s/it]Eval bleu for test set:  25%|██▌       | 89/355 [07:40<21:46,  4.91s/it]Eval bleu for test set:  25%|██▌       | 90/355 [07:45<21:28,  4.86s/it]Eval bleu for test set:  26%|██▌       | 91/355 [07:50<21:08,  4.81s/it]Eval bleu for test set:  26%|██▌       | 92/355 [07:55<20:55,  4.77s/it]Eval bleu for test set:  26%|██▌       | 93/355 [07:59<20:50,  4.77s/it]Eval bleu for test set:  26%|██▋       | 94/355 [08:04<20:42,  4.76s/it]Eval bleu for test set:  27%|██▋       | 95/355 [08:09<20:47,  4.80s/it]Eval bleu for test set:  27%|██▋       | 96/355 [08:14<20:43,  4.80s/it]Eval bleu for test set:  27%|██▋       | 97/355 [08:19<20:36,  4.79s/it]Eval bleu for test set:  28%|██▊       | 98/355 [08:23<19:32,  4.56s/it]Eval bleu for test set:  28%|██▊       | 99/355 [08:27<19:35,  4.59s/it]Eval bleu for test set:  28%|██▊       | 100/355 [08:32<19:42,  4.64s/it]Eval bleu for test set:  28%|██▊       | 101/355 [08:37<19:46,  4.67s/it]Eval bleu for test set:  29%|██▊       | 102/355 [08:42<19:55,  4.73s/it]Eval bleu for test set:  29%|██▉       | 103/355 [08:46<19:51,  4.73s/it]Eval bleu for test set:  29%|██▉       | 104/355 [08:51<19:42,  4.71s/it]Eval bleu for test set:  30%|██▉       | 105/355 [08:56<19:34,  4.70s/it]Eval bleu for test set:  30%|██▉       | 106/355 [09:00<19:28,  4.69s/it]Eval bleu for test set:  30%|███       | 107/355 [09:05<19:33,  4.73s/it]Eval bleu for test set:  30%|███       | 108/355 [09:10<19:31,  4.74s/it]Eval bleu for test set:  31%|███       | 109/355 [09:15<19:25,  4.74s/it]Eval bleu for test set:  31%|███       | 110/355 [09:19<19:17,  4.73s/it]Eval bleu for test set:  31%|███▏      | 111/355 [09:23<18:11,  4.47s/it]Eval bleu for test set:  32%|███▏      | 112/355 [09:28<18:32,  4.58s/it]Eval bleu for test set:  32%|███▏      | 113/355 [09:33<18:52,  4.68s/it]Eval bleu for test set:  32%|███▏      | 114/355 [09:38<18:53,  4.70s/it]Eval bleu for test set:  32%|███▏      | 115/355 [09:42<18:45,  4.69s/it]Eval bleu for test set:  33%|███▎      | 116/355 [09:47<18:51,  4.73s/it]Eval bleu for test set:  33%|███▎      | 117/355 [09:52<18:55,  4.77s/it]Eval bleu for test set:  33%|███▎      | 118/355 [09:57<18:52,  4.78s/it]Eval bleu for test set:  34%|███▎      | 119/355 [10:02<18:42,  4.76s/it]Eval bleu for test set:  34%|███▍      | 120/355 [10:06<18:40,  4.77s/it]Eval bleu for test set:  34%|███▍      | 121/355 [10:11<18:23,  4.71s/it]Eval bleu for test set:  34%|███▍      | 122/355 [10:16<18:14,  4.70s/it]Eval bleu for test set:  35%|███▍      | 123/355 [10:20<18:16,  4.73s/it]Eval bleu for test set:  35%|███▍      | 124/355 [10:25<18:28,  4.80s/it]Eval bleu for test set:  35%|███▌      | 125/355 [10:30<18:21,  4.79s/it]Eval bleu for test set:  35%|███▌      | 126/355 [10:35<18:08,  4.75s/it]Eval bleu for test set:  36%|███▌      | 127/355 [10:39<16:57,  4.46s/it]Eval bleu for test set:  36%|███▌      | 128/355 [10:43<17:08,  4.53s/it]Eval bleu for test set:  36%|███▋      | 129/355 [10:48<17:23,  4.62s/it]Eval bleu for test set:  37%|███▋      | 130/355 [10:53<17:22,  4.63s/it]Eval bleu for test set:  37%|███▋      | 131/355 [10:58<17:28,  4.68s/it]Eval bleu for test set:  37%|███▋      | 132/355 [11:02<17:32,  4.72s/it]Eval bleu for test set:  37%|███▋      | 133/355 [11:07<17:44,  4.79s/it]Eval bleu for test set:  38%|███▊      | 134/355 [11:12<17:40,  4.80s/it]Eval bleu for test set:  38%|███▊      | 135/355 [11:17<17:14,  4.70s/it]Eval bleu for test set:  38%|███▊      | 136/355 [11:21<16:59,  4.65s/it]Eval bleu for test set:  39%|███▊      | 137/355 [11:26<16:49,  4.63s/it]Eval bleu for test set:  39%|███▉      | 138/355 [11:30<16:36,  4.59s/it]Eval bleu for test set:  39%|███▉      | 139/355 [11:35<16:26,  4.57s/it]Eval bleu for test set:  39%|███▉      | 140/355 [11:39<16:27,  4.59s/it]Eval bleu for test set:  40%|███▉      | 141/355 [11:44<16:35,  4.65s/it]Eval bleu for test set:  40%|████      | 142/355 [11:48<16:01,  4.52s/it]Eval bleu for test set:  40%|████      | 143/355 [11:53<16:20,  4.62s/it]Eval bleu for test set:  41%|████      | 144/355 [11:58<16:25,  4.67s/it]Eval bleu for test set:  41%|████      | 145/355 [12:03<16:14,  4.64s/it]Eval bleu for test set:  41%|████      | 146/355 [12:07<16:09,  4.64s/it]Eval bleu for test set:  41%|████▏     | 147/355 [12:12<16:09,  4.66s/it]Eval bleu for test set:  42%|████▏     | 148/355 [12:17<16:08,  4.68s/it]Eval bleu for test set:  42%|████▏     | 149/355 [12:21<15:57,  4.65s/it]Eval bleu for test set:  42%|████▏     | 150/355 [12:26<16:01,  4.69s/it]Eval bleu for test set:  43%|████▎     | 151/355 [12:31<16:04,  4.73s/it]Eval bleu for test set:  43%|████▎     | 152/355 [12:36<15:57,  4.72s/it]Eval bleu for test set:  43%|████▎     | 153/355 [12:40<15:47,  4.69s/it]Eval bleu for test set:  43%|████▎     | 154/355 [12:45<15:43,  4.69s/it]Eval bleu for test set:  44%|████▎     | 155/355 [12:50<15:40,  4.70s/it]Eval bleu for test set:  44%|████▍     | 156/355 [12:53<14:22,  4.34s/it]Eval bleu for test set:  44%|████▍     | 157/355 [12:58<14:47,  4.48s/it]Eval bleu for test set:  45%|████▍     | 158/355 [13:03<15:00,  4.57s/it]Eval bleu for test set:  45%|████▍     | 159/355 [13:08<15:22,  4.71s/it]Eval bleu for test set:  45%|████▌     | 160/355 [13:12<14:40,  4.51s/it]Eval bleu for test set:  45%|████▌     | 161/355 [13:17<15:01,  4.65s/it]Eval bleu for test set:  46%|████▌     | 162/355 [13:22<15:09,  4.71s/it]Eval bleu for test set:  46%|████▌     | 163/355 [13:26<15:05,  4.72s/it]Eval bleu for test set:  46%|████▌     | 164/355 [13:31<15:07,  4.75s/it]Eval bleu for test set:  46%|████▋     | 165/355 [13:36<15:15,  4.82s/it]Eval bleu for test set:  47%|████▋     | 166/355 [13:41<14:56,  4.75s/it]Eval bleu for test set:  47%|████▋     | 167/355 [13:46<14:52,  4.75s/it]Eval bleu for test set:  47%|████▋     | 168/355 [13:50<14:43,  4.72s/it]Eval bleu for test set:  48%|████▊     | 169/355 [13:55<14:18,  4.62s/it]Eval bleu for test set:  48%|████▊     | 170/355 [13:59<14:29,  4.70s/it]Eval bleu for test set:  48%|████▊     | 171/355 [14:04<14:33,  4.75s/it]Eval bleu for test set:  48%|████▊     | 172/355 [14:09<14:24,  4.72s/it]Eval bleu for test set:  49%|████▊     | 173/355 [14:14<14:21,  4.73s/it]Eval bleu for test set:  49%|████▉     | 174/355 [14:19<14:19,  4.75s/it]Eval bleu for test set:  49%|████▉     | 175/355 [14:23<14:15,  4.75s/it]Eval bleu for test set:  50%|████▉     | 176/355 [14:28<14:10,  4.75s/it]Eval bleu for test set:  50%|████▉     | 177/355 [14:33<14:05,  4.75s/it]Eval bleu for test set:  50%|█████     | 178/355 [14:38<14:04,  4.77s/it]Eval bleu for test set:  50%|█████     | 179/355 [14:42<13:51,  4.73s/it]Eval bleu for test set:  51%|█████     | 180/355 [14:47<13:59,  4.80s/it]Eval bleu for test set:  51%|█████     | 181/355 [14:52<13:55,  4.80s/it]Eval bleu for test set:  51%|█████▏    | 182/355 [14:57<13:47,  4.78s/it]Eval bleu for test set:  52%|█████▏    | 183/355 [15:02<13:45,  4.80s/it]Eval bleu for test set:  52%|█████▏    | 184/355 [15:06<13:30,  4.74s/it]Eval bleu for test set:  52%|█████▏    | 185/355 [15:11<13:22,  4.72s/it]Eval bleu for test set:  52%|█████▏    | 186/355 [15:16<13:20,  4.74s/it]Eval bleu for test set:  53%|█████▎    | 187/355 [15:20<13:08,  4.70s/it]Eval bleu for test set:  53%|█████▎    | 188/355 [15:25<13:15,  4.76s/it]Eval bleu for test set:  53%|█████▎    | 189/355 [15:30<13:09,  4.76s/it]Eval bleu for test set:  54%|█████▎    | 190/355 [15:34<12:53,  4.69s/it]Eval bleu for test set:  54%|█████▍    | 191/355 [15:40<13:09,  4.82s/it]Eval bleu for test set:  54%|█████▍    | 192/355 [15:45<13:18,  4.90s/it]Eval bleu for test set:  54%|█████▍    | 193/355 [15:50<13:42,  5.07s/it]Eval bleu for test set:  55%|█████▍    | 194/355 [15:55<13:44,  5.12s/it]Eval bleu for test set:  55%|█████▍    | 195/355 [16:00<13:07,  4.92s/it]Eval bleu for test set:  55%|█████▌    | 196/355 [16:05<13:21,  5.04s/it]Eval bleu for test set:  55%|█████▌    | 197/355 [16:10<13:32,  5.15s/it]Eval bleu for test set:  56%|█████▌    | 198/355 [16:16<13:52,  5.30s/it]Eval bleu for test set:  56%|█████▌    | 199/355 [16:22<13:57,  5.37s/it]Eval bleu for test set:  56%|█████▋    | 200/355 [16:27<13:46,  5.33s/it]Eval bleu for test set:  57%|█████▋    | 201/355 [16:32<13:40,  5.33s/it]Eval bleu for test set:  57%|█████▋    | 202/355 [16:38<13:49,  5.42s/it]Eval bleu for test set:  57%|█████▋    | 203/355 [16:43<13:40,  5.40s/it]Eval bleu for test set:  57%|█████▋    | 204/355 [16:49<13:29,  5.36s/it]Eval bleu for test set:  58%|█████▊    | 205/355 [16:54<13:18,  5.33s/it]Eval bleu for test set:  58%|█████▊    | 206/355 [16:59<13:11,  5.31s/it]Eval bleu for test set:  58%|█████▊    | 207/355 [17:04<13:05,  5.31s/it]Eval bleu for test set:  59%|█████▊    | 208/355 [17:10<13:04,  5.34s/it]Eval bleu for test set:  59%|█████▉    | 209/355 [17:15<12:57,  5.33s/it]Eval bleu for test set:  59%|█████▉    | 210/355 [17:20<12:55,  5.35s/it]Eval bleu for test set:  59%|█████▉    | 211/355 [17:26<12:53,  5.37s/it]Eval bleu for test set:  60%|█████▉    | 212/355 [17:31<12:43,  5.34s/it]Eval bleu for test set:  60%|██████    | 213/355 [17:36<12:39,  5.35s/it]Eval bleu for test set:  60%|██████    | 214/355 [17:42<12:29,  5.32s/it]Eval bleu for test set:  61%|██████    | 215/355 [17:47<12:23,  5.31s/it]Eval bleu for test set:  61%|██████    | 216/355 [17:52<12:20,  5.32s/it]Eval bleu for test set:  61%|██████    | 217/355 [17:58<12:11,  5.30s/it]Eval bleu for test set:  61%|██████▏   | 218/355 [18:03<12:12,  5.35s/it]Eval bleu for test set:  62%|██████▏   | 219/355 [18:08<12:02,  5.32s/it]Eval bleu for test set:  62%|██████▏   | 220/355 [18:14<11:56,  5.31s/it]Eval bleu for test set:  62%|██████▏   | 221/355 [18:19<11:49,  5.30s/it]Eval bleu for test set:  63%|██████▎   | 222/355 [18:24<11:22,  5.13s/it]Eval bleu for test set:  63%|██████▎   | 223/355 [18:29<11:27,  5.21s/it]Eval bleu for test set:  63%|██████▎   | 224/355 [18:34<11:23,  5.22s/it]Eval bleu for test set:  63%|██████▎   | 225/355 [18:39<11:15,  5.20s/it]Eval bleu for test set:  64%|██████▎   | 226/355 [18:45<11:10,  5.20s/it]Eval bleu for test set:  64%|██████▍   | 227/355 [18:50<11:03,  5.19s/it]Eval bleu for test set:  64%|██████▍   | 228/355 [18:55<11:05,  5.24s/it]Eval bleu for test set:  65%|██████▍   | 229/355 [19:00<11:01,  5.25s/it]Eval bleu for test set:  65%|██████▍   | 230/355 [19:06<10:54,  5.24s/it]Eval bleu for test set:  65%|██████▌   | 231/355 [19:11<10:50,  5.25s/it]Eval bleu for test set:  65%|██████▌   | 232/355 [19:16<10:44,  5.24s/it]Eval bleu for test set:  66%|██████▌   | 233/355 [19:22<10:49,  5.32s/it]Eval bleu for test set:  66%|██████▌   | 234/355 [19:27<10:45,  5.34s/it]Eval bleu for test set:  66%|██████▌   | 235/355 [19:32<10:45,  5.38s/it]Eval bleu for test set:  66%|██████▋   | 236/355 [19:37<10:19,  5.20s/it]Eval bleu for test set:  67%|██████▋   | 237/355 [19:43<10:21,  5.27s/it]Eval bleu for test set:  67%|██████▋   | 238/355 [19:48<10:22,  5.32s/it]Eval bleu for test set:  67%|██████▋   | 239/355 [19:54<10:22,  5.36s/it]Eval bleu for test set:  68%|██████▊   | 240/355 [19:59<10:17,  5.37s/it]Eval bleu for test set:  68%|██████▊   | 241/355 [20:04<10:03,  5.30s/it]Eval bleu for test set:  68%|██████▊   | 242/355 [20:09<09:54,  5.26s/it]Eval bleu for test set:  68%|██████▊   | 243/355 [20:15<09:53,  5.30s/it]Eval bleu for test set:  69%|██████▊   | 244/355 [20:20<09:47,  5.29s/it]Eval bleu for test set:  69%|██████▉   | 245/355 [20:25<09:44,  5.31s/it]Eval bleu for test set:  69%|██████▉   | 246/355 [20:31<09:39,  5.32s/it]Eval bleu for test set:  70%|██████▉   | 247/355 [20:36<09:38,  5.36s/it]Eval bleu for test set:  70%|██████▉   | 248/355 [20:42<09:37,  5.39s/it]Eval bleu for test set:  70%|███████   | 249/355 [20:47<09:29,  5.38s/it]Eval bleu for test set:  70%|███████   | 250/355 [20:52<09:21,  5.34s/it]Eval bleu for test set:  71%|███████   | 251/355 [20:57<09:13,  5.32s/it]Eval bleu for test set:  71%|███████   | 252/355 [21:03<09:09,  5.34s/it]Eval bleu for test set:  71%|███████▏  | 253/355 [21:08<09:01,  5.31s/it]Eval bleu for test set:  72%|███████▏  | 254/355 [21:13<08:59,  5.34s/it]Eval bleu for test set:  72%|███████▏  | 255/355 [21:19<08:51,  5.31s/it]Eval bleu for test set:  72%|███████▏  | 256/355 [21:24<08:45,  5.31s/it]Eval bleu for test set:  72%|███████▏  | 257/355 [21:29<08:43,  5.35s/it]Eval bleu for test set:  73%|███████▎  | 258/355 [21:35<08:33,  5.29s/it]Eval bleu for test set:  73%|███████▎  | 259/355 [21:40<08:20,  5.22s/it]Eval bleu for test set:  73%|███████▎  | 260/355 [21:45<08:16,  5.23s/it]Eval bleu for test set:  74%|███████▎  | 261/355 [21:50<08:19,  5.32s/it]Eval bleu for test set:  74%|███████▍  | 262/355 [21:56<08:11,  5.28s/it]Eval bleu for test set:  74%|███████▍  | 263/355 [22:01<08:05,  5.28s/it]Eval bleu for test set:  74%|███████▍  | 264/355 [22:06<07:53,  5.21s/it]Eval bleu for test set:  75%|███████▍  | 265/355 [22:11<07:49,  5.22s/it]Eval bleu for test set:  75%|███████▍  | 266/355 [22:16<07:45,  5.23s/it]Eval bleu for test set:  75%|███████▌  | 267/355 [22:21<07:34,  5.16s/it]Eval bleu for test set:  75%|███████▌  | 268/355 [22:27<07:34,  5.23s/it]Eval bleu for test set:  76%|███████▌  | 269/355 [22:32<07:30,  5.23s/it]Eval bleu for test set:  76%|███████▌  | 270/355 [22:37<07:07,  5.02s/it]Eval bleu for test set:  76%|███████▋  | 271/355 [22:42<07:12,  5.15s/it]Eval bleu for test set:  77%|███████▋  | 272/355 [22:47<07:10,  5.19s/it]Eval bleu for test set:  77%|███████▋  | 273/355 [22:53<07:06,  5.20s/it]Eval bleu for test set:  77%|███████▋  | 274/355 [22:58<07:03,  5.22s/it]Eval bleu for test set:  77%|███████▋  | 275/355 [23:03<06:57,  5.22s/it]Eval bleu for test set:  78%|███████▊  | 276/355 [23:08<06:35,  5.00s/it]Eval bleu for test set:  78%|███████▊  | 277/355 [23:13<06:34,  5.06s/it]Eval bleu for test set:  78%|███████▊  | 278/355 [23:18<06:42,  5.23s/it]Eval bleu for test set:  79%|███████▊  | 279/355 [23:24<06:40,  5.27s/it]Eval bleu for test set:  79%|███████▉  | 280/355 [23:29<06:34,  5.26s/it]Eval bleu for test set:  79%|███████▉  | 281/355 [23:34<06:28,  5.25s/it]Eval bleu for test set:  79%|███████▉  | 282/355 [23:39<06:22,  5.24s/it]Eval bleu for test set:  80%|███████▉  | 283/355 [23:45<06:15,  5.22s/it]Eval bleu for test set:  80%|████████  | 284/355 [23:50<06:14,  5.28s/it]Eval bleu for test set:  80%|████████  | 285/355 [23:55<06:11,  5.30s/it]Eval bleu for test set:  81%|████████  | 286/355 [24:01<06:06,  5.31s/it]Eval bleu for test set:  81%|████████  | 287/355 [24:06<05:57,  5.25s/it]Eval bleu for test set:  81%|████████  | 288/355 [24:11<05:51,  5.25s/it]Eval bleu for test set:  81%|████████▏ | 289/355 [24:15<05:23,  4.90s/it]Eval bleu for test set:  82%|████████▏ | 290/355 [24:21<05:27,  5.04s/it]Eval bleu for test set:  82%|████████▏ | 291/355 [24:26<05:25,  5.08s/it]Eval bleu for test set:  82%|████████▏ | 292/355 [24:31<05:25,  5.16s/it]Eval bleu for test set:  83%|████████▎ | 293/355 [24:36<05:22,  5.21s/it]Eval bleu for test set:  83%|████████▎ | 294/355 [24:41<05:15,  5.18s/it]Eval bleu for test set:  83%|████████▎ | 295/355 [24:47<05:12,  5.21s/it]Eval bleu for test set:  83%|████████▎ | 296/355 [24:52<05:10,  5.27s/it]Eval bleu for test set:  84%|████████▎ | 297/355 [24:57<05:05,  5.27s/it]Eval bleu for test set:  84%|████████▍ | 298/355 [25:02<04:52,  5.13s/it]Eval bleu for test set:  84%|████████▍ | 299/355 [25:07<04:48,  5.16s/it]Eval bleu for test set:  85%|████████▍ | 300/355 [25:13<04:46,  5.20s/it]Eval bleu for test set:  85%|████████▍ | 301/355 [25:18<04:45,  5.29s/it]Eval bleu for test set:  85%|████████▌ | 302/355 [25:24<04:42,  5.33s/it]Eval bleu for test set:  85%|████████▌ | 303/355 [25:29<04:35,  5.30s/it]Eval bleu for test set:  86%|████████▌ | 304/355 [25:34<04:32,  5.34s/it]Eval bleu for test set:  86%|████████▌ | 305/355 [25:40<04:25,  5.31s/it]Eval bleu for test set:  86%|████████▌ | 306/355 [25:45<04:18,  5.28s/it]Eval bleu for test set:  86%|████████▋ | 307/355 [25:50<04:14,  5.30s/it]Eval bleu for test set:  87%|████████▋ | 308/355 [25:55<04:08,  5.29s/it]Eval bleu for test set:  87%|████████▋ | 309/355 [26:01<04:03,  5.28s/it]Eval bleu for test set:  87%|████████▋ | 310/355 [26:06<03:53,  5.19s/it]Eval bleu for test set:  88%|████████▊ | 311/355 [26:11<03:51,  5.26s/it]Eval bleu for test set:  88%|████████▊ | 312/355 [26:17<03:48,  5.32s/it]Eval bleu for test set:  88%|████████▊ | 313/355 [26:22<03:43,  5.32s/it]Eval bleu for test set:  88%|████████▊ | 314/355 [26:27<03:38,  5.32s/it]Eval bleu for test set:  89%|████████▊ | 315/355 [26:33<03:32,  5.32s/it]Eval bleu for test set:  89%|████████▉ | 316/355 [26:38<03:30,  5.40s/it]Eval bleu for test set:  89%|████████▉ | 317/355 [26:43<03:24,  5.37s/it]Eval bleu for test set:  90%|████████▉ | 318/355 [26:48<03:13,  5.23s/it]Eval bleu for test set:  90%|████████▉ | 319/355 [26:54<03:08,  5.23s/it]Eval bleu for test set:  90%|█████████ | 320/355 [26:59<03:02,  5.22s/it]Eval bleu for test set:  90%|█████████ | 321/355 [27:04<03:00,  5.30s/it]Eval bleu for test set:  91%|█████████ | 322/355 [27:09<02:53,  5.24s/it]Eval bleu for test set:  91%|█████████ | 323/355 [27:15<02:47,  5.23s/it]Eval bleu for test set:  91%|█████████▏| 324/355 [27:20<02:43,  5.27s/it]Eval bleu for test set:  92%|█████████▏| 325/355 [27:25<02:38,  5.30s/it]Eval bleu for test set:  92%|█████████▏| 326/355 [27:30<02:32,  5.25s/it]Eval bleu for test set:  92%|█████████▏| 327/355 [27:35<02:24,  5.15s/it]Eval bleu for test set:  92%|█████████▏| 328/355 [27:41<02:20,  5.19s/it]Eval bleu for test set:  93%|█████████▎| 329/355 [27:46<02:16,  5.24s/it]Eval bleu for test set:  93%|█████████▎| 330/355 [27:51<02:10,  5.22s/it]Eval bleu for test set:  93%|█████████▎| 331/355 [27:57<02:06,  5.26s/it]Eval bleu for test set:  94%|█████████▎| 332/355 [28:02<02:01,  5.28s/it]Eval bleu for test set:  94%|█████████▍| 333/355 [28:07<01:56,  5.32s/it]Eval bleu for test set:  94%|█████████▍| 334/355 [28:13<01:52,  5.34s/it]Eval bleu for test set:  94%|█████████▍| 335/355 [28:18<01:46,  5.31s/it]Eval bleu for test set:  95%|█████████▍| 336/355 [28:22<01:33,  4.92s/it]Eval bleu for test set:  95%|█████████▍| 337/355 [28:26<01:25,  4.74s/it]Eval bleu for test set:  95%|█████████▌| 338/355 [28:32<01:23,  4.93s/it]Eval bleu for test set:  95%|█████████▌| 339/355 [28:37<01:20,  5.01s/it]Eval bleu for test set:  96%|█████████▌| 340/355 [28:42<01:16,  5.11s/it]Eval bleu for test set:  96%|█████████▌| 341/355 [28:47<01:12,  5.19s/it]Eval bleu for test set:  96%|█████████▋| 342/355 [28:53<01:08,  5.23s/it]Eval bleu for test set:  97%|█████████▋| 343/355 [28:58<01:03,  5.28s/it]Eval bleu for test set:  97%|█████████▋| 344/355 [29:03<00:57,  5.25s/it]Eval bleu for test set:  97%|█████████▋| 345/355 [29:08<00:49,  4.98s/it]Eval bleu for test set:  97%|█████████▋| 346/355 [29:12<00:43,  4.81s/it]Eval bleu for test set:  98%|█████████▊| 347/355 [29:18<00:39,  5.00s/it]Eval bleu for test set:  98%|█████████▊| 348/355 [29:23<00:35,  5.05s/it]Eval bleu for test set:  98%|█████████▊| 349/355 [29:28<00:30,  5.15s/it]Eval bleu for test set:  99%|█████████▊| 350/355 [29:32<00:24,  4.85s/it]Eval bleu for test set:  99%|█████████▉| 351/355 [29:38<00:19,  4.96s/it]Eval bleu for test set:  99%|█████████▉| 352/355 [29:43<00:15,  5.04s/it]Eval bleu for test set:  99%|█████████▉| 353/355 [29:48<00:10,  5.08s/it]Eval bleu for test set: 100%|█████████▉| 354/355 [29:53<00:05,  5.13s/it]Eval bleu for test set: 100%|██████████| 355/355 [29:57<00:00,  4.87s/it]Eval bleu for test set: 100%|██████████| 355/355 [29:58<00:00,  5.06s/it]
11/13/2022 01:31:27 - INFO - __main__ -   ***** Eval results *****
11/13/2022 01:31:27 - INFO - __main__ -     bleu = 79.72
11/13/2022 01:31:27 - INFO - __main__ -     codebleu = 80.468
11/13/2022 01:31:27 - INFO - __main__ -     em = 20.2855
11/13/2022 01:31:27 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typemethod_renaming + whether_refactoringafter_refactoring :
11/13/2022 01:31:27 - INFO - __main__ -   [best-bleu] bleu-4: 79.72, em: 20.2855, codebleu: 80.4680

11/13/2022 01:31:27 - INFO - __main__ -   Finish and take 1h10m
11/13/2022 01:31:27 - INFO - __main__ -     ***** Testing *****
11/13/2022 01:31:27 - INFO - __main__ -     Batch size = 16
11/13/2022 01:31:27 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 01:31:28 - INFO - __main__ -   test11111111111
11/13/2022 01:31:28 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 01:31:28 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/parameter_renaming/before_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/parameter_renaming/before_refactoring/small/test.buggy-fixed.fixed
11/13/2022 01:31:28 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 01:31:28 - INFO - utils -   Read 3444 examples, avg src len: 33, avg trg len: 31, max src len: 93, max trg len: 93
11/13/2022 01:31:28 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/test_src_all.pt
11/13/2022 01:31:28 - INFO - utils -   加载前test666666666666666
ngram match: 0.7971765095910385, weighted ngram match: 0.800651588263114, syntax_match: 0.8197753943925759, dataflow_match: 0.8011181900923157
  0%|          | 0/3444 [00:00<?, ?it/s] 50%|█████     | 1722/3444 [00:01<00:01, 1654.24it/s] 75%|███████▌  | 2583/3444 [00:02<00:00, 1158.09it/s]100%|██████████| 3444/3444 [00:03<00:00, 1020.19it/s]100%|██████████| 3444/3444 [00:03<00:00, 1107.53it/s]
11/13/2022 01:31:32 - INFO - utils -   加载后test77777777777777
11/13/2022 01:31:32 - INFO - __main__ -   加载成功test2222222222
11/13/2022 01:31:32 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 01:31:32 - INFO - __main__ -     Num examples = 3444
11/13/2022 01:31:32 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/216 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/216 [00:05<19:55,  5.56s/it]Eval bleu for test set:   1%|          | 2/216 [00:11<19:35,  5.50s/it]Eval bleu for test set:   1%|▏         | 3/216 [00:16<19:16,  5.43s/it]Eval bleu for test set:   2%|▏         | 4/216 [00:21<19:10,  5.43s/it]Eval bleu for test set:   2%|▏         | 5/216 [00:27<19:04,  5.42s/it]Eval bleu for test set:   3%|▎         | 6/216 [00:32<18:36,  5.32s/it]Eval bleu for test set:   3%|▎         | 7/216 [00:37<18:38,  5.35s/it]Eval bleu for test set:   4%|▎         | 8/216 [00:43<18:42,  5.40s/it]Eval bleu for test set:   4%|▍         | 9/216 [00:48<18:30,  5.37s/it]Eval bleu for test set:   5%|▍         | 10/216 [00:53<18:32,  5.40s/it]Eval bleu for test set:   5%|▌         | 11/216 [00:59<18:10,  5.32s/it]Eval bleu for test set:   6%|▌         | 12/216 [01:04<17:51,  5.25s/it]Eval bleu for test set:   6%|▌         | 13/216 [01:09<17:47,  5.26s/it]Eval bleu for test set:   6%|▋         | 14/216 [01:14<17:55,  5.32s/it]Eval bleu for test set:   7%|▋         | 15/216 [01:20<17:41,  5.28s/it]Eval bleu for test set:   7%|▋         | 16/216 [01:25<17:37,  5.29s/it]Eval bleu for test set:   8%|▊         | 17/216 [01:30<17:28,  5.27s/it]Eval bleu for test set:   8%|▊         | 18/216 [01:35<17:26,  5.28s/it]Eval bleu for test set:   9%|▉         | 19/216 [01:40<16:45,  5.11s/it]Eval bleu for test set:   9%|▉         | 20/216 [01:45<16:52,  5.17s/it]Eval bleu for test set:  10%|▉         | 21/216 [01:51<16:59,  5.23s/it]Eval bleu for test set:  10%|█         | 22/216 [01:56<16:35,  5.13s/it]Eval bleu for test set:  11%|█         | 23/216 [02:01<16:20,  5.08s/it]Eval bleu for test set:  11%|█         | 24/216 [02:06<16:22,  5.12s/it]Eval bleu for test set:  12%|█▏        | 25/216 [02:11<16:27,  5.17s/it]Eval bleu for test set:  12%|█▏        | 26/216 [02:16<16:18,  5.15s/it]Eval bleu for test set:  12%|█▎        | 27/216 [02:22<16:26,  5.22s/it]Eval bleu for test set:  13%|█▎        | 28/216 [02:27<16:21,  5.22s/it]Eval bleu for test set:  13%|█▎        | 29/216 [02:32<16:34,  5.32s/it]Eval bleu for test set:  14%|█▍        | 30/216 [02:38<16:43,  5.40s/it]Eval bleu for test set:  14%|█▍        | 31/216 [02:43<16:37,  5.39s/it]Eval bleu for test set:  15%|█▍        | 32/216 [02:49<16:25,  5.36s/it]Eval bleu for test set:  15%|█▌        | 33/216 [02:54<16:13,  5.32s/it]Eval bleu for test set:  16%|█▌        | 34/216 [02:59<16:06,  5.31s/it]Eval bleu for test set:  16%|█▌        | 35/216 [03:05<16:02,  5.32s/it]Eval bleu for test set:  17%|█▋        | 36/216 [03:10<15:57,  5.32s/it]Eval bleu for test set:  17%|█▋        | 37/216 [03:15<15:52,  5.32s/it]Eval bleu for test set:  18%|█▊        | 38/216 [03:21<15:48,  5.33s/it]Eval bleu for test set:  18%|█▊        | 39/216 [03:26<15:39,  5.31s/it]Eval bleu for test set:  19%|█▊        | 40/216 [03:31<15:25,  5.26s/it]Eval bleu for test set:  19%|█▉        | 41/216 [03:36<15:18,  5.25s/it]Eval bleu for test set:  19%|█▉        | 42/216 [03:41<15:12,  5.25s/it]Eval bleu for test set:  20%|█▉        | 43/216 [03:47<14:59,  5.20s/it]Eval bleu for test set:  20%|██        | 44/216 [03:52<15:02,  5.25s/it]Eval bleu for test set:  21%|██        | 45/216 [03:57<14:57,  5.25s/it]Eval bleu for test set:  21%|██▏       | 46/216 [04:03<15:01,  5.30s/it]Eval bleu for test set:  22%|██▏       | 47/216 [04:08<15:02,  5.34s/it]Eval bleu for test set:  22%|██▏       | 48/216 [04:13<14:52,  5.31s/it]Eval bleu for test set:  23%|██▎       | 49/216 [04:18<14:43,  5.29s/it]Eval bleu for test set:  23%|██▎       | 50/216 [04:24<14:37,  5.28s/it]Eval bleu for test set:  24%|██▎       | 51/216 [04:29<14:36,  5.31s/it]Eval bleu for test set:  24%|██▍       | 52/216 [04:34<14:28,  5.30s/it]Eval bleu for test set:  25%|██▍       | 53/216 [04:40<14:20,  5.28s/it]Eval bleu for test set:  25%|██▌       | 54/216 [04:45<14:34,  5.40s/it]Eval bleu for test set:  25%|██▌       | 55/216 [04:51<14:21,  5.35s/it]Eval bleu for test set:  26%|██▌       | 56/216 [04:56<14:09,  5.31s/it]Eval bleu for test set:  26%|██▋       | 57/216 [05:01<14:02,  5.30s/it]Eval bleu for test set:  27%|██▋       | 58/216 [05:07<14:05,  5.35s/it]Eval bleu for test set:  27%|██▋       | 59/216 [05:12<13:54,  5.31s/it]Eval bleu for test set:  28%|██▊       | 60/216 [05:17<13:51,  5.33s/it]Eval bleu for test set:  28%|██▊       | 61/216 [05:22<13:34,  5.26s/it]Eval bleu for test set:  29%|██▊       | 62/216 [05:27<13:30,  5.26s/it]Eval bleu for test set:  29%|██▉       | 63/216 [05:33<13:35,  5.33s/it]Eval bleu for test set:  30%|██▉       | 64/216 [05:38<13:09,  5.19s/it]Eval bleu for test set:  30%|███       | 65/216 [05:42<12:30,  4.97s/it]Eval bleu for test set:  31%|███       | 66/216 [05:48<12:53,  5.15s/it]Eval bleu for test set:  31%|███       | 67/216 [05:53<12:52,  5.18s/it]Eval bleu for test set:  31%|███▏      | 68/216 [05:58<12:51,  5.21s/it]Eval bleu for test set:  32%|███▏      | 69/216 [06:04<12:54,  5.27s/it]Eval bleu for test set:  32%|███▏      | 70/216 [06:09<12:52,  5.29s/it]Eval bleu for test set:  33%|███▎      | 71/216 [06:15<12:55,  5.35s/it]Eval bleu for test set:  33%|███▎      | 72/216 [06:20<12:54,  5.38s/it]Eval bleu for test set:  34%|███▍      | 73/216 [06:25<12:29,  5.24s/it]Eval bleu for test set:  34%|███▍      | 74/216 [06:29<11:38,  4.92s/it]Eval bleu for test set:  35%|███▍      | 75/216 [06:34<11:32,  4.91s/it]Eval bleu for test set:  35%|███▌      | 76/216 [06:39<11:27,  4.91s/it]Eval bleu for test set:  36%|███▌      | 77/216 [06:44<11:15,  4.86s/it]Eval bleu for test set:  36%|███▌      | 78/216 [06:48<11:05,  4.82s/it]Eval bleu for test set:  37%|███▋      | 79/216 [06:53<10:47,  4.73s/it]Eval bleu for test set:  37%|███▋      | 80/216 [06:58<10:47,  4.76s/it]Eval bleu for test set:  38%|███▊      | 81/216 [07:03<10:51,  4.82s/it]Eval bleu for test set:  38%|███▊      | 82/216 [07:07<10:28,  4.69s/it]Eval bleu for test set:  38%|███▊      | 83/216 [07:12<10:23,  4.69s/it]Eval bleu for test set:  39%|███▉      | 84/216 [07:17<10:23,  4.72s/it]Eval bleu for test set:  39%|███▉      | 85/216 [07:21<10:17,  4.71s/it]Eval bleu for test set:  40%|███▉      | 86/216 [07:26<10:00,  4.62s/it]Eval bleu for test set:  40%|████      | 87/216 [07:31<10:05,  4.69s/it]Eval bleu for test set:  41%|████      | 88/216 [07:35<09:56,  4.66s/it]Eval bleu for test set:  41%|████      | 89/216 [07:40<09:54,  4.68s/it]Eval bleu for test set:  42%|████▏     | 90/216 [07:45<09:51,  4.70s/it]Eval bleu for test set:  42%|████▏     | 91/216 [07:49<09:46,  4.70s/it]Eval bleu for test set:  43%|████▎     | 92/216 [07:54<09:45,  4.72s/it]Eval bleu for test set:  43%|████▎     | 93/216 [07:59<09:36,  4.69s/it]Eval bleu for test set:  44%|████▎     | 94/216 [08:03<09:19,  4.59s/it]Eval bleu for test set:  44%|████▍     | 95/216 [08:07<08:46,  4.35s/it]Eval bleu for test set:  44%|████▍     | 96/216 [08:12<08:59,  4.49s/it]Eval bleu for test set:  45%|████▍     | 97/216 [08:17<09:10,  4.63s/it]Eval bleu for test set:  45%|████▌     | 98/216 [08:22<09:15,  4.71s/it]Eval bleu for test set:  46%|████▌     | 99/216 [08:26<09:14,  4.74s/it]Eval bleu for test set:  46%|████▋     | 100/216 [08:31<09:10,  4.74s/it]Eval bleu for test set:  47%|████▋     | 101/216 [08:36<09:10,  4.79s/it]Eval bleu for test set:  47%|████▋     | 102/216 [08:41<09:01,  4.75s/it]Eval bleu for test set:  48%|████▊     | 103/216 [08:45<08:58,  4.77s/it]Eval bleu for test set:  48%|████▊     | 104/216 [08:49<08:23,  4.50s/it]Eval bleu for test set:  49%|████▊     | 105/216 [08:54<08:28,  4.58s/it]Eval bleu for test set:  49%|████▉     | 106/216 [08:59<08:30,  4.64s/it]Eval bleu for test set:  50%|████▉     | 107/216 [09:04<08:33,  4.71s/it]Eval bleu for test set:  50%|█████     | 108/216 [09:09<08:31,  4.74s/it]Eval bleu for test set:  50%|█████     | 109/216 [09:13<08:32,  4.79s/it]Eval bleu for test set:  51%|█████     | 110/216 [09:18<08:26,  4.78s/it]Eval bleu for test set:  51%|█████▏    | 111/216 [09:23<08:23,  4.79s/it]Eval bleu for test set:  52%|█████▏    | 112/216 [09:28<08:14,  4.75s/it]Eval bleu for test set:  52%|█████▏    | 113/216 [09:32<08:09,  4.76s/it]Eval bleu for test set:  53%|█████▎    | 114/216 [09:37<08:07,  4.78s/it]Eval bleu for test set:  53%|█████▎    | 115/216 [09:42<08:05,  4.80s/it]Eval bleu for test set:  54%|█████▎    | 116/216 [09:46<07:37,  4.57s/it]Eval bleu for test set:  54%|█████▍    | 117/216 [09:51<07:40,  4.65s/it]Eval bleu for test set:  55%|█████▍    | 118/216 [09:56<07:39,  4.69s/it]Eval bleu for test set:  55%|█████▌    | 119/216 [10:01<07:42,  4.77s/it]Eval bleu for test set:  56%|█████▌    | 120/216 [10:06<07:43,  4.83s/it]Eval bleu for test set:  56%|█████▌    | 121/216 [10:11<07:41,  4.85s/it]Eval bleu for test set:  56%|█████▋    | 122/216 [10:16<07:36,  4.86s/it]Eval bleu for test set:  57%|█████▋    | 123/216 [10:20<07:30,  4.85s/it]Eval bleu for test set:  57%|█████▋    | 124/216 [10:25<07:26,  4.86s/it]Eval bleu for test set:  58%|█████▊    | 125/216 [10:30<07:19,  4.83s/it]Eval bleu for test set:  58%|█████▊    | 126/216 [10:35<07:15,  4.84s/it]Eval bleu for test set:  59%|█████▉    | 127/216 [10:40<07:11,  4.85s/it]Eval bleu for test set:  59%|█████▉    | 128/216 [10:45<07:06,  4.85s/it]Eval bleu for test set:  60%|█████▉    | 129/216 [10:49<07:00,  4.84s/it]Eval bleu for test set:  60%|██████    | 130/216 [10:54<06:54,  4.82s/it]Eval bleu for test set:  61%|██████    | 131/216 [10:59<06:49,  4.81s/it]Eval bleu for test set:  61%|██████    | 132/216 [11:04<06:43,  4.81s/it]Eval bleu for test set:  62%|██████▏   | 133/216 [11:09<06:39,  4.82s/it]Eval bleu for test set:  62%|██████▏   | 134/216 [11:13<06:29,  4.75s/it]Eval bleu for test set:  62%|██████▎   | 135/216 [11:18<06:23,  4.73s/it]Eval bleu for test set:  63%|██████▎   | 136/216 [11:23<06:21,  4.77s/it]Eval bleu for test set:  63%|██████▎   | 137/216 [11:27<06:14,  4.74s/it]Eval bleu for test set:  64%|██████▍   | 138/216 [11:32<06:08,  4.73s/it]Eval bleu for test set:  64%|██████▍   | 139/216 [11:37<06:03,  4.72s/it]Eval bleu for test set:  65%|██████▍   | 140/216 [11:42<05:59,  4.73s/it]Eval bleu for test set:  65%|██████▌   | 141/216 [11:46<05:54,  4.73s/it]Eval bleu for test set:  66%|██████▌   | 142/216 [11:51<05:51,  4.75s/it]Eval bleu for test set:  66%|██████▌   | 143/216 [11:56<05:46,  4.75s/it]Eval bleu for test set:  67%|██████▋   | 144/216 [12:01<05:44,  4.78s/it]Eval bleu for test set:  67%|██████▋   | 145/216 [12:06<05:41,  4.81s/it]Eval bleu for test set:  68%|██████▊   | 146/216 [12:10<05:39,  4.85s/it]Eval bleu for test set:  68%|██████▊   | 147/216 [12:15<05:31,  4.81s/it]Eval bleu for test set:  69%|██████▊   | 148/216 [12:20<05:26,  4.81s/it]Eval bleu for test set:  69%|██████▉   | 149/216 [12:25<05:20,  4.78s/it]Eval bleu for test set:  69%|██████▉   | 150/216 [12:30<05:18,  4.83s/it]Eval bleu for test set:  70%|██████▉   | 151/216 [12:35<05:15,  4.85s/it]Eval bleu for test set:  70%|███████   | 152/216 [12:39<05:09,  4.84s/it]Eval bleu for test set:  71%|███████   | 153/216 [12:44<05:03,  4.82s/it]Eval bleu for test set:  71%|███████▏  | 154/216 [12:49<05:00,  4.85s/it]Eval bleu for test set:  72%|███████▏  | 155/216 [12:53<04:44,  4.66s/it]Eval bleu for test set:  72%|███████▏  | 156/216 [12:58<04:39,  4.65s/it]Eval bleu for test set:  73%|███████▎  | 157/216 [13:03<04:38,  4.73s/it]Eval bleu for test set:  73%|███████▎  | 158/216 [13:07<04:32,  4.70s/it]Eval bleu for test set:  74%|███████▎  | 159/216 [13:12<04:27,  4.69s/it]Eval bleu for test set:  74%|███████▍  | 160/216 [13:17<04:23,  4.71s/it]Eval bleu for test set:  75%|███████▍  | 161/216 [13:22<04:18,  4.71s/it]Eval bleu for test set:  75%|███████▌  | 162/216 [13:26<04:13,  4.70s/it]Eval bleu for test set:  75%|███████▌  | 163/216 [13:31<04:08,  4.69s/it]Eval bleu for test set:  76%|███████▌  | 164/216 [13:36<04:05,  4.72s/it]Eval bleu for test set:  76%|███████▋  | 165/216 [13:40<04:01,  4.73s/it]Eval bleu for test set:  77%|███████▋  | 166/216 [13:45<03:57,  4.76s/it]Eval bleu for test set:  77%|███████▋  | 167/216 [13:50<03:52,  4.75s/it]Eval bleu for test set:  78%|███████▊  | 168/216 [13:55<03:47,  4.73s/it]Eval bleu for test set:  78%|███████▊  | 169/216 [13:59<03:32,  4.53s/it]Eval bleu for test set:  79%|███████▊  | 170/216 [14:04<03:35,  4.68s/it]Eval bleu for test set:  79%|███████▉  | 171/216 [14:09<03:31,  4.71s/it]Eval bleu for test set:  80%|███████▉  | 172/216 [14:13<03:25,  4.67s/it]Eval bleu for test set:  80%|████████  | 173/216 [14:18<03:21,  4.69s/it]Eval bleu for test set:  81%|████████  | 174/216 [14:23<03:19,  4.74s/it]Eval bleu for test set:  81%|████████  | 175/216 [14:28<03:15,  4.77s/it]Eval bleu for test set:  81%|████████▏ | 176/216 [14:32<03:09,  4.74s/it]Eval bleu for test set:  82%|████████▏ | 177/216 [14:36<02:57,  4.56s/it]Eval bleu for test set:  82%|████████▏ | 178/216 [14:41<02:55,  4.62s/it]Eval bleu for test set:  83%|████████▎ | 179/216 [14:46<02:48,  4.55s/it]Eval bleu for test set:  83%|████████▎ | 180/216 [14:50<02:46,  4.63s/it]Eval bleu for test set:  84%|████████▍ | 181/216 [14:55<02:40,  4.58s/it]Eval bleu for test set:  84%|████████▍ | 182/216 [14:59<02:36,  4.59s/it]Eval bleu for test set:  85%|████████▍ | 183/216 [15:04<02:34,  4.70s/it]Eval bleu for test set:  85%|████████▌ | 184/216 [15:09<02:32,  4.75s/it]Eval bleu for test set:  86%|████████▌ | 185/216 [15:14<02:27,  4.75s/it]Eval bleu for test set:  86%|████████▌ | 186/216 [15:19<02:22,  4.76s/it]Eval bleu for test set:  87%|████████▋ | 187/216 [15:24<02:17,  4.75s/it]Eval bleu for test set:  87%|████████▋ | 188/216 [15:28<02:13,  4.76s/it]Eval bleu for test set:  88%|████████▊ | 189/216 [15:33<02:04,  4.61s/it]Eval bleu for test set:  88%|████████▊ | 190/216 [15:37<02:02,  4.69s/it]Eval bleu for test set:  88%|████████▊ | 191/216 [15:42<01:57,  4.71s/it]Eval bleu for test set:  89%|████████▉ | 192/216 [15:47<01:54,  4.76s/it]Eval bleu for test set:  89%|████████▉ | 193/216 [15:52<01:49,  4.78s/it]Eval bleu for test set:  90%|████████▉ | 194/216 [15:56<01:43,  4.69s/it]Eval bleu for test set:  90%|█████████ | 195/216 [16:01<01:39,  4.72s/it]Eval bleu for test set:  91%|█████████ | 196/216 [16:06<01:34,  4.72s/it]Eval bleu for test set:  91%|█████████ | 197/216 [16:11<01:30,  4.74s/it]Eval bleu for test set:  92%|█████████▏| 198/216 [16:15<01:25,  4.74s/it]Eval bleu for test set:  92%|█████████▏| 199/216 [16:20<01:19,  4.70s/it]Eval bleu for test set:  93%|█████████▎| 200/216 [16:25<01:15,  4.73s/it]Eval bleu for test set:  93%|█████████▎| 201/216 [16:30<01:10,  4.72s/it]Eval bleu for test set:  94%|█████████▎| 202/216 [16:34<01:06,  4.76s/it]Eval bleu for test set:  94%|█████████▍| 203/216 [16:39<01:02,  4.78s/it]Eval bleu for test set:  94%|█████████▍| 204/216 [16:44<00:56,  4.74s/it]Eval bleu for test set:  95%|█████████▍| 205/216 [16:48<00:49,  4.52s/it]Eval bleu for test set:  95%|█████████▌| 206/216 [16:53<00:46,  4.60s/it]Eval bleu for test set:  96%|█████████▌| 207/216 [16:58<00:42,  4.68s/it]Eval bleu for test set:  96%|█████████▋| 208/216 [17:02<00:37,  4.71s/it]Eval bleu for test set:  97%|█████████▋| 209/216 [17:07<00:33,  4.75s/it]Eval bleu for test set:  97%|█████████▋| 210/216 [17:11<00:27,  4.50s/it]Eval bleu for test set:  98%|█████████▊| 211/216 [17:16<00:22,  4.56s/it]Eval bleu for test set:  98%|█████████▊| 212/216 [17:21<00:18,  4.63s/it]Eval bleu for test set:  99%|█████████▊| 213/216 [17:25<00:14,  4.67s/it]Eval bleu for test set:  99%|█████████▉| 214/216 [17:30<00:09,  4.69s/it]Eval bleu for test set: 100%|█████████▉| 215/216 [17:35<00:04,  4.70s/it]Eval bleu for test set: 100%|██████████| 216/216 [17:37<00:00,  3.97s/it]Eval bleu for test set: 100%|██████████| 216/216 [17:37<00:00,  4.90s/it]
11/13/2022 01:51:35 - INFO - __main__ -   ***** Eval results *****
11/13/2022 01:51:35 - INFO - __main__ -     bleu = 80.63
11/13/2022 01:51:35 - INFO - __main__ -     codebleu = 81.5922
11/13/2022 01:51:35 - INFO - __main__ -     em = 25.7259
11/13/2022 01:51:35 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeparameter_renaming + whether_refactoringbefore_refactoring :
11/13/2022 01:51:35 - INFO - __main__ -   [best-bleu] bleu-4: 80.63, em: 25.7259, codebleu: 81.5922

11/13/2022 01:51:35 - INFO - __main__ -   Finish and take 1h30m
11/13/2022 01:51:35 - INFO - __main__ -     ***** Testing *****
11/13/2022 01:51:35 - INFO - __main__ -     Batch size = 16
11/13/2022 01:51:35 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 01:51:35 - INFO - __main__ -   test11111111111
11/13/2022 01:51:35 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 01:51:35 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/parameter_renaming/after_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/parameter_renaming/after_refactoring/small/test.buggy-fixed.fixed
11/13/2022 01:51:35 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 01:51:35 - INFO - utils -   Read 3444 examples, avg src len: 33, avg trg len: 31, max src len: 93, max trg len: 93
11/13/2022 01:51:35 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/test_src_all.pt
11/13/2022 01:51:35 - INFO - utils -   加载前test666666666666666
ngram match: 0.8062926485830559, weighted ngram match: 0.8087629818238983, syntax_match: 0.8288553189628788, dataflow_match: 0.8197769632691257
  0%|          | 0/3444 [00:00<?, ?it/s] 50%|█████     | 1722/3444 [00:01<00:01, 1628.75it/s] 75%|███████▌  | 2583/3444 [00:02<00:00, 1170.48it/s]100%|██████████| 3444/3444 [00:03<00:00, 1014.08it/s]100%|██████████| 3444/3444 [00:03<00:00, 1102.97it/s]
11/13/2022 01:51:39 - INFO - utils -   加载后test77777777777777
11/13/2022 01:51:39 - INFO - __main__ -   加载成功test2222222222
11/13/2022 01:51:39 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 01:51:39 - INFO - __main__ -     Num examples = 3444
11/13/2022 01:51:39 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/216 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/216 [00:05<17:59,  5.02s/it]Eval bleu for test set:   1%|          | 2/216 [00:09<17:42,  4.97s/it]Eval bleu for test set:   1%|▏         | 3/216 [00:14<17:23,  4.90s/it]Eval bleu for test set:   2%|▏         | 4/216 [00:19<17:18,  4.90s/it]Eval bleu for test set:   2%|▏         | 5/216 [00:24<17:13,  4.90s/it]Eval bleu for test set:   3%|▎         | 6/216 [00:29<17:07,  4.89s/it]Eval bleu for test set:   3%|▎         | 7/216 [00:34<17:02,  4.89s/it]Eval bleu for test set:   4%|▎         | 8/216 [00:39<17:05,  4.93s/it]Eval bleu for test set:   4%|▍         | 9/216 [00:43<16:18,  4.73s/it]Eval bleu for test set:   5%|▍         | 10/216 [00:48<16:24,  4.78s/it]Eval bleu for test set:   5%|▌         | 11/216 [00:53<16:14,  4.76s/it]Eval bleu for test set:   6%|▌         | 12/216 [00:57<16:04,  4.73s/it]Eval bleu for test set:   6%|▌         | 13/216 [01:02<16:06,  4.76s/it]Eval bleu for test set:   6%|▋         | 14/216 [01:07<16:09,  4.80s/it]Eval bleu for test set:   7%|▋         | 15/216 [01:12<16:03,  4.79s/it]Eval bleu for test set:   7%|▋         | 16/216 [01:17<16:00,  4.80s/it]Eval bleu for test set:   8%|▊         | 17/216 [01:22<15:55,  4.80s/it]Eval bleu for test set:   8%|▊         | 18/216 [01:26<15:53,  4.82s/it]Eval bleu for test set:   9%|▉         | 19/216 [01:31<15:39,  4.77s/it]Eval bleu for test set:   9%|▉         | 20/216 [01:36<15:39,  4.79s/it]Eval bleu for test set:  10%|▉         | 21/216 [01:41<15:41,  4.83s/it]Eval bleu for test set:  10%|█         | 22/216 [01:45<15:14,  4.71s/it]Eval bleu for test set:  11%|█         | 23/216 [01:50<15:13,  4.74s/it]Eval bleu for test set:  11%|█         | 24/216 [01:55<15:12,  4.75s/it]Eval bleu for test set:  12%|█▏        | 25/216 [02:00<15:13,  4.78s/it]Eval bleu for test set:  12%|█▏        | 26/216 [02:04<14:51,  4.69s/it]Eval bleu for test set:  12%|█▎        | 27/216 [02:09<14:56,  4.74s/it]Eval bleu for test set:  13%|█▎        | 28/216 [02:14<14:52,  4.75s/it]Eval bleu for test set:  13%|█▎        | 29/216 [02:19<14:59,  4.81s/it]Eval bleu for test set:  14%|█▍        | 30/216 [02:24<15:06,  4.87s/it]Eval bleu for test set:  14%|█▍        | 31/216 [02:29<14:59,  4.86s/it]Eval bleu for test set:  15%|█▍        | 32/216 [02:33<14:50,  4.84s/it]Eval bleu for test set:  15%|█▌        | 33/216 [02:38<14:42,  4.82s/it]Eval bleu for test set:  16%|█▌        | 34/216 [02:43<14:36,  4.81s/it]Eval bleu for test set:  16%|█▌        | 35/216 [02:48<15:09,  5.02s/it]Eval bleu for test set:  17%|█▋        | 36/216 [02:54<15:31,  5.18s/it]Eval bleu for test set:  17%|█▋        | 37/216 [02:59<15:43,  5.27s/it]Eval bleu for test set:  18%|█▊        | 38/216 [03:05<15:53,  5.36s/it]Eval bleu for test set:  18%|█▊        | 39/216 [03:10<15:52,  5.38s/it]Eval bleu for test set:  19%|█▊        | 40/216 [03:16<15:46,  5.38s/it]Eval bleu for test set:  19%|█▉        | 41/216 [03:21<15:41,  5.38s/it]Eval bleu for test set:  19%|█▉        | 42/216 [03:27<15:35,  5.38s/it]Eval bleu for test set:  20%|█▉        | 43/216 [03:32<15:39,  5.43s/it]Eval bleu for test set:  20%|██        | 44/216 [03:38<15:36,  5.45s/it]Eval bleu for test set:  21%|██        | 45/216 [03:43<15:26,  5.42s/it]Eval bleu for test set:  21%|██▏       | 46/216 [03:49<15:27,  5.45s/it]Eval bleu for test set:  22%|██▏       | 47/216 [03:54<15:22,  5.46s/it]Eval bleu for test set:  22%|██▏       | 48/216 [03:59<15:13,  5.44s/it]Eval bleu for test set:  23%|██▎       | 49/216 [04:05<15:05,  5.42s/it]Eval bleu for test set:  23%|██▎       | 50/216 [04:10<14:58,  5.41s/it]Eval bleu for test set:  24%|██▎       | 51/216 [04:16<14:59,  5.45s/it]Eval bleu for test set:  24%|██▍       | 52/216 [04:21<14:54,  5.45s/it]Eval bleu for test set:  25%|██▍       | 53/216 [04:27<14:43,  5.42s/it]Eval bleu for test set:  25%|██▌       | 54/216 [04:32<14:53,  5.51s/it]Eval bleu for test set:  25%|██▌       | 55/216 [04:38<14:41,  5.48s/it]Eval bleu for test set:  26%|██▌       | 56/216 [04:43<14:28,  5.43s/it]Eval bleu for test set:  26%|██▋       | 57/216 [04:48<14:19,  5.40s/it]Eval bleu for test set:  27%|██▋       | 58/216 [04:54<14:19,  5.44s/it]Eval bleu for test set:  27%|██▋       | 59/216 [04:59<14:02,  5.36s/it]Eval bleu for test set:  28%|██▊       | 60/216 [05:05<14:05,  5.42s/it]Eval bleu for test set:  28%|██▊       | 61/216 [05:10<13:59,  5.41s/it]Eval bleu for test set:  29%|██▊       | 62/216 [05:15<13:44,  5.36s/it]Eval bleu for test set:  29%|██▉       | 63/216 [05:21<13:51,  5.43s/it]Eval bleu for test set:  30%|██▉       | 64/216 [05:26<13:15,  5.23s/it]Eval bleu for test set:  30%|███       | 65/216 [05:31<13:13,  5.26s/it]Eval bleu for test set:  31%|███       | 66/216 [05:37<13:29,  5.40s/it]Eval bleu for test set:  31%|███       | 67/216 [05:42<13:19,  5.36s/it]Eval bleu for test set:  31%|███▏      | 68/216 [05:47<13:13,  5.36s/it]Eval bleu for test set:  32%|███▏      | 69/216 [05:53<13:14,  5.41s/it]Eval bleu for test set:  32%|███▏      | 70/216 [05:58<13:14,  5.44s/it]Eval bleu for test set:  33%|███▎      | 71/216 [06:04<13:18,  5.51s/it]Eval bleu for test set:  33%|███▎      | 72/216 [06:10<13:18,  5.55s/it]Eval bleu for test set:  34%|███▍      | 73/216 [06:15<13:13,  5.55s/it]Eval bleu for test set:  34%|███▍      | 74/216 [06:20<12:43,  5.38s/it]Eval bleu for test set:  35%|███▍      | 75/216 [06:26<12:50,  5.46s/it]Eval bleu for test set:  35%|███▌      | 76/216 [06:31<12:52,  5.52s/it]Eval bleu for test set:  36%|███▌      | 77/216 [06:37<12:44,  5.50s/it]Eval bleu for test set:  36%|███▌      | 78/216 [06:42<12:38,  5.50s/it]Eval bleu for test set:  37%|███▋      | 79/216 [06:48<12:19,  5.40s/it]Eval bleu for test set:  37%|███▋      | 80/216 [06:53<12:19,  5.43s/it]Eval bleu for test set:  38%|███▊      | 81/216 [06:59<12:24,  5.51s/it]Eval bleu for test set:  38%|███▊      | 82/216 [07:04<12:09,  5.45s/it]Eval bleu for test set:  38%|███▊      | 83/216 [07:09<12:02,  5.43s/it]Eval bleu for test set:  39%|███▉      | 84/216 [07:15<12:02,  5.47s/it]Eval bleu for test set:  39%|███▉      | 85/216 [07:20<11:55,  5.46s/it]Eval bleu for test set:  40%|███▉      | 86/216 [07:25<11:12,  5.17s/it]Eval bleu for test set:  40%|████      | 87/216 [07:30<11:01,  5.13s/it]Eval bleu for test set:  41%|████      | 88/216 [07:35<11:01,  5.17s/it]Eval bleu for test set:  41%|████      | 89/216 [07:41<11:04,  5.23s/it]Eval bleu for test set:  42%|████▏     | 90/216 [07:46<11:08,  5.30s/it]Eval bleu for test set:  42%|████▏     | 91/216 [07:51<11:07,  5.34s/it]Eval bleu for test set:  43%|████▎     | 92/216 [07:57<11:10,  5.41s/it]Eval bleu for test set:  43%|████▎     | 93/216 [08:03<11:07,  5.43s/it]Eval bleu for test set:  44%|████▎     | 94/216 [08:08<11:01,  5.42s/it]Eval bleu for test set:  44%|████▍     | 95/216 [08:13<10:31,  5.22s/it]Eval bleu for test set:  44%|████▍     | 96/216 [08:18<10:36,  5.31s/it]Eval bleu for test set:  45%|████▍     | 97/216 [08:24<10:44,  5.41s/it]Eval bleu for test set:  45%|████▌     | 98/216 [08:29<10:46,  5.48s/it]Eval bleu for test set:  46%|████▌     | 99/216 [08:35<10:40,  5.47s/it]Eval bleu for test set:  46%|████▋     | 100/216 [08:40<10:35,  5.48s/it]Eval bleu for test set:  47%|████▋     | 101/216 [08:46<10:37,  5.54s/it]Eval bleu for test set:  47%|████▋     | 102/216 [08:52<10:26,  5.49s/it]Eval bleu for test set:  48%|████▊     | 103/216 [08:57<10:22,  5.51s/it]Eval bleu for test set:  48%|████▊     | 104/216 [09:02<09:52,  5.29s/it]Eval bleu for test set:  49%|████▊     | 105/216 [09:07<09:54,  5.36s/it]Eval bleu for test set:  49%|████▉     | 106/216 [09:13<09:53,  5.40s/it]Eval bleu for test set:  50%|████▉     | 107/216 [09:18<09:52,  5.44s/it]Eval bleu for test set:  50%|█████     | 108/216 [09:24<09:49,  5.46s/it]Eval bleu for test set:  50%|█████     | 109/216 [09:29<09:47,  5.49s/it]Eval bleu for test set:  51%|█████     | 110/216 [09:35<09:42,  5.49s/it]Eval bleu for test set:  51%|█████▏    | 111/216 [09:41<09:40,  5.52s/it]Eval bleu for test set:  52%|█████▏    | 112/216 [09:46<09:33,  5.51s/it]Eval bleu for test set:  52%|█████▏    | 113/216 [09:51<09:26,  5.50s/it]Eval bleu for test set:  53%|█████▎    | 114/216 [09:57<09:23,  5.52s/it]Eval bleu for test set:  53%|█████▎    | 115/216 [10:03<09:17,  5.52s/it]Eval bleu for test set:  54%|█████▎    | 116/216 [10:08<09:07,  5.48s/it]Eval bleu for test set:  54%|█████▍    | 117/216 [10:13<09:02,  5.48s/it]Eval bleu for test set:  55%|█████▍    | 118/216 [10:19<08:59,  5.51s/it]Eval bleu for test set:  55%|█████▌    | 119/216 [10:25<08:59,  5.56s/it]Eval bleu for test set:  56%|█████▌    | 120/216 [10:30<08:55,  5.58s/it]Eval bleu for test set:  56%|█████▌    | 121/216 [10:36<08:49,  5.57s/it]Eval bleu for test set:  56%|█████▋    | 122/216 [10:41<08:43,  5.57s/it]Eval bleu for test set:  57%|█████▋    | 123/216 [10:47<08:39,  5.58s/it]Eval bleu for test set:  57%|█████▋    | 124/216 [10:53<08:36,  5.61s/it]Eval bleu for test set:  58%|█████▊    | 125/216 [10:58<08:26,  5.57s/it]Eval bleu for test set:  58%|█████▊    | 126/216 [11:04<08:20,  5.56s/it]Eval bleu for test set:  59%|█████▉    | 127/216 [11:09<08:15,  5.57s/it]Eval bleu for test set:  59%|█████▉    | 128/216 [11:15<08:10,  5.57s/it]Eval bleu for test set:  60%|█████▉    | 129/216 [11:20<08:03,  5.55s/it]Eval bleu for test set:  60%|██████    | 130/216 [11:26<07:55,  5.53s/it]Eval bleu for test set:  61%|██████    | 131/216 [11:31<07:49,  5.52s/it]Eval bleu for test set:  61%|██████    | 132/216 [11:37<07:43,  5.52s/it]Eval bleu for test set:  62%|██████▏   | 133/216 [11:42<07:39,  5.53s/it]Eval bleu for test set:  62%|██████▏   | 134/216 [11:48<07:25,  5.44s/it]Eval bleu for test set:  62%|██████▎   | 135/216 [11:53<07:18,  5.42s/it]Eval bleu for test set:  63%|██████▎   | 136/216 [11:59<07:17,  5.46s/it]Eval bleu for test set:  63%|██████▎   | 137/216 [12:04<06:59,  5.31s/it]Eval bleu for test set:  64%|██████▍   | 138/216 [12:09<06:53,  5.30s/it]Eval bleu for test set:  64%|██████▍   | 139/216 [12:14<06:49,  5.32s/it]Eval bleu for test set:  65%|██████▍   | 140/216 [12:20<06:46,  5.34s/it]Eval bleu for test set:  65%|██████▌   | 141/216 [12:25<06:39,  5.33s/it]Eval bleu for test set:  66%|██████▌   | 142/216 [12:30<06:37,  5.38s/it]Eval bleu for test set:  66%|██████▌   | 143/216 [12:36<06:32,  5.38s/it]Eval bleu for test set:  67%|██████▋   | 144/216 [12:41<06:30,  5.43s/it]Eval bleu for test set:  67%|██████▋   | 145/216 [12:47<06:28,  5.47s/it]Eval bleu for test set:  68%|██████▊   | 146/216 [12:53<06:26,  5.53s/it]Eval bleu for test set:  68%|██████▊   | 147/216 [12:58<06:17,  5.48s/it]Eval bleu for test set:  69%|██████▊   | 148/216 [13:03<06:08,  5.42s/it]Eval bleu for test set:  69%|██████▉   | 149/216 [13:08<05:50,  5.24s/it]Eval bleu for test set:  69%|██████▉   | 150/216 [13:13<05:40,  5.16s/it]Eval bleu for test set:  70%|██████▉   | 151/216 [13:18<05:31,  5.09s/it]Eval bleu for test set:  70%|███████   | 152/216 [13:23<05:20,  5.01s/it]Eval bleu for test set:  71%|███████   | 153/216 [13:28<05:15,  5.00s/it]Eval bleu for test set:  71%|███████▏  | 154/216 [13:33<05:21,  5.19s/it]Eval bleu for test set:  72%|███████▏  | 155/216 [13:38<05:09,  5.07s/it]Eval bleu for test set:  72%|███████▏  | 156/216 [13:43<05:06,  5.12s/it]Eval bleu for test set:  73%|███████▎  | 157/216 [13:49<05:10,  5.27s/it]Eval bleu for test set:  73%|███████▎  | 158/216 [13:54<05:04,  5.24s/it]Eval bleu for test set:  74%|███████▎  | 159/216 [13:59<04:59,  5.26s/it]Eval bleu for test set:  74%|███████▍  | 160/216 [14:05<04:56,  5.29s/it]Eval bleu for test set:  75%|███████▍  | 161/216 [14:10<04:51,  5.30s/it]Eval bleu for test set:  75%|███████▌  | 162/216 [14:15<04:46,  5.31s/it]Eval bleu for test set:  75%|███████▌  | 163/216 [14:21<04:42,  5.32s/it]Eval bleu for test set:  76%|███████▌  | 164/216 [14:26<04:38,  5.35s/it]Eval bleu for test set:  76%|███████▋  | 165/216 [14:32<04:35,  5.40s/it]Eval bleu for test set:  77%|███████▋  | 166/216 [14:37<04:30,  5.40s/it]Eval bleu for test set:  77%|███████▋  | 167/216 [14:43<04:24,  5.40s/it]Eval bleu for test set:  78%|███████▊  | 168/216 [14:48<04:17,  5.37s/it]Eval bleu for test set:  78%|███████▊  | 169/216 [14:53<04:10,  5.33s/it]Eval bleu for test set:  79%|███████▊  | 170/216 [14:59<04:09,  5.43s/it]Eval bleu for test set:  79%|███████▉  | 171/216 [15:04<04:04,  5.43s/it]Eval bleu for test set:  80%|███████▉  | 172/216 [15:09<03:56,  5.38s/it]Eval bleu for test set:  80%|████████  | 173/216 [15:15<03:52,  5.40s/it]Eval bleu for test set:  81%|████████  | 174/216 [15:20<03:48,  5.44s/it]Eval bleu for test set:  81%|████████  | 175/216 [15:26<03:44,  5.47s/it]Eval bleu for test set:  81%|████████▏ | 176/216 [15:31<03:36,  5.42s/it]Eval bleu for test set:  82%|████████▏ | 177/216 [15:36<03:25,  5.26s/it]Eval bleu for test set:  82%|████████▏ | 178/216 [15:42<03:22,  5.33s/it]Eval bleu for test set:  83%|████████▎ | 179/216 [15:47<03:16,  5.30s/it]Eval bleu for test set:  83%|████████▎ | 180/216 [15:52<03:12,  5.36s/it]Eval bleu for test set:  84%|████████▍ | 181/216 [15:57<03:04,  5.28s/it]Eval bleu for test set:  84%|████████▍ | 182/216 [16:03<02:58,  5.24s/it]Eval bleu for test set:  85%|████████▍ | 183/216 [16:08<02:56,  5.36s/it]Eval bleu for test set:  85%|████████▌ | 184/216 [16:14<02:53,  5.42s/it]Eval bleu for test set:  86%|████████▌ | 185/216 [16:19<02:48,  5.43s/it]Eval bleu for test set:  86%|████████▌ | 186/216 [16:25<02:43,  5.43s/it]Eval bleu for test set:  87%|████████▋ | 187/216 [16:30<02:37,  5.43s/it]Eval bleu for test set:  87%|████████▋ | 188/216 [16:36<02:31,  5.41s/it]Eval bleu for test set:  88%|████████▊ | 189/216 [16:41<02:23,  5.30s/it]Eval bleu for test set:  88%|████████▊ | 190/216 [16:46<02:20,  5.39s/it]Eval bleu for test set:  88%|████████▊ | 191/216 [16:51<02:07,  5.10s/it]Eval bleu for test set:  89%|████████▉ | 192/216 [16:56<02:01,  5.07s/it]Eval bleu for test set:  89%|████████▉ | 193/216 [17:01<01:57,  5.10s/it]Eval bleu for test set:  90%|████████▉ | 194/216 [17:06<01:54,  5.19s/it]Eval bleu for test set:  90%|█████████ | 195/216 [17:12<01:50,  5.27s/it]Eval bleu for test set:  91%|█████████ | 196/216 [17:17<01:46,  5.30s/it]Eval bleu for test set:  91%|█████████ | 197/216 [17:22<01:41,  5.35s/it]Eval bleu for test set:  92%|█████████▏| 198/216 [17:28<01:36,  5.38s/it]Eval bleu for test set:  92%|█████████▏| 199/216 [17:33<01:31,  5.36s/it]Eval bleu for test set:  93%|█████████▎| 200/216 [17:39<01:26,  5.41s/it]Eval bleu for test set:  93%|█████████▎| 201/216 [17:44<01:20,  5.37s/it]Eval bleu for test set:  94%|█████████▎| 202/216 [17:49<01:15,  5.40s/it]Eval bleu for test set:  94%|█████████▍| 203/216 [17:55<01:10,  5.43s/it]Eval bleu for test set:  94%|█████████▍| 204/216 [18:00<01:04,  5.36s/it]Eval bleu for test set:  95%|█████████▍| 205/216 [18:05<00:55,  5.07s/it]Eval bleu for test set:  95%|█████████▌| 206/216 [18:10<00:51,  5.19s/it]Eval bleu for test set:  96%|█████████▌| 207/216 [18:16<00:47,  5.29s/it]Eval bleu for test set:  96%|█████████▋| 208/216 [18:21<00:42,  5.32s/it]Eval bleu for test set:  97%|█████████▋| 209/216 [18:27<00:37,  5.40s/it]Eval bleu for test set:  97%|█████████▋| 210/216 [18:32<00:32,  5.42s/it]Eval bleu for test set:  98%|█████████▊| 211/216 [18:37<00:26,  5.40s/it]Eval bleu for test set:  98%|█████████▊| 212/216 [18:43<00:21,  5.40s/it]Eval bleu for test set:  99%|█████████▊| 213/216 [18:48<00:16,  5.40s/it]Eval bleu for test set:  99%|█████████▉| 214/216 [18:53<00:10,  5.38s/it]Eval bleu for test set: 100%|█████████▉| 215/216 [18:59<00:05,  5.37s/it]Eval bleu for test set: 100%|██████████| 216/216 [19:01<00:00,  4.55s/it]Eval bleu for test set: 100%|██████████| 216/216 [19:02<00:00,  5.29s/it]
11/13/2022 02:13:18 - INFO - __main__ -   ***** Eval results *****
11/13/2022 02:13:18 - INFO - __main__ -     bleu = 79.39
11/13/2022 02:13:18 - INFO - __main__ -     codebleu = 80.4342
11/13/2022 02:13:18 - INFO - __main__ -     em = 20.3252
11/13/2022 02:13:18 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeparameter_renaming + whether_refactoringafter_refactoring :
11/13/2022 02:13:18 - INFO - __main__ -   [best-bleu] bleu-4: 79.39, em: 20.3252, codebleu: 80.4342

11/13/2022 02:13:18 - INFO - __main__ -   Finish and take 1h51m
11/13/2022 02:13:18 - INFO - __main__ -     ***** Testing *****
11/13/2022 02:13:18 - INFO - __main__ -     Batch size = 16
11/13/2022 02:13:18 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:13:18 - INFO - __main__ -   test11111111111
11/13/2022 02:13:18 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:13:18 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/boolean_exchange/before_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/boolean_exchange/before_refactoring/small/test.buggy-fixed.fixed
11/13/2022 02:13:18 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 02:13:18 - INFO - utils -   Read 32 examples, avg src len: 38, avg trg len: 38, max src len: 52, max trg len: 51
11/13/2022 02:13:18 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/test_src_all.pt
11/13/2022 02:13:18 - INFO - utils -   加载前test666666666666666
ngram match: 0.7938894374243963, weighted ngram match: 0.7963876207875711, syntax_match: 0.8179516283943071, dataflow_match: 0.8091383411340444
  0%|          | 0/32 [00:00<?, ?it/s] 75%|███████▌  | 24/32 [00:00<00:00, 214.33it/s]100%|██████████| 32/32 [00:00<00:00, 210.78it/s]
11/13/2022 02:13:18 - INFO - utils -   加载后test77777777777777
11/13/2022 02:13:18 - INFO - __main__ -   加载成功test2222222222
11/13/2022 02:13:18 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 02:13:18 - INFO - __main__ -     Num examples = 32
11/13/2022 02:13:18 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/2 [00:00<?, ?it/s]Eval bleu for test set:  50%|█████     | 1/2 [00:05<00:05,  5.08s/it]Eval bleu for test set: 100%|██████████| 2/2 [00:09<00:00,  4.96s/it]Eval bleu for test set: 100%|██████████| 2/2 [00:10<00:00,  5.01s/it]
11/13/2022 02:13:30 - INFO - __main__ -   ***** Eval results *****
11/13/2022 02:13:30 - INFO - __main__ -     bleu = 85.51
11/13/2022 02:13:30 - INFO - __main__ -     codebleu = 86.044
11/13/2022 02:13:30 - INFO - __main__ -     em = 25.0
11/13/2022 02:13:30 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeboolean_exchange + whether_refactoringbefore_refactoring :
11/13/2022 02:13:30 - INFO - __main__ -   [best-bleu] bleu-4: 85.51, em: 25.0000, codebleu: 86.0440

11/13/2022 02:13:30 - INFO - __main__ -   Finish and take 1h52m
11/13/2022 02:13:30 - INFO - __main__ -     ***** Testing *****
11/13/2022 02:13:30 - INFO - __main__ -     Batch size = 16
11/13/2022 02:13:30 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:13:30 - INFO - __main__ -   test11111111111
11/13/2022 02:13:30 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:13:30 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/boolean_exchange/after_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/boolean_exchange/after_refactoring/small/test.buggy-fixed.fixed
11/13/2022 02:13:30 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 02:13:30 - INFO - utils -   Read 32 examples, avg src len: 38, avg trg len: 37, max src len: 53, max trg len: 49
11/13/2022 02:13:30 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/test_src_all.pt
11/13/2022 02:13:30 - INFO - utils -   加载前test666666666666666
ngram match: 0.8549930000060453, weighted ngram match: 0.8560738244858821, syntax_match: 0.8727678571428571, dataflow_match: 0.8579234972677595
  0%|          | 0/32 [00:00<?, ?it/s] 75%|███████▌  | 24/32 [00:00<00:00, 220.19it/s]100%|██████████| 32/32 [00:00<00:00, 214.48it/s]
11/13/2022 02:13:30 - INFO - utils -   加载后test77777777777777
11/13/2022 02:13:30 - INFO - __main__ -   加载成功test2222222222
11/13/2022 02:13:30 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 02:13:30 - INFO - __main__ -     Num examples = 32
11/13/2022 02:13:30 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/2 [00:00<?, ?it/s]Eval bleu for test set:  50%|█████     | 1/2 [00:05<00:05,  5.11s/it]Eval bleu for test set: 100%|██████████| 2/2 [00:10<00:00,  5.31s/it]Eval bleu for test set: 100%|██████████| 2/2 [00:10<00:00,  5.32s/it]
11/13/2022 02:13:43 - INFO - __main__ -   ***** Eval results *****
11/13/2022 02:13:43 - INFO - __main__ -     bleu = 66.25
11/13/2022 02:13:43 - INFO - __main__ -     codebleu = 75.4886
11/13/2022 02:13:43 - INFO - __main__ -     em = 0.0
11/13/2022 02:13:43 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeboolean_exchange + whether_refactoringafter_refactoring :
11/13/2022 02:13:43 - INFO - __main__ -   [best-bleu] bleu-4: 66.25, em: 0.0000, codebleu: 75.4886

11/13/2022 02:13:43 - INFO - __main__ -   Finish and take 1h52m
11/13/2022 02:13:43 - INFO - __main__ -     ***** Testing *****
11/13/2022 02:13:43 - INFO - __main__ -     Batch size = 16
11/13/2022 02:13:43 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:13:43 - INFO - __main__ -   test11111111111
11/13/2022 02:13:43 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:13:43 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/convert_switch_to_if/before_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/convert_switch_to_if/before_refactoring/small/test.buggy-fixed.fixed
11/13/2022 02:13:43 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 02:13:43 - INFO - utils -   Read 44 examples, avg src len: 40, avg trg len: 37, max src len: 57, max trg len: 54
11/13/2022 02:13:43 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/test_src_all.pt
11/13/2022 02:13:43 - INFO - utils -   加载前test666666666666666
ngram match: 0.6621920675110893, weighted ngram match: 0.6695157914844535, syntax_match: 0.778, dataflow_match: 0.9098360655737705
  0%|          | 0/44 [00:00<?, ?it/s] 75%|███████▌  | 33/44 [00:00<00:00, 298.96it/s]100%|██████████| 44/44 [00:00<00:00, 280.05it/s]
11/13/2022 02:13:43 - INFO - utils -   加载后test77777777777777
11/13/2022 02:13:43 - INFO - __main__ -   加载成功test2222222222
11/13/2022 02:13:43 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 02:13:43 - INFO - __main__ -     Num examples = 44
11/13/2022 02:13:43 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/3 [00:00<?, ?it/s]Eval bleu for test set:  33%|███▎      | 1/3 [00:05<00:11,  5.66s/it]Eval bleu for test set:  67%|██████▋   | 2/3 [00:11<00:05,  5.69s/it]Eval bleu for test set: 100%|██████████| 3/3 [00:16<00:00,  5.27s/it]Eval bleu for test set: 100%|██████████| 3/3 [00:16<00:00,  5.41s/it]
11/13/2022 02:14:02 - INFO - __main__ -   ***** Eval results *****
11/13/2022 02:14:02 - INFO - __main__ -     bleu = 83.44
11/13/2022 02:14:02 - INFO - __main__ -     codebleu = 84.1404
11/13/2022 02:14:02 - INFO - __main__ -     em = 9.0909
11/13/2022 02:14:02 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeconvert_switch_to_if + whether_refactoringbefore_refactoring :
11/13/2022 02:14:02 - INFO - __main__ -   [best-bleu] bleu-4: 83.44, em: 9.0909, codebleu: 84.1404

11/13/2022 02:14:02 - INFO - __main__ -   Finish and take 1h52m
11/13/2022 02:14:02 - INFO - __main__ -     ***** Testing *****
11/13/2022 02:14:02 - INFO - __main__ -     Batch size = 16
11/13/2022 02:14:02 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:14:02 - INFO - __main__ -   test11111111111
11/13/2022 02:14:02 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:14:02 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/convert_switch_to_if/after_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/convert_switch_to_if/after_refactoring/small/test.buggy-fixed.fixed
11/13/2022 02:14:02 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 02:14:02 - INFO - utils -   Read 44 examples, avg src len: 44, avg trg len: 39, max src len: 76, max trg len: 74
11/13/2022 02:14:02 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/test_src_all.pt
11/13/2022 02:14:02 - INFO - utils -   加载前test666666666666666
ngram match: 0.8342469161317594, weighted ngram match: 0.8368615926091996, syntax_match: 0.827471798274718, dataflow_match: 0.8670360110803325
  0%|          | 0/44 [00:00<?, ?it/s] 75%|███████▌  | 33/44 [00:00<00:00, 297.76it/s]100%|██████████| 44/44 [00:00<00:00, 278.22it/s]
11/13/2022 02:14:02 - INFO - utils -   加载后test77777777777777
11/13/2022 02:14:02 - INFO - __main__ -   加载成功test2222222222
11/13/2022 02:14:02 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 02:14:02 - INFO - __main__ -     Num examples = 44
11/13/2022 02:14:02 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/3 [00:00<?, ?it/s]Eval bleu for test set:  33%|███▎      | 1/3 [00:05<00:11,  5.84s/it]Eval bleu for test set:  67%|██████▋   | 2/3 [00:11<00:05,  5.82s/it]Eval bleu for test set: 100%|██████████| 3/3 [00:16<00:00,  5.37s/it]Eval bleu for test set: 100%|██████████| 3/3 [00:16<00:00,  5.52s/it]
11/13/2022 02:14:21 - INFO - __main__ -   ***** Eval results *****
11/13/2022 02:14:21 - INFO - __main__ -     bleu = 71.75
11/13/2022 02:14:21 - INFO - __main__ -     codebleu = 76.7124
11/13/2022 02:14:21 - INFO - __main__ -     em = 2.2727
11/13/2022 02:14:21 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeconvert_switch_to_if + whether_refactoringafter_refactoring :
11/13/2022 02:14:21 - INFO - __main__ -   [best-bleu] bleu-4: 71.75, em: 2.2727, codebleu: 76.7124

11/13/2022 02:14:21 - INFO - __main__ -   Finish and take 1h52m
11/13/2022 02:14:21 - INFO - __main__ -     ***** Testing *****
11/13/2022 02:14:21 - INFO - __main__ -     Batch size = 16
11/13/2022 02:14:21 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:14:21 - INFO - __main__ -   test11111111111
11/13/2022 02:14:21 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:14:21 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/insert_log_statement/before_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/insert_log_statement/before_refactoring/small/test.buggy-fixed.fixed
11/13/2022 02:14:21 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 02:14:22 - INFO - utils -   Read 5608 examples, avg src len: 32, avg trg len: 29, max src len: 93, max trg len: 129
11/13/2022 02:14:22 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/test_src_all.pt
11/13/2022 02:14:22 - INFO - utils -   加载前test666666666666666
ngram match: 0.7173317668165208, weighted ngram match: 0.7425374684933329, syntax_match: 0.819371727748691, dataflow_match: 0.7892561983471075
  0%|          | 0/5608 [00:00<?, ?it/s] 50%|█████     | 2804/5608 [00:01<00:01, 1773.48it/s] 75%|███████▌  | 4206/5608 [00:03<00:01, 1232.95it/s]100%|██████████| 5608/5608 [00:04<00:00, 1087.76it/s]100%|██████████| 5608/5608 [00:04<00:00, 1181.26it/s]
11/13/2022 02:14:28 - INFO - utils -   加载后test77777777777777
11/13/2022 02:14:28 - INFO - __main__ -   加载成功test2222222222
11/13/2022 02:14:28 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 02:14:28 - INFO - __main__ -     Num examples = 5608
11/13/2022 02:14:28 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/351 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/351 [00:05<33:18,  5.71s/it]Eval bleu for test set:   1%|          | 2/351 [00:11<32:02,  5.51s/it]Eval bleu for test set:   1%|          | 3/351 [00:16<31:32,  5.44s/it]Eval bleu for test set:   1%|          | 4/351 [00:21<31:17,  5.41s/it]Eval bleu for test set:   1%|▏         | 5/351 [00:27<31:19,  5.43s/it]Eval bleu for test set:   2%|▏         | 6/351 [00:31<28:41,  4.99s/it]Eval bleu for test set:   2%|▏         | 7/351 [00:36<29:00,  5.06s/it]Eval bleu for test set:   2%|▏         | 8/351 [00:42<29:38,  5.19s/it]Eval bleu for test set:   3%|▎         | 9/351 [00:47<29:33,  5.18s/it]Eval bleu for test set:   3%|▎         | 10/351 [00:52<30:02,  5.29s/it]Eval bleu for test set:   3%|▎         | 11/351 [00:58<30:21,  5.36s/it]Eval bleu for test set:   3%|▎         | 12/351 [01:03<30:02,  5.32s/it]Eval bleu for test set:   4%|▎         | 13/351 [01:08<29:37,  5.26s/it]Eval bleu for test set:   4%|▍         | 14/351 [01:13<29:41,  5.29s/it]Eval bleu for test set:   4%|▍         | 15/351 [01:19<29:37,  5.29s/it]Eval bleu for test set:   5%|▍         | 16/351 [01:24<29:49,  5.34s/it]Eval bleu for test set:   5%|▍         | 17/351 [01:29<28:31,  5.13s/it]Eval bleu for test set:   5%|▌         | 18/351 [01:34<29:11,  5.26s/it]Eval bleu for test set:   5%|▌         | 19/351 [01:40<29:25,  5.32s/it]Eval bleu for test set:   6%|▌         | 20/351 [01:44<26:45,  4.85s/it]Eval bleu for test set:   6%|▌         | 21/351 [01:47<24:46,  4.51s/it]Eval bleu for test set:   6%|▋         | 22/351 [01:53<26:15,  4.79s/it]Eval bleu for test set:   7%|▋         | 23/351 [01:58<26:56,  4.93s/it]Eval bleu for test set:   7%|▋         | 24/351 [02:03<27:36,  5.07s/it]Eval bleu for test set:   7%|▋         | 25/351 [02:09<27:54,  5.14s/it]Eval bleu for test set:   7%|▋         | 26/351 [02:14<28:05,  5.18s/it]Eval bleu for test set:   8%|▊         | 27/351 [02:19<28:25,  5.27s/it]Eval bleu for test set:   8%|▊         | 28/351 [02:25<28:34,  5.31s/it]Eval bleu for test set:   8%|▊         | 29/351 [02:30<28:30,  5.31s/it]Eval bleu for test set:   9%|▊         | 30/351 [02:36<28:50,  5.39s/it]Eval bleu for test set:   9%|▉         | 31/351 [02:41<28:42,  5.38s/it]Eval bleu for test set:   9%|▉         | 32/351 [02:46<28:25,  5.35s/it]Eval bleu for test set:   9%|▉         | 33/351 [02:51<27:42,  5.23s/it]Eval bleu for test set:  10%|▉         | 34/351 [02:56<26:57,  5.10s/it]Eval bleu for test set:  10%|▉         | 35/351 [03:01<26:17,  4.99s/it]Eval bleu for test set:  10%|█         | 36/351 [03:06<26:01,  4.96s/it]Eval bleu for test set:  11%|█         | 37/351 [03:11<25:45,  4.92s/it]Eval bleu for test set:  11%|█         | 38/351 [03:16<25:46,  4.94s/it]Eval bleu for test set:  11%|█         | 39/351 [03:20<25:25,  4.89s/it]Eval bleu for test set:  11%|█▏        | 40/351 [03:25<25:13,  4.87s/it]Eval bleu for test set:  12%|█▏        | 41/351 [03:30<24:32,  4.75s/it]Eval bleu for test set:  12%|█▏        | 42/351 [03:34<24:26,  4.74s/it]Eval bleu for test set:  12%|█▏        | 43/351 [03:39<24:24,  4.75s/it]Eval bleu for test set:  13%|█▎        | 44/351 [03:44<24:28,  4.78s/it]Eval bleu for test set:  13%|█▎        | 45/351 [03:49<23:55,  4.69s/it]Eval bleu for test set:  13%|█▎        | 46/351 [03:53<23:53,  4.70s/it]Eval bleu for test set:  13%|█▎        | 47/351 [03:58<23:21,  4.61s/it]Eval bleu for test set:  14%|█▎        | 48/351 [04:02<23:29,  4.65s/it]Eval bleu for test set:  14%|█▍        | 49/351 [04:07<23:39,  4.70s/it]Eval bleu for test set:  14%|█▍        | 50/351 [04:12<23:44,  4.73s/it]Eval bleu for test set:  15%|█▍        | 51/351 [04:17<23:42,  4.74s/it]Eval bleu for test set:  15%|█▍        | 52/351 [04:22<23:41,  4.75s/it]Eval bleu for test set:  15%|█▌        | 53/351 [04:25<22:16,  4.49s/it]Eval bleu for test set:  15%|█▌        | 54/351 [04:30<22:33,  4.56s/it]Eval bleu for test set:  16%|█▌        | 55/351 [04:35<22:53,  4.64s/it]Eval bleu for test set:  16%|█▌        | 56/351 [04:40<23:09,  4.71s/it]Eval bleu for test set:  16%|█▌        | 57/351 [04:45<23:24,  4.78s/it]Eval bleu for test set:  17%|█▋        | 58/351 [04:49<23:08,  4.74s/it]Eval bleu for test set:  17%|█▋        | 59/351 [04:54<23:10,  4.76s/it]Eval bleu for test set:  17%|█▋        | 60/351 [04:59<23:16,  4.80s/it]Eval bleu for test set:  17%|█▋        | 61/351 [05:04<23:18,  4.82s/it]Eval bleu for test set:  18%|█▊        | 62/351 [05:09<23:09,  4.81s/it]Eval bleu for test set:  18%|█▊        | 63/351 [05:14<23:02,  4.80s/it]Eval bleu for test set:  18%|█▊        | 64/351 [05:18<22:58,  4.80s/it]Eval bleu for test set:  19%|█▊        | 65/351 [05:23<22:57,  4.82s/it]Eval bleu for test set:  19%|█▉        | 66/351 [05:27<21:27,  4.52s/it]Eval bleu for test set:  19%|█▉        | 67/351 [05:32<21:47,  4.60s/it]Eval bleu for test set:  19%|█▉        | 68/351 [05:37<21:58,  4.66s/it]Eval bleu for test set:  20%|█▉        | 69/351 [05:42<22:12,  4.72s/it]Eval bleu for test set:  20%|█▉        | 70/351 [05:46<22:20,  4.77s/it]Eval bleu for test set:  20%|██        | 71/351 [05:51<21:21,  4.58s/it]Eval bleu for test set:  21%|██        | 72/351 [05:55<20:53,  4.49s/it]Eval bleu for test set:  21%|██        | 73/351 [06:00<21:11,  4.57s/it]Eval bleu for test set:  21%|██        | 74/351 [06:04<21:30,  4.66s/it]Eval bleu for test set:  21%|██▏       | 75/351 [06:09<21:38,  4.70s/it]Eval bleu for test set:  22%|██▏       | 76/351 [06:14<21:44,  4.75s/it]Eval bleu for test set:  22%|██▏       | 77/351 [06:19<21:46,  4.77s/it]Eval bleu for test set:  22%|██▏       | 78/351 [06:24<21:47,  4.79s/it]Eval bleu for test set:  23%|██▎       | 79/351 [06:29<22:01,  4.86s/it]Eval bleu for test set:  23%|██▎       | 80/351 [06:34<21:51,  4.84s/it]Eval bleu for test set:  23%|██▎       | 81/351 [06:38<21:03,  4.68s/it]Eval bleu for test set:  23%|██▎       | 82/351 [06:43<21:13,  4.73s/it]Eval bleu for test set:  24%|██▎       | 83/351 [06:47<21:00,  4.70s/it]Eval bleu for test set:  24%|██▍       | 84/351 [06:52<20:35,  4.63s/it]Eval bleu for test set:  24%|██▍       | 85/351 [06:57<20:36,  4.65s/it]Eval bleu for test set:  25%|██▍       | 86/351 [07:01<20:47,  4.71s/it]Eval bleu for test set:  25%|██▍       | 87/351 [07:06<20:40,  4.70s/it]Eval bleu for test set:  25%|██▌       | 88/351 [07:11<20:40,  4.72s/it]Eval bleu for test set:  25%|██▌       | 89/351 [07:15<20:09,  4.62s/it]Eval bleu for test set:  26%|██▌       | 90/351 [07:20<20:33,  4.73s/it]Eval bleu for test set:  26%|██▌       | 91/351 [07:25<20:34,  4.75s/it]Eval bleu for test set:  26%|██▌       | 92/351 [07:30<20:28,  4.74s/it]Eval bleu for test set:  26%|██▋       | 93/351 [07:34<20:24,  4.75s/it]Eval bleu for test set:  27%|██▋       | 94/351 [07:39<20:23,  4.76s/it]Eval bleu for test set:  27%|██▋       | 95/351 [07:44<19:55,  4.67s/it]Eval bleu for test set:  27%|██▋       | 96/351 [07:48<19:51,  4.67s/it]Eval bleu for test set:  28%|██▊       | 97/351 [07:53<19:50,  4.69s/it]Eval bleu for test set:  28%|██▊       | 98/351 [07:58<20:07,  4.77s/it]Eval bleu for test set:  28%|██▊       | 99/351 [08:03<20:03,  4.78s/it]Eval bleu for test set:  28%|██▊       | 100/351 [08:08<19:58,  4.77s/it]Eval bleu for test set:  29%|██▉       | 101/351 [08:12<19:37,  4.71s/it]Eval bleu for test set:  29%|██▉       | 102/351 [08:17<19:35,  4.72s/it]Eval bleu for test set:  29%|██▉       | 103/351 [08:22<19:35,  4.74s/it]Eval bleu for test set:  30%|██▉       | 104/351 [08:25<18:02,  4.38s/it]Eval bleu for test set:  30%|██▉       | 105/351 [08:30<18:28,  4.51s/it]Eval bleu for test set:  30%|███       | 106/351 [08:35<18:43,  4.58s/it]Eval bleu for test set:  30%|███       | 107/351 [08:40<18:58,  4.67s/it]Eval bleu for test set:  31%|███       | 108/351 [08:44<19:02,  4.70s/it]Eval bleu for test set:  31%|███       | 109/351 [08:49<19:09,  4.75s/it]Eval bleu for test set:  31%|███▏      | 110/351 [08:54<19:18,  4.81s/it]Eval bleu for test set:  32%|███▏      | 111/351 [08:59<19:10,  4.80s/it]Eval bleu for test set:  32%|███▏      | 112/351 [09:04<19:11,  4.82s/it]Eval bleu for test set:  32%|███▏      | 113/351 [09:09<19:12,  4.84s/it]Eval bleu for test set:  32%|███▏      | 114/351 [09:14<19:15,  4.88s/it]Eval bleu for test set:  33%|███▎      | 115/351 [09:18<18:52,  4.80s/it]Eval bleu for test set:  33%|███▎      | 116/351 [09:23<18:43,  4.78s/it]Eval bleu for test set:  33%|███▎      | 117/351 [09:28<18:35,  4.77s/it]Eval bleu for test set:  34%|███▎      | 118/351 [09:32<17:49,  4.59s/it]Eval bleu for test set:  34%|███▍      | 119/351 [09:37<17:59,  4.65s/it]Eval bleu for test set:  34%|███▍      | 120/351 [09:41<17:26,  4.53s/it]Eval bleu for test set:  34%|███▍      | 121/351 [09:46<17:55,  4.67s/it]Eval bleu for test set:  35%|███▍      | 122/351 [09:50<16:46,  4.39s/it]Eval bleu for test set:  35%|███▌      | 123/351 [09:55<17:08,  4.51s/it]Eval bleu for test set:  35%|███▌      | 124/351 [09:59<17:23,  4.60s/it]Eval bleu for test set:  36%|███▌      | 125/351 [10:04<17:30,  4.65s/it]Eval bleu for test set:  36%|███▌      | 126/351 [10:09<17:40,  4.71s/it]Eval bleu for test set:  36%|███▌      | 127/351 [10:14<17:43,  4.75s/it]Eval bleu for test set:  36%|███▋      | 128/351 [10:19<17:42,  4.76s/it]Eval bleu for test set:  37%|███▋      | 129/351 [10:23<17:35,  4.76s/it]Eval bleu for test set:  37%|███▋      | 130/351 [10:28<17:40,  4.80s/it]Eval bleu for test set:  37%|███▋      | 131/351 [10:33<17:47,  4.85s/it]Eval bleu for test set:  38%|███▊      | 132/351 [10:38<17:35,  4.82s/it]Eval bleu for test set:  38%|███▊      | 133/351 [10:43<17:30,  4.82s/it]Eval bleu for test set:  38%|███▊      | 134/351 [10:48<17:25,  4.82s/it]Eval bleu for test set:  38%|███▊      | 135/351 [10:52<17:10,  4.77s/it]Eval bleu for test set:  39%|███▊      | 136/351 [10:57<17:02,  4.76s/it]Eval bleu for test set:  39%|███▉      | 137/351 [11:02<16:52,  4.73s/it]Eval bleu for test set:  39%|███▉      | 138/351 [11:06<16:38,  4.69s/it]Eval bleu for test set:  40%|███▉      | 139/351 [11:11<16:41,  4.72s/it]Eval bleu for test set:  40%|███▉      | 140/351 [11:16<16:47,  4.77s/it]Eval bleu for test set:  40%|████      | 141/351 [11:21<16:46,  4.79s/it]Eval bleu for test set:  40%|████      | 142/351 [11:25<15:57,  4.58s/it]Eval bleu for test set:  41%|████      | 143/351 [11:29<15:50,  4.57s/it]Eval bleu for test set:  41%|████      | 144/351 [11:34<16:03,  4.66s/it]Eval bleu for test set:  41%|████▏     | 145/351 [11:39<16:09,  4.71s/it]Eval bleu for test set:  42%|████▏     | 146/351 [11:44<16:44,  4.90s/it]Eval bleu for test set:  42%|████▏     | 147/351 [11:50<17:12,  5.06s/it]Eval bleu for test set:  42%|████▏     | 148/351 [11:54<16:35,  4.90s/it]Eval bleu for test set:  42%|████▏     | 149/351 [12:00<17:11,  5.11s/it]Eval bleu for test set:  43%|████▎     | 150/351 [12:06<17:33,  5.24s/it]Eval bleu for test set:  43%|████▎     | 151/351 [12:11<17:58,  5.39s/it]Eval bleu for test set:  43%|████▎     | 152/351 [12:17<17:51,  5.39s/it]Eval bleu for test set:  44%|████▎     | 153/351 [12:22<17:48,  5.39s/it]Eval bleu for test set:  44%|████▍     | 154/351 [12:27<17:39,  5.38s/it]Eval bleu for test set:  44%|████▍     | 155/351 [12:33<17:47,  5.45s/it]Eval bleu for test set:  44%|████▍     | 156/351 [12:39<17:41,  5.44s/it]Eval bleu for test set:  45%|████▍     | 157/351 [12:44<17:26,  5.39s/it]Eval bleu for test set:  45%|████▌     | 158/351 [12:49<17:13,  5.35s/it]Eval bleu for test set:  45%|████▌     | 159/351 [12:54<17:08,  5.35s/it]Eval bleu for test set:  46%|████▌     | 160/351 [13:00<16:48,  5.28s/it]Eval bleu for test set:  46%|████▌     | 161/351 [13:05<16:53,  5.33s/it]Eval bleu for test set:  46%|████▌     | 162/351 [13:10<16:51,  5.35s/it]Eval bleu for test set:  46%|████▋     | 163/351 [13:16<16:49,  5.37s/it]Eval bleu for test set:  47%|████▋     | 164/351 [13:21<16:49,  5.40s/it]Eval bleu for test set:  47%|████▋     | 165/351 [13:27<16:43,  5.40s/it]Eval bleu for test set:  47%|████▋     | 166/351 [13:32<16:44,  5.43s/it]Eval bleu for test set:  48%|████▊     | 167/351 [13:37<16:31,  5.39s/it]Eval bleu for test set:  48%|████▊     | 168/351 [13:43<16:28,  5.40s/it]Eval bleu for test set:  48%|████▊     | 169/351 [13:48<16:21,  5.40s/it]Eval bleu for test set:  48%|████▊     | 170/351 [13:54<16:14,  5.38s/it]Eval bleu for test set:  49%|████▊     | 171/351 [13:59<16:06,  5.37s/it]Eval bleu for test set:  49%|████▉     | 172/351 [14:04<16:05,  5.39s/it]Eval bleu for test set:  49%|████▉     | 173/351 [14:10<16:02,  5.41s/it]Eval bleu for test set:  50%|████▉     | 174/351 [14:15<16:00,  5.43s/it]Eval bleu for test set:  50%|████▉     | 175/351 [14:20<15:42,  5.35s/it]Eval bleu for test set:  50%|█████     | 176/351 [14:26<15:41,  5.38s/it]Eval bleu for test set:  50%|█████     | 177/351 [14:31<15:40,  5.40s/it]Eval bleu for test set:  51%|█████     | 178/351 [14:37<15:34,  5.40s/it]Eval bleu for test set:  51%|█████     | 179/351 [14:42<15:28,  5.40s/it]Eval bleu for test set:  51%|█████▏    | 180/351 [14:47<15:17,  5.36s/it]Eval bleu for test set:  52%|█████▏    | 181/351 [14:53<15:14,  5.38s/it]Eval bleu for test set:  52%|█████▏    | 182/351 [14:58<15:05,  5.36s/it]Eval bleu for test set:  52%|█████▏    | 183/351 [15:04<15:03,  5.38s/it]Eval bleu for test set:  52%|█████▏    | 184/351 [15:09<14:56,  5.37s/it]Eval bleu for test set:  53%|█████▎    | 185/351 [15:14<14:57,  5.41s/it]Eval bleu for test set:  53%|█████▎    | 186/351 [15:19<14:22,  5.22s/it]Eval bleu for test set:  53%|█████▎    | 187/351 [15:25<14:21,  5.25s/it]Eval bleu for test set:  54%|█████▎    | 188/351 [15:30<14:30,  5.34s/it]Eval bleu for test set:  54%|█████▍    | 189/351 [15:36<14:31,  5.38s/it]Eval bleu for test set:  54%|█████▍    | 190/351 [15:41<14:26,  5.38s/it]Eval bleu for test set:  54%|█████▍    | 191/351 [15:46<14:22,  5.39s/it]Eval bleu for test set:  55%|█████▍    | 192/351 [15:52<14:23,  5.43s/it]Eval bleu for test set:  55%|█████▍    | 193/351 [15:57<14:17,  5.43s/it]Eval bleu for test set:  55%|█████▌    | 194/351 [16:03<14:13,  5.44s/it]Eval bleu for test set:  56%|█████▌    | 195/351 [16:08<14:19,  5.51s/it]Eval bleu for test set:  56%|█████▌    | 196/351 [16:14<14:06,  5.46s/it]Eval bleu for test set:  56%|█████▌    | 197/351 [16:19<13:51,  5.40s/it]Eval bleu for test set:  56%|█████▋    | 198/351 [16:24<13:15,  5.20s/it]Eval bleu for test set:  57%|█████▋    | 199/351 [16:29<12:52,  5.08s/it]Eval bleu for test set:  57%|█████▋    | 200/351 [16:33<12:29,  4.96s/it]Eval bleu for test set:  57%|█████▋    | 201/351 [16:38<12:15,  4.91s/it]Eval bleu for test set:  58%|█████▊    | 202/351 [16:43<12:16,  4.94s/it]Eval bleu for test set:  58%|█████▊    | 203/351 [16:48<12:04,  4.89s/it]Eval bleu for test set:  58%|█████▊    | 204/351 [16:53<11:55,  4.87s/it]Eval bleu for test set:  58%|█████▊    | 205/351 [16:57<11:47,  4.84s/it]Eval bleu for test set:  59%|█████▊    | 206/351 [17:02<11:39,  4.82s/it]Eval bleu for test set:  59%|█████▉    | 207/351 [17:07<11:28,  4.78s/it]Eval bleu for test set:  59%|█████▉    | 208/351 [17:12<11:22,  4.77s/it]Eval bleu for test set:  60%|█████▉    | 209/351 [17:17<11:20,  4.79s/it]Eval bleu for test set:  60%|█████▉    | 210/351 [17:21<11:15,  4.79s/it]Eval bleu for test set:  60%|██████    | 211/351 [17:26<10:49,  4.64s/it]Eval bleu for test set:  60%|██████    | 212/351 [17:30<10:45,  4.64s/it]Eval bleu for test set:  61%|██████    | 213/351 [17:35<10:40,  4.64s/it]Eval bleu for test set:  61%|██████    | 214/351 [17:40<10:48,  4.73s/it]Eval bleu for test set:  61%|██████▏   | 215/351 [17:45<10:45,  4.75s/it]Eval bleu for test set:  62%|██████▏   | 216/351 [17:49<10:36,  4.71s/it]Eval bleu for test set:  62%|██████▏   | 217/351 [17:54<10:31,  4.71s/it]Eval bleu for test set:  62%|██████▏   | 218/351 [17:59<10:31,  4.75s/it]Eval bleu for test set:  62%|██████▏   | 219/351 [18:04<10:30,  4.78s/it]Eval bleu for test set:  63%|██████▎   | 220/351 [18:08<10:20,  4.74s/it]Eval bleu for test set:  63%|██████▎   | 221/351 [18:13<10:18,  4.76s/it]Eval bleu for test set:  63%|██████▎   | 222/351 [18:18<10:05,  4.70s/it]Eval bleu for test set:  64%|██████▎   | 223/351 [18:22<10:03,  4.71s/it]Eval bleu for test set:  64%|██████▍   | 224/351 [18:27<09:55,  4.69s/it]Eval bleu for test set:  64%|██████▍   | 225/351 [18:32<09:51,  4.70s/it]Eval bleu for test set:  64%|██████▍   | 226/351 [18:37<09:57,  4.78s/it]Eval bleu for test set:  65%|██████▍   | 227/351 [18:41<09:48,  4.75s/it]Eval bleu for test set:  65%|██████▍   | 228/351 [18:46<09:46,  4.77s/it]Eval bleu for test set:  65%|██████▌   | 229/351 [18:51<09:41,  4.77s/it]Eval bleu for test set:  66%|██████▌   | 230/351 [18:56<09:38,  4.78s/it]Eval bleu for test set:  66%|██████▌   | 231/351 [19:01<09:32,  4.77s/it]Eval bleu for test set:  66%|██████▌   | 232/351 [19:05<09:26,  4.76s/it]Eval bleu for test set:  66%|██████▋   | 233/351 [19:10<09:20,  4.75s/it]Eval bleu for test set:  67%|██████▋   | 234/351 [19:15<09:15,  4.75s/it]Eval bleu for test set:  67%|██████▋   | 235/351 [19:19<09:02,  4.67s/it]Eval bleu for test set:  67%|██████▋   | 236/351 [19:23<08:38,  4.51s/it]Eval bleu for test set:  68%|██████▊   | 237/351 [19:28<08:48,  4.64s/it]Eval bleu for test set:  68%|██████▊   | 238/351 [19:33<08:51,  4.70s/it]Eval bleu for test set:  68%|██████▊   | 239/351 [19:38<08:48,  4.72s/it]Eval bleu for test set:  68%|██████▊   | 240/351 [19:43<08:41,  4.70s/it]Eval bleu for test set:  69%|██████▊   | 241/351 [19:47<08:40,  4.73s/it]Eval bleu for test set:  69%|██████▉   | 242/351 [19:52<08:35,  4.73s/it]Eval bleu for test set:  69%|██████▉   | 243/351 [19:57<08:29,  4.72s/it]Eval bleu for test set:  70%|██████▉   | 244/351 [20:02<08:27,  4.75s/it]Eval bleu for test set:  70%|██████▉   | 245/351 [20:06<08:27,  4.79s/it]Eval bleu for test set:  70%|███████   | 246/351 [20:11<08:22,  4.78s/it]Eval bleu for test set:  70%|███████   | 247/351 [20:16<08:15,  4.76s/it]Eval bleu for test set:  71%|███████   | 248/351 [20:21<08:07,  4.74s/it]Eval bleu for test set:  71%|███████   | 249/351 [20:26<08:12,  4.83s/it]Eval bleu for test set:  71%|███████   | 250/351 [20:30<07:41,  4.57s/it]Eval bleu for test set:  72%|███████▏  | 251/351 [20:35<08:03,  4.83s/it]Eval bleu for test set:  72%|███████▏  | 252/351 [20:40<08:03,  4.89s/it]Eval bleu for test set:  72%|███████▏  | 253/351 [20:45<08:12,  5.03s/it]Eval bleu for test set:  72%|███████▏  | 254/351 [20:51<08:17,  5.13s/it]Eval bleu for test set:  73%|███████▎  | 255/351 [20:56<08:20,  5.21s/it]Eval bleu for test set:  73%|███████▎  | 256/351 [21:00<07:41,  4.86s/it]Eval bleu for test set:  73%|███████▎  | 257/351 [21:06<07:57,  5.08s/it]Eval bleu for test set:  74%|███████▎  | 258/351 [21:11<07:58,  5.15s/it]Eval bleu for test set:  74%|███████▍  | 259/351 [21:16<07:58,  5.21s/it]Eval bleu for test set:  74%|███████▍  | 260/351 [21:21<07:40,  5.06s/it]Eval bleu for test set:  74%|███████▍  | 261/351 [21:26<07:39,  5.10s/it]Eval bleu for test set:  75%|███████▍  | 262/351 [21:32<07:39,  5.17s/it]Eval bleu for test set:  75%|███████▍  | 263/351 [21:37<07:42,  5.26s/it]Eval bleu for test set:  75%|███████▌  | 264/351 [21:42<07:37,  5.26s/it]Eval bleu for test set:  75%|███████▌  | 265/351 [21:48<07:34,  5.29s/it]Eval bleu for test set:  76%|███████▌  | 266/351 [21:53<07:28,  5.27s/it]Eval bleu for test set:  76%|███████▌  | 267/351 [21:59<07:30,  5.36s/it]Eval bleu for test set:  76%|███████▋  | 268/351 [22:04<07:21,  5.32s/it]Eval bleu for test set:  77%|███████▋  | 269/351 [22:09<07:17,  5.34s/it]Eval bleu for test set:  77%|███████▋  | 270/351 [22:15<07:12,  5.34s/it]Eval bleu for test set:  77%|███████▋  | 271/351 [22:20<07:05,  5.32s/it]Eval bleu for test set:  77%|███████▋  | 272/351 [22:25<06:58,  5.30s/it]Eval bleu for test set:  78%|███████▊  | 273/351 [22:30<06:47,  5.23s/it]Eval bleu for test set:  78%|███████▊  | 274/351 [22:36<06:45,  5.27s/it]Eval bleu for test set:  78%|███████▊  | 275/351 [22:41<06:42,  5.30s/it]Eval bleu for test set:  79%|███████▊  | 276/351 [22:46<06:41,  5.36s/it]Eval bleu for test set:  79%|███████▉  | 277/351 [22:52<06:36,  5.36s/it]Eval bleu for test set:  79%|███████▉  | 278/351 [22:57<06:30,  5.34s/it]Eval bleu for test set:  79%|███████▉  | 279/351 [23:02<06:26,  5.37s/it]Eval bleu for test set:  80%|███████▉  | 280/351 [23:08<06:23,  5.41s/it]Eval bleu for test set:  80%|████████  | 281/351 [23:13<06:14,  5.35s/it]Eval bleu for test set:  80%|████████  | 282/351 [23:18<06:00,  5.22s/it]Eval bleu for test set:  81%|████████  | 283/351 [23:23<05:56,  5.24s/it]Eval bleu for test set:  81%|████████  | 284/351 [23:29<05:51,  5.24s/it]Eval bleu for test set:  81%|████████  | 285/351 [23:34<05:49,  5.29s/it]Eval bleu for test set:  81%|████████▏ | 286/351 [23:39<05:43,  5.28s/it]Eval bleu for test set:  82%|████████▏ | 287/351 [23:45<05:39,  5.30s/it]Eval bleu for test set:  82%|████████▏ | 288/351 [23:50<05:34,  5.31s/it]Eval bleu for test set:  82%|████████▏ | 289/351 [23:55<05:26,  5.27s/it]Eval bleu for test set:  83%|████████▎ | 290/351 [24:01<05:23,  5.31s/it]Eval bleu for test set:  83%|████████▎ | 291/351 [24:06<05:16,  5.27s/it]Eval bleu for test set:  83%|████████▎ | 292/351 [24:10<05:01,  5.12s/it]Eval bleu for test set:  83%|████████▎ | 293/351 [24:15<04:46,  4.94s/it]Eval bleu for test set:  84%|████████▍ | 294/351 [24:20<04:46,  5.03s/it]Eval bleu for test set:  84%|████████▍ | 295/351 [24:26<04:46,  5.11s/it]Eval bleu for test set:  84%|████████▍ | 296/351 [24:31<04:45,  5.19s/it]Eval bleu for test set:  85%|████████▍ | 297/351 [24:36<04:41,  5.21s/it]Eval bleu for test set:  85%|████████▍ | 298/351 [24:41<04:33,  5.17s/it]Eval bleu for test set:  85%|████████▌ | 299/351 [24:47<04:32,  5.24s/it]Eval bleu for test set:  85%|████████▌ | 300/351 [24:52<04:29,  5.29s/it]Eval bleu for test set:  86%|████████▌ | 301/351 [24:57<04:23,  5.27s/it]Eval bleu for test set:  86%|████████▌ | 302/351 [25:02<04:04,  4.98s/it]Eval bleu for test set:  86%|████████▋ | 303/351 [25:06<03:51,  4.83s/it]Eval bleu for test set:  87%|████████▋ | 304/351 [25:12<03:56,  5.03s/it]Eval bleu for test set:  87%|████████▋ | 305/351 [25:17<03:54,  5.09s/it]Eval bleu for test set:  87%|████████▋ | 306/351 [25:22<03:53,  5.19s/it]Eval bleu for test set:  87%|████████▋ | 307/351 [25:28<03:50,  5.25s/it]Eval bleu for test set:  88%|████████▊ | 308/351 [25:33<03:47,  5.30s/it]Eval bleu for test set:  88%|████████▊ | 309/351 [25:38<03:40,  5.26s/it]Eval bleu for test set:  88%|████████▊ | 310/351 [25:44<03:38,  5.33s/it]Eval bleu for test set:  89%|████████▊ | 311/351 [25:49<03:32,  5.32s/it]Eval bleu for test set:  89%|████████▉ | 312/351 [25:54<03:27,  5.31s/it]Eval bleu for test set:  89%|████████▉ | 313/351 [25:59<03:11,  5.04s/it]Eval bleu for test set:  89%|████████▉ | 314/351 [26:04<03:11,  5.17s/it]Eval bleu for test set:  90%|████████▉ | 315/351 [26:09<03:07,  5.22s/it]Eval bleu for test set:  90%|█████████ | 316/351 [26:15<03:04,  5.27s/it]Eval bleu for test set:  90%|█████████ | 317/351 [26:20<02:53,  5.11s/it]Eval bleu for test set:  91%|█████████ | 318/351 [26:25<02:49,  5.13s/it]Eval bleu for test set:  91%|█████████ | 319/351 [26:30<02:44,  5.15s/it]Eval bleu for test set:  91%|█████████ | 320/351 [26:35<02:41,  5.22s/it]Eval bleu for test set:  91%|█████████▏| 321/351 [26:41<02:35,  5.19s/it]Eval bleu for test set:  92%|█████████▏| 322/351 [26:46<02:32,  5.24s/it]Eval bleu for test set:  92%|█████████▏| 323/351 [26:50<02:18,  4.94s/it]Eval bleu for test set:  92%|█████████▏| 324/351 [26:56<02:17,  5.09s/it]Eval bleu for test set:  93%|█████████▎| 325/351 [27:01<02:14,  5.17s/it]Eval bleu for test set:  93%|█████████▎| 326/351 [27:06<02:10,  5.21s/it]Eval bleu for test set:  93%|█████████▎| 327/351 [27:11<02:05,  5.22s/it]Eval bleu for test set:  93%|█████████▎| 328/351 [27:17<02:01,  5.29s/it]Eval bleu for test set:  94%|█████████▎| 329/351 [27:22<01:56,  5.28s/it]Eval bleu for test set:  94%|█████████▍| 330/351 [27:27<01:46,  5.07s/it]Eval bleu for test set:  94%|█████████▍| 331/351 [27:32<01:41,  5.09s/it]Eval bleu for test set:  95%|█████████▍| 332/351 [27:37<01:38,  5.19s/it]Eval bleu for test set:  95%|█████████▍| 333/351 [27:43<01:33,  5.19s/it]Eval bleu for test set:  95%|█████████▌| 334/351 [27:48<01:29,  5.26s/it]Eval bleu for test set:  95%|█████████▌| 335/351 [27:53<01:23,  5.22s/it]Eval bleu for test set:  96%|█████████▌| 336/351 [27:59<01:20,  5.34s/it]Eval bleu for test set:  96%|█████████▌| 337/351 [28:04<01:14,  5.36s/it]Eval bleu for test set:  96%|█████████▋| 338/351 [28:09<01:09,  5.36s/it]Eval bleu for test set:  97%|█████████▋| 339/351 [28:15<01:04,  5.39s/it]Eval bleu for test set:  97%|█████████▋| 340/351 [28:20<00:58,  5.32s/it]Eval bleu for test set:  97%|█████████▋| 341/351 [28:25<00:53,  5.36s/it]Eval bleu for test set:  97%|█████████▋| 342/351 [28:29<00:44,  4.90s/it]Eval bleu for test set:  98%|█████████▊| 343/351 [28:35<00:40,  5.02s/it]Eval bleu for test set:  98%|█████████▊| 344/351 [28:40<00:35,  5.12s/it]Eval bleu for test set:  98%|█████████▊| 345/351 [28:45<00:31,  5.18s/it]Eval bleu for test set:  99%|█████████▊| 346/351 [28:51<00:26,  5.27s/it]Eval bleu for test set:  99%|█████████▉| 347/351 [28:56<00:21,  5.27s/it]Eval bleu for test set:  99%|█████████▉| 348/351 [29:01<00:15,  5.30s/it]Eval bleu for test set:  99%|█████████▉| 349/351 [29:07<00:10,  5.32s/it]Eval bleu for test set: 100%|█████████▉| 350/351 [29:12<00:05,  5.28s/it]Eval bleu for test set: 100%|██████████| 351/351 [29:16<00:00,  4.92s/it]Eval bleu for test set: 100%|██████████| 351/351 [29:16<00:00,  5.00s/it]
11/13/2022 02:47:42 - INFO - __main__ -   ***** Eval results *****
11/13/2022 02:47:42 - INFO - __main__ -     bleu = 79.84
11/13/2022 02:47:42 - INFO - __main__ -     codebleu = 80.8267
11/13/2022 02:47:42 - INFO - __main__ -     em = 25.0
11/13/2022 02:47:42 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeinsert_log_statement + whether_refactoringbefore_refactoring :
11/13/2022 02:47:42 - INFO - __main__ -   [best-bleu] bleu-4: 79.84, em: 25.0000, codebleu: 80.8267

11/13/2022 02:47:42 - INFO - __main__ -   Finish and take 2h26m
11/13/2022 02:47:42 - INFO - __main__ -     ***** Testing *****
11/13/2022 02:47:42 - INFO - __main__ -     Batch size = 16
11/13/2022 02:47:42 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:47:42 - INFO - __main__ -   test11111111111
11/13/2022 02:47:42 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 02:47:42 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/insert_log_statement/after_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/insert_log_statement/after_refactoring/small/test.buggy-fixed.fixed
11/13/2022 02:47:42 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 02:47:42 - INFO - utils -   Read 5608 examples, avg src len: 32, avg trg len: 29, max src len: 82, max trg len: 117
11/13/2022 02:47:42 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/test_src_all.pt
11/13/2022 02:47:42 - INFO - utils -   加载前test666666666666666
ngram match: 0.7984316782880905, weighted ngram match: 0.8059890512635514, syntax_match: 0.8224299724331451, dataflow_match: 0.8062168112938739
  0%|          | 0/5608 [00:00<?, ?it/s] 50%|█████     | 2804/5608 [00:01<00:01, 1650.62it/s] 75%|███████▌  | 4206/5608 [00:03<00:01, 1163.45it/s]100%|██████████| 5608/5608 [00:05<00:00, 1016.21it/s]100%|██████████| 5608/5608 [00:05<00:00, 1105.04it/s]
11/13/2022 02:47:49 - INFO - utils -   加载后test77777777777777
11/13/2022 02:47:49 - INFO - __main__ -   加载成功test2222222222
11/13/2022 02:47:49 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 02:47:49 - INFO - __main__ -     Num examples = 5608
11/13/2022 02:47:49 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/351 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/351 [00:04<29:06,  4.99s/it]Eval bleu for test set:   1%|          | 2/351 [00:09<28:19,  4.87s/it]Eval bleu for test set:   1%|          | 3/351 [00:14<28:04,  4.84s/it]Eval bleu for test set:   1%|          | 4/351 [00:19<27:38,  4.78s/it]Eval bleu for test set:   1%|▏         | 5/351 [00:23<27:25,  4.76s/it]Eval bleu for test set:   2%|▏         | 6/351 [00:27<25:23,  4.42s/it]Eval bleu for test set:   2%|▏         | 7/351 [00:32<25:41,  4.48s/it]Eval bleu for test set:   2%|▏         | 8/351 [00:37<26:09,  4.58s/it]Eval bleu for test set:   3%|▎         | 9/351 [00:41<25:53,  4.54s/it]Eval bleu for test set:   3%|▎         | 10/351 [00:45<25:31,  4.49s/it]Eval bleu for test set:   3%|▎         | 11/351 [00:50<25:43,  4.54s/it]Eval bleu for test set:   3%|▎         | 12/351 [00:55<25:23,  4.49s/it]Eval bleu for test set:   4%|▎         | 13/351 [00:59<25:30,  4.53s/it]Eval bleu for test set:   4%|▍         | 14/351 [01:04<25:53,  4.61s/it]Eval bleu for test set:   4%|▍         | 15/351 [01:08<24:29,  4.37s/it]Eval bleu for test set:   5%|▍         | 16/351 [01:13<25:04,  4.49s/it]Eval bleu for test set:   5%|▍         | 17/351 [01:17<24:16,  4.36s/it]Eval bleu for test set:   5%|▌         | 18/351 [01:21<24:53,  4.49s/it]Eval bleu for test set:   5%|▌         | 19/351 [01:26<25:20,  4.58s/it]Eval bleu for test set:   6%|▌         | 20/351 [01:30<23:24,  4.24s/it]Eval bleu for test set:   6%|▌         | 21/351 [01:33<21:25,  3.89s/it]Eval bleu for test set:   6%|▋         | 22/351 [01:37<22:44,  4.15s/it]Eval bleu for test set:   7%|▋         | 23/351 [01:42<23:31,  4.30s/it]Eval bleu for test set:   7%|▋         | 24/351 [01:47<23:54,  4.39s/it]Eval bleu for test set:   7%|▋         | 25/351 [01:51<24:23,  4.49s/it]Eval bleu for test set:   7%|▋         | 26/351 [01:56<24:48,  4.58s/it]Eval bleu for test set:   8%|▊         | 27/351 [02:01<24:58,  4.63s/it]Eval bleu for test set:   8%|▊         | 28/351 [02:06<25:12,  4.68s/it]Eval bleu for test set:   8%|▊         | 29/351 [02:10<25:09,  4.69s/it]Eval bleu for test set:   9%|▊         | 30/351 [02:16<26:01,  4.86s/it]Eval bleu for test set:   9%|▉         | 31/351 [02:21<26:36,  4.99s/it]Eval bleu for test set:   9%|▉         | 32/351 [02:26<26:46,  5.04s/it]Eval bleu for test set:   9%|▉         | 33/351 [02:31<26:57,  5.09s/it]Eval bleu for test set:  10%|▉         | 34/351 [02:37<27:03,  5.12s/it]Eval bleu for test set:  10%|▉         | 35/351 [02:41<26:14,  4.98s/it]Eval bleu for test set:  10%|█         | 36/351 [02:46<25:50,  4.92s/it]Eval bleu for test set:  11%|█         | 37/351 [02:51<25:32,  4.88s/it]Eval bleu for test set:  11%|█         | 38/351 [02:56<26:14,  5.03s/it]Eval bleu for test set:  11%|█         | 39/351 [03:01<25:37,  4.93s/it]Eval bleu for test set:  11%|█▏        | 40/351 [03:06<25:28,  4.91s/it]Eval bleu for test set:  12%|█▏        | 41/351 [03:09<23:00,  4.45s/it]Eval bleu for test set:  12%|█▏        | 42/351 [03:14<23:12,  4.51s/it]Eval bleu for test set:  12%|█▏        | 43/351 [03:18<23:03,  4.49s/it]Eval bleu for test set:  13%|█▎        | 44/351 [03:23<23:26,  4.58s/it]Eval bleu for test set:  13%|█▎        | 45/351 [03:27<22:01,  4.32s/it]Eval bleu for test set:  13%|█▎        | 46/351 [03:32<23:02,  4.53s/it]Eval bleu for test set:  13%|█▎        | 47/351 [03:36<22:58,  4.53s/it]Eval bleu for test set:  14%|█▎        | 48/351 [03:41<23:09,  4.59s/it]Eval bleu for test set:  14%|█▍        | 49/351 [03:46<23:29,  4.67s/it]Eval bleu for test set:  14%|█▍        | 50/351 [03:51<23:35,  4.70s/it]Eval bleu for test set:  15%|█▍        | 51/351 [03:55<23:33,  4.71s/it]Eval bleu for test set:  15%|█▍        | 52/351 [03:59<22:18,  4.48s/it]Eval bleu for test set:  15%|█▌        | 53/351 [04:03<20:55,  4.21s/it]Eval bleu for test set:  15%|█▌        | 54/351 [04:08<21:30,  4.34s/it]Eval bleu for test set:  16%|█▌        | 55/351 [04:13<22:44,  4.61s/it]Eval bleu for test set:  16%|█▌        | 56/351 [04:18<22:55,  4.66s/it]Eval bleu for test set:  16%|█▌        | 57/351 [04:23<23:59,  4.90s/it]Eval bleu for test set:  17%|█▋        | 58/351 [04:28<24:24,  5.00s/it]Eval bleu for test set:  17%|█▋        | 59/351 [04:33<24:42,  5.08s/it]Eval bleu for test set:  17%|█▋        | 60/351 [04:39<24:57,  5.15s/it]Eval bleu for test set:  17%|█▋        | 61/351 [04:44<25:06,  5.20s/it]Eval bleu for test set:  18%|█▊        | 62/351 [04:49<25:03,  5.20s/it]Eval bleu for test set:  18%|█▊        | 63/351 [04:55<25:01,  5.21s/it]Eval bleu for test set:  18%|█▊        | 64/351 [05:00<24:56,  5.21s/it]Eval bleu for test set:  19%|█▊        | 65/351 [05:05<24:36,  5.16s/it]Eval bleu for test set:  19%|█▉        | 66/351 [05:09<22:37,  4.76s/it]Eval bleu for test set:  19%|█▉        | 67/351 [05:14<23:01,  4.87s/it]Eval bleu for test set:  19%|█▉        | 68/351 [05:19<22:53,  4.85s/it]Eval bleu for test set:  20%|█▉        | 69/351 [05:24<23:31,  5.00s/it]Eval bleu for test set:  20%|█▉        | 70/351 [05:29<24:00,  5.13s/it]Eval bleu for test set:  20%|██        | 71/351 [05:34<23:22,  5.01s/it]Eval bleu for test set:  21%|██        | 72/351 [05:39<22:54,  4.93s/it]Eval bleu for test set:  21%|██        | 73/351 [05:44<23:01,  4.97s/it]Eval bleu for test set:  21%|██        | 74/351 [05:49<23:28,  5.09s/it]Eval bleu for test set:  21%|██▏       | 75/351 [05:55<23:42,  5.15s/it]Eval bleu for test set:  22%|██▏       | 76/351 [06:00<23:34,  5.14s/it]Eval bleu for test set:  22%|██▏       | 77/351 [06:05<23:38,  5.18s/it]Eval bleu for test set:  22%|██▏       | 78/351 [06:10<23:38,  5.20s/it]Eval bleu for test set:  23%|██▎       | 79/351 [06:16<23:55,  5.28s/it]Eval bleu for test set:  23%|██▎       | 80/351 [06:21<23:56,  5.30s/it]Eval bleu for test set:  23%|██▎       | 81/351 [06:25<22:37,  5.03s/it]Eval bleu for test set:  23%|██▎       | 82/351 [06:30<22:15,  4.96s/it]Eval bleu for test set:  24%|██▎       | 83/351 [06:35<22:15,  4.98s/it]Eval bleu for test set:  24%|██▍       | 84/351 [06:40<22:12,  4.99s/it]Eval bleu for test set:  24%|██▍       | 85/351 [06:45<22:15,  5.02s/it]Eval bleu for test set:  25%|██▍       | 86/351 [06:51<22:30,  5.10s/it]Eval bleu for test set:  25%|██▍       | 87/351 [06:56<22:15,  5.06s/it]Eval bleu for test set:  25%|██▌       | 88/351 [07:00<21:34,  4.92s/it]Eval bleu for test set:  25%|██▌       | 89/351 [07:05<20:45,  4.75s/it]Eval bleu for test set:  26%|██▌       | 90/351 [07:10<21:36,  4.97s/it]Eval bleu for test set:  26%|██▌       | 91/351 [07:15<21:45,  5.02s/it]Eval bleu for test set:  26%|██▌       | 92/351 [07:20<21:46,  5.05s/it]Eval bleu for test set:  26%|██▋       | 93/351 [07:25<21:56,  5.10s/it]Eval bleu for test set:  27%|██▋       | 94/351 [07:31<21:57,  5.13s/it]Eval bleu for test set:  27%|██▋       | 95/351 [07:35<21:17,  4.99s/it]Eval bleu for test set:  27%|██▋       | 96/351 [07:40<21:22,  5.03s/it]Eval bleu for test set:  28%|██▊       | 97/351 [07:46<21:27,  5.07s/it]Eval bleu for test set:  28%|██▊       | 98/351 [07:51<21:50,  5.18s/it]Eval bleu for test set:  28%|██▊       | 99/351 [07:56<21:45,  5.18s/it]Eval bleu for test set:  28%|██▊       | 100/351 [08:01<20:58,  5.01s/it]Eval bleu for test set:  29%|██▉       | 101/351 [08:06<21:04,  5.06s/it]Eval bleu for test set:  29%|██▉       | 102/351 [08:11<21:03,  5.08s/it]Eval bleu for test set:  29%|██▉       | 103/351 [08:16<21:07,  5.11s/it]Eval bleu for test set:  30%|██▉       | 104/351 [08:20<19:48,  4.81s/it]Eval bleu for test set:  30%|██▉       | 105/351 [08:25<19:47,  4.83s/it]Eval bleu for test set:  30%|███       | 106/351 [08:31<20:12,  4.95s/it]Eval bleu for test set:  30%|███       | 107/351 [08:36<20:22,  5.01s/it]Eval bleu for test set:  31%|███       | 108/351 [08:41<20:33,  5.08s/it]Eval bleu for test set:  31%|███       | 109/351 [08:46<20:44,  5.14s/it]Eval bleu for test set:  31%|███▏      | 110/351 [08:51<20:46,  5.17s/it]Eval bleu for test set:  32%|███▏      | 111/351 [08:57<20:36,  5.15s/it]Eval bleu for test set:  32%|███▏      | 112/351 [09:02<20:36,  5.17s/it]Eval bleu for test set:  32%|███▏      | 113/351 [09:07<20:43,  5.23s/it]Eval bleu for test set:  32%|███▏      | 114/351 [09:13<20:52,  5.28s/it]Eval bleu for test set:  33%|███▎      | 115/351 [09:18<20:30,  5.21s/it]Eval bleu for test set:  33%|███▎      | 116/351 [09:23<20:24,  5.21s/it]Eval bleu for test set:  33%|███▎      | 117/351 [09:28<20:18,  5.21s/it]Eval bleu for test set:  34%|███▎      | 118/351 [09:33<20:04,  5.17s/it]Eval bleu for test set:  34%|███▍      | 119/351 [09:38<19:57,  5.16s/it]Eval bleu for test set:  34%|███▍      | 120/351 [09:43<19:46,  5.13s/it]Eval bleu for test set:  34%|███▍      | 121/351 [09:49<20:03,  5.23s/it]Eval bleu for test set:  35%|███▍      | 122/351 [09:53<18:34,  4.87s/it]Eval bleu for test set:  35%|███▌      | 123/351 [09:58<18:50,  4.96s/it]Eval bleu for test set:  35%|███▌      | 124/351 [10:03<18:59,  5.02s/it]Eval bleu for test set:  36%|███▌      | 125/351 [10:08<19:05,  5.07s/it]Eval bleu for test set:  36%|███▌      | 126/351 [10:14<19:13,  5.13s/it]Eval bleu for test set:  36%|███▌      | 127/351 [10:19<19:20,  5.18s/it]Eval bleu for test set:  36%|███▋      | 128/351 [10:24<19:11,  5.16s/it]Eval bleu for test set:  37%|███▋      | 129/351 [10:29<19:06,  5.17s/it]Eval bleu for test set:  37%|███▋      | 130/351 [10:34<19:09,  5.20s/it]Eval bleu for test set:  37%|███▋      | 131/351 [10:40<19:16,  5.26s/it]Eval bleu for test set:  38%|███▊      | 132/351 [10:45<19:01,  5.21s/it]Eval bleu for test set:  38%|███▊      | 133/351 [10:50<19:00,  5.23s/it]Eval bleu for test set:  38%|███▊      | 134/351 [10:56<18:59,  5.25s/it]Eval bleu for test set:  38%|███▊      | 135/351 [11:01<18:49,  5.23s/it]Eval bleu for test set:  39%|███▊      | 136/351 [11:06<18:36,  5.19s/it]Eval bleu for test set:  39%|███▉      | 137/351 [11:10<17:55,  5.02s/it]Eval bleu for test set:  39%|███▉      | 138/351 [11:15<17:20,  4.88s/it]Eval bleu for test set:  40%|███▉      | 139/351 [11:20<17:36,  4.98s/it]Eval bleu for test set:  40%|███▉      | 140/351 [11:25<17:49,  5.07s/it]Eval bleu for test set:  40%|████      | 141/351 [11:31<17:55,  5.12s/it]Eval bleu for test set:  40%|████      | 142/351 [11:34<16:13,  4.66s/it]Eval bleu for test set:  41%|████      | 143/351 [11:39<15:52,  4.58s/it]Eval bleu for test set:  41%|████      | 144/351 [11:44<16:31,  4.79s/it]Eval bleu for test set:  41%|████▏     | 145/351 [11:49<16:50,  4.91s/it]Eval bleu for test set:  42%|████▏     | 146/351 [11:54<17:04,  5.00s/it]Eval bleu for test set:  42%|████▏     | 147/351 [12:00<17:09,  5.05s/it]Eval bleu for test set:  42%|████▏     | 148/351 [12:04<16:46,  4.96s/it]Eval bleu for test set:  42%|████▏     | 149/351 [12:10<17:07,  5.08s/it]Eval bleu for test set:  43%|████▎     | 150/351 [12:15<17:14,  5.15s/it]Eval bleu for test set:  43%|████▎     | 151/351 [12:21<17:40,  5.30s/it]Eval bleu for test set:  43%|████▎     | 152/351 [12:26<17:27,  5.26s/it]Eval bleu for test set:  44%|████▎     | 153/351 [12:31<17:16,  5.24s/it]Eval bleu for test set:  44%|████▍     | 154/351 [12:36<17:05,  5.20s/it]Eval bleu for test set:  44%|████▍     | 155/351 [12:41<17:12,  5.27s/it]Eval bleu for test set:  44%|████▍     | 156/351 [12:47<17:07,  5.27s/it]Eval bleu for test set:  45%|████▍     | 157/351 [12:52<16:37,  5.14s/it]Eval bleu for test set:  45%|████▌     | 158/351 [12:57<16:32,  5.14s/it]Eval bleu for test set:  45%|████▌     | 159/351 [13:02<16:31,  5.17s/it]Eval bleu for test set:  46%|████▌     | 160/351 [13:07<15:57,  5.02s/it]Eval bleu for test set:  46%|████▌     | 161/351 [13:12<16:03,  5.07s/it]Eval bleu for test set:  46%|████▌     | 162/351 [13:17<16:10,  5.14s/it]Eval bleu for test set:  46%|████▋     | 163/351 [13:22<16:14,  5.18s/it]Eval bleu for test set:  47%|████▋     | 164/351 [13:28<16:16,  5.22s/it]Eval bleu for test set:  47%|████▋     | 165/351 [13:33<16:14,  5.24s/it]Eval bleu for test set:  47%|████▋     | 166/351 [13:38<16:12,  5.26s/it]Eval bleu for test set:  48%|████▊     | 167/351 [13:43<15:51,  5.17s/it]Eval bleu for test set:  48%|████▊     | 168/351 [13:49<15:51,  5.20s/it]Eval bleu for test set:  48%|████▊     | 169/351 [13:54<15:46,  5.20s/it]Eval bleu for test set:  48%|████▊     | 170/351 [13:59<15:38,  5.19s/it]Eval bleu for test set:  49%|████▊     | 171/351 [14:04<15:29,  5.16s/it]Eval bleu for test set:  49%|████▉     | 172/351 [14:09<15:26,  5.18s/it]Eval bleu for test set:  49%|████▉     | 173/351 [14:14<15:26,  5.21s/it]Eval bleu for test set:  50%|████▉     | 174/351 [14:20<15:25,  5.23s/it]Eval bleu for test set:  50%|████▉     | 175/351 [14:25<14:57,  5.10s/it]Eval bleu for test set:  50%|█████     | 176/351 [14:30<14:58,  5.14s/it]Eval bleu for test set:  50%|█████     | 177/351 [14:35<14:32,  5.01s/it]Eval bleu for test set:  51%|█████     | 178/351 [14:40<14:32,  5.04s/it]Eval bleu for test set:  51%|█████     | 179/351 [14:45<14:35,  5.09s/it]Eval bleu for test set:  51%|█████▏    | 180/351 [14:50<14:34,  5.11s/it]Eval bleu for test set:  52%|█████▏    | 181/351 [14:55<14:16,  5.04s/it]Eval bleu for test set:  52%|█████▏    | 182/351 [15:00<13:56,  4.95s/it]Eval bleu for test set:  52%|█████▏    | 183/351 [15:04<13:40,  4.88s/it]Eval bleu for test set:  52%|█████▏    | 184/351 [15:09<13:24,  4.82s/it]Eval bleu for test set:  53%|█████▎    | 185/351 [15:14<13:20,  4.82s/it]Eval bleu for test set:  53%|█████▎    | 186/351 [15:17<12:17,  4.47s/it]Eval bleu for test set:  53%|█████▎    | 187/351 [15:22<12:21,  4.52s/it]Eval bleu for test set:  54%|█████▎    | 188/351 [15:27<12:31,  4.61s/it]Eval bleu for test set:  54%|█████▍    | 189/351 [15:31<12:10,  4.51s/it]Eval bleu for test set:  54%|█████▍    | 190/351 [15:36<12:15,  4.57s/it]Eval bleu for test set:  54%|█████▍    | 191/351 [15:40<12:00,  4.50s/it]Eval bleu for test set:  55%|█████▍    | 192/351 [15:45<12:21,  4.66s/it]Eval bleu for test set:  55%|█████▍    | 193/351 [15:50<12:40,  4.81s/it]Eval bleu for test set:  55%|█████▌    | 194/351 [15:56<12:58,  4.96s/it]Eval bleu for test set:  56%|█████▌    | 195/351 [16:01<13:21,  5.14s/it]Eval bleu for test set:  56%|█████▌    | 196/351 [16:06<13:15,  5.13s/it]Eval bleu for test set:  56%|█████▌    | 197/351 [16:12<13:08,  5.12s/it]Eval bleu for test set:  56%|█████▋    | 198/351 [16:16<12:46,  5.01s/it]Eval bleu for test set:  57%|█████▋    | 199/351 [16:22<12:51,  5.08s/it]Eval bleu for test set:  57%|█████▋    | 200/351 [16:27<12:45,  5.07s/it]Eval bleu for test set:  57%|█████▋    | 201/351 [16:32<12:46,  5.11s/it]Eval bleu for test set:  58%|█████▊    | 202/351 [16:37<12:59,  5.23s/it]Eval bleu for test set:  58%|█████▊    | 203/351 [16:42<12:53,  5.23s/it]Eval bleu for test set:  58%|█████▊    | 204/351 [16:48<12:51,  5.25s/it]Eval bleu for test set:  58%|█████▊    | 205/351 [16:53<12:48,  5.26s/it]Eval bleu for test set:  59%|█████▊    | 206/351 [16:58<12:38,  5.23s/it]Eval bleu for test set:  59%|█████▉    | 207/351 [17:03<12:18,  5.13s/it]Eval bleu for test set:  59%|█████▉    | 208/351 [17:08<11:59,  5.03s/it]Eval bleu for test set:  60%|█████▉    | 209/351 [17:13<11:47,  4.98s/it]Eval bleu for test set:  60%|█████▉    | 210/351 [17:18<11:53,  5.06s/it]Eval bleu for test set:  60%|██████    | 211/351 [17:23<11:49,  5.07s/it]Eval bleu for test set:  60%|██████    | 212/351 [17:28<11:45,  5.08s/it]Eval bleu for test set:  61%|██████    | 213/351 [17:33<11:39,  5.07s/it]Eval bleu for test set:  61%|██████    | 214/351 [17:39<11:47,  5.16s/it]Eval bleu for test set:  61%|██████▏   | 215/351 [17:44<11:39,  5.14s/it]Eval bleu for test set:  62%|██████▏   | 216/351 [17:49<11:28,  5.10s/it]Eval bleu for test set:  62%|██████▏   | 217/351 [17:54<11:24,  5.11s/it]Eval bleu for test set:  62%|██████▏   | 218/351 [17:59<11:29,  5.18s/it]Eval bleu for test set:  62%|██████▏   | 219/351 [18:04<11:25,  5.19s/it]Eval bleu for test set:  63%|██████▎   | 220/351 [18:09<10:54,  5.00s/it]Eval bleu for test set:  63%|██████▎   | 221/351 [18:14<10:59,  5.07s/it]Eval bleu for test set:  63%|██████▎   | 222/351 [18:19<10:42,  4.98s/it]Eval bleu for test set:  64%|██████▎   | 223/351 [18:24<10:44,  5.04s/it]Eval bleu for test set:  64%|██████▍   | 224/351 [18:29<10:43,  5.06s/it]Eval bleu for test set:  64%|██████▍   | 225/351 [18:35<10:44,  5.12s/it]Eval bleu for test set:  64%|██████▍   | 226/351 [18:40<10:51,  5.21s/it]Eval bleu for test set:  65%|██████▍   | 227/351 [18:45<10:41,  5.17s/it]Eval bleu for test set:  65%|██████▍   | 228/351 [18:50<10:38,  5.19s/it]Eval bleu for test set:  65%|██████▌   | 229/351 [18:55<10:33,  5.19s/it]Eval bleu for test set:  66%|██████▌   | 230/351 [19:00<10:15,  5.09s/it]Eval bleu for test set:  66%|██████▌   | 231/351 [19:06<10:14,  5.12s/it]Eval bleu for test set:  66%|██████▌   | 232/351 [19:11<10:08,  5.11s/it]Eval bleu for test set:  66%|██████▋   | 233/351 [19:16<09:56,  5.06s/it]Eval bleu for test set:  67%|██████▋   | 234/351 [19:21<09:52,  5.07s/it]Eval bleu for test set:  67%|██████▋   | 235/351 [19:25<09:27,  4.89s/it]Eval bleu for test set:  67%|██████▋   | 236/351 [19:30<09:17,  4.85s/it]Eval bleu for test set:  68%|██████▊   | 237/351 [19:35<09:29,  4.99s/it]Eval bleu for test set:  68%|██████▊   | 238/351 [19:40<09:14,  4.91s/it]Eval bleu for test set:  68%|██████▊   | 239/351 [19:44<08:54,  4.77s/it]Eval bleu for test set:  68%|██████▊   | 240/351 [19:49<08:45,  4.73s/it]Eval bleu for test set:  69%|██████▊   | 241/351 [19:54<08:40,  4.73s/it]Eval bleu for test set:  69%|██████▉   | 242/351 [19:58<08:35,  4.73s/it]Eval bleu for test set:  69%|██████▉   | 243/351 [20:03<08:30,  4.73s/it]Eval bleu for test set:  70%|██████▉   | 244/351 [20:08<08:25,  4.73s/it]Eval bleu for test set:  70%|██████▉   | 245/351 [20:13<08:22,  4.74s/it]Eval bleu for test set:  70%|███████   | 246/351 [20:17<08:17,  4.74s/it]Eval bleu for test set:  70%|███████   | 247/351 [20:22<07:55,  4.57s/it]Eval bleu for test set:  71%|███████   | 248/351 [20:26<07:52,  4.59s/it]Eval bleu for test set:  71%|███████   | 249/351 [20:31<07:49,  4.60s/it]Eval bleu for test set:  71%|███████   | 250/351 [20:34<07:15,  4.31s/it]Eval bleu for test set:  72%|███████▏  | 251/351 [20:39<07:25,  4.46s/it]Eval bleu for test set:  72%|███████▏  | 252/351 [20:43<07:06,  4.31s/it]Eval bleu for test set:  72%|███████▏  | 253/351 [20:48<07:15,  4.44s/it]Eval bleu for test set:  72%|███████▏  | 254/351 [20:52<07:07,  4.40s/it]Eval bleu for test set:  73%|███████▎  | 255/351 [20:57<07:11,  4.49s/it]Eval bleu for test set:  73%|███████▎  | 256/351 [21:00<06:34,  4.16s/it]Eval bleu for test set:  73%|███████▎  | 257/351 [21:05<06:52,  4.39s/it]Eval bleu for test set:  74%|███████▎  | 258/351 [21:10<06:48,  4.39s/it]Eval bleu for test set:  74%|███████▍  | 259/351 [21:14<06:51,  4.47s/it]Eval bleu for test set:  74%|███████▍  | 260/351 [21:18<06:21,  4.19s/it]Eval bleu for test set:  74%|███████▍  | 261/351 [21:23<06:31,  4.35s/it]Eval bleu for test set:  75%|███████▍  | 262/351 [21:27<06:38,  4.48s/it]Eval bleu for test set:  75%|███████▍  | 263/351 [21:32<06:46,  4.62s/it]Eval bleu for test set:  75%|███████▌  | 264/351 [21:37<06:44,  4.65s/it]Eval bleu for test set:  75%|███████▌  | 265/351 [21:42<06:42,  4.67s/it]Eval bleu for test set:  76%|███████▌  | 266/351 [21:46<06:37,  4.68s/it]Eval bleu for test set:  76%|███████▌  | 267/351 [21:52<06:45,  4.82s/it]Eval bleu for test set:  76%|███████▋  | 268/351 [21:57<06:47,  4.90s/it]Eval bleu for test set:  77%|███████▋  | 269/351 [22:02<06:50,  5.01s/it]Eval bleu for test set:  77%|███████▋  | 270/351 [22:07<06:50,  5.07s/it]Eval bleu for test set:  77%|███████▋  | 271/351 [22:12<06:49,  5.12s/it]Eval bleu for test set:  77%|███████▋  | 272/351 [22:18<06:43,  5.11s/it]Eval bleu for test set:  78%|███████▊  | 273/351 [22:22<06:33,  5.05s/it]Eval bleu for test set:  78%|███████▊  | 274/351 [22:28<06:33,  5.11s/it]Eval bleu for test set:  78%|███████▊  | 275/351 [22:33<06:30,  5.14s/it]Eval bleu for test set:  79%|███████▊  | 276/351 [22:38<06:28,  5.18s/it]Eval bleu for test set:  79%|███████▉  | 277/351 [22:43<06:17,  5.11s/it]Eval bleu for test set:  79%|███████▉  | 278/351 [22:48<06:15,  5.14s/it]Eval bleu for test set:  79%|███████▉  | 279/351 [22:54<06:15,  5.22s/it]Eval bleu for test set:  80%|███████▉  | 280/351 [22:59<06:13,  5.26s/it]Eval bleu for test set:  80%|████████  | 281/351 [23:04<06:05,  5.22s/it]Eval bleu for test set:  80%|████████  | 282/351 [23:09<05:43,  4.97s/it]Eval bleu for test set:  81%|████████  | 283/351 [23:14<05:44,  5.06s/it]Eval bleu for test set:  81%|████████  | 284/351 [23:19<05:37,  5.03s/it]Eval bleu for test set:  81%|████████  | 285/351 [23:24<05:37,  5.12s/it]Eval bleu for test set:  81%|████████▏ | 286/351 [23:29<05:32,  5.11s/it]Eval bleu for test set:  82%|████████▏ | 287/351 [23:34<05:28,  5.13s/it]Eval bleu for test set:  82%|████████▏ | 288/351 [23:39<05:17,  5.05s/it]Eval bleu for test set:  82%|████████▏ | 289/351 [23:44<05:13,  5.06s/it]Eval bleu for test set:  83%|████████▎ | 290/351 [23:50<05:13,  5.14s/it]Eval bleu for test set:  83%|████████▎ | 291/351 [23:55<05:08,  5.15s/it]Eval bleu for test set:  83%|████████▎ | 292/351 [24:00<05:03,  5.14s/it]Eval bleu for test set:  83%|████████▎ | 293/351 [24:05<04:47,  4.96s/it]Eval bleu for test set:  84%|████████▍ | 294/351 [24:10<04:45,  5.01s/it]Eval bleu for test set:  84%|████████▍ | 295/351 [24:15<04:43,  5.06s/it]Eval bleu for test set:  84%|████████▍ | 296/351 [24:20<04:41,  5.12s/it]Eval bleu for test set:  85%|████████▍ | 297/351 [24:25<04:39,  5.17s/it]Eval bleu for test set:  85%|████████▍ | 298/351 [24:31<04:36,  5.22s/it]Eval bleu for test set:  85%|████████▌ | 299/351 [24:36<04:30,  5.20s/it]Eval bleu for test set:  85%|████████▌ | 300/351 [24:41<04:25,  5.21s/it]Eval bleu for test set:  86%|████████▌ | 301/351 [24:46<04:19,  5.19s/it]Eval bleu for test set:  86%|████████▌ | 302/351 [24:51<04:07,  5.05s/it]Eval bleu for test set:  86%|████████▋ | 303/351 [24:55<03:43,  4.66s/it]Eval bleu for test set:  87%|████████▋ | 304/351 [25:00<03:50,  4.90s/it]Eval bleu for test set:  87%|████████▋ | 305/351 [25:05<03:42,  4.84s/it]Eval bleu for test set:  87%|████████▋ | 306/351 [25:10<03:43,  4.96s/it]Eval bleu for test set:  87%|████████▋ | 307/351 [25:14<03:30,  4.78s/it]Eval bleu for test set:  88%|████████▊ | 308/351 [25:20<03:33,  4.96s/it]Eval bleu for test set:  88%|████████▊ | 309/351 [25:25<03:28,  4.96s/it]Eval bleu for test set:  88%|████████▊ | 310/351 [25:30<03:28,  5.09s/it]Eval bleu for test set:  89%|████████▊ | 311/351 [25:35<03:25,  5.15s/it]Eval bleu for test set:  89%|████████▉ | 312/351 [25:40<03:18,  5.08s/it]Eval bleu for test set:  89%|████████▉ | 313/351 [25:44<02:59,  4.72s/it]Eval bleu for test set:  89%|████████▉ | 314/351 [25:49<02:56,  4.76s/it]Eval bleu for test set:  90%|████████▉ | 315/351 [25:54<02:49,  4.71s/it]Eval bleu for test set:  90%|█████████ | 316/351 [25:58<02:45,  4.72s/it]Eval bleu for test set:  90%|█████████ | 317/351 [26:03<02:35,  4.56s/it]Eval bleu for test set:  91%|█████████ | 318/351 [26:07<02:31,  4.58s/it]Eval bleu for test set:  91%|█████████ | 319/351 [26:12<02:31,  4.74s/it]Eval bleu for test set:  91%|█████████ | 320/351 [26:18<02:30,  4.85s/it]Eval bleu for test set:  91%|█████████▏| 321/351 [26:23<02:27,  4.92s/it]Eval bleu for test set:  92%|█████████▏| 322/351 [26:28<02:26,  5.04s/it]Eval bleu for test set:  92%|█████████▏| 323/351 [26:32<02:14,  4.82s/it]Eval bleu for test set:  92%|█████████▏| 324/351 [26:38<02:13,  4.96s/it]Eval bleu for test set:  93%|█████████▎| 325/351 [26:43<02:11,  5.05s/it]Eval bleu for test set:  93%|█████████▎| 326/351 [26:48<02:07,  5.10s/it]Eval bleu for test set:  93%|█████████▎| 327/351 [26:53<01:59,  4.96s/it]Eval bleu for test set:  93%|█████████▎| 328/351 [26:57<01:52,  4.91s/it]Eval bleu for test set:  94%|█████████▎| 329/351 [27:02<01:46,  4.83s/it]Eval bleu for test set:  94%|█████████▍| 330/351 [27:06<01:35,  4.55s/it]Eval bleu for test set:  94%|█████████▍| 331/351 [27:10<01:29,  4.49s/it]Eval bleu for test set:  95%|█████████▍| 332/351 [27:15<01:26,  4.57s/it]Eval bleu for test set:  95%|█████████▍| 333/351 [27:20<01:22,  4.57s/it]Eval bleu for test set:  95%|█████████▌| 334/351 [27:24<01:18,  4.63s/it]Eval bleu for test set:  95%|█████████▌| 335/351 [27:29<01:13,  4.61s/it]Eval bleu for test set:  96%|█████████▌| 336/351 [27:34<01:10,  4.70s/it]Eval bleu for test set:  96%|█████████▌| 337/351 [27:39<01:05,  4.71s/it]Eval bleu for test set:  96%|█████████▋| 338/351 [27:43<01:01,  4.73s/it]Eval bleu for test set:  97%|█████████▋| 339/351 [27:48<00:56,  4.74s/it]Eval bleu for test set:  97%|█████████▋| 340/351 [27:53<00:51,  4.68s/it]Eval bleu for test set:  97%|█████████▋| 341/351 [27:57<00:46,  4.69s/it]Eval bleu for test set:  97%|█████████▋| 342/351 [28:01<00:39,  4.39s/it]Eval bleu for test set:  98%|█████████▊| 343/351 [28:06<00:35,  4.47s/it]Eval bleu for test set:  98%|█████████▊| 344/351 [28:10<00:31,  4.56s/it]Eval bleu for test set:  98%|█████████▊| 345/351 [28:15<00:27,  4.58s/it]Eval bleu for test set:  99%|█████████▊| 346/351 [28:20<00:23,  4.65s/it]Eval bleu for test set:  99%|█████████▉| 347/351 [28:24<00:18,  4.61s/it]Eval bleu for test set:  99%|█████████▉| 348/351 [28:29<00:13,  4.65s/it]Eval bleu for test set:  99%|█████████▉| 349/351 [28:34<00:09,  4.68s/it]Eval bleu for test set: 100%|█████████▉| 350/351 [28:38<00:04,  4.56s/it]Eval bleu for test set: 100%|██████████| 351/351 [28:42<00:00,  4.23s/it]Eval bleu for test set: 100%|██████████| 351/351 [28:42<00:00,  4.91s/it]
11/13/2022 03:20:26 - INFO - __main__ -   ***** Eval results *****
11/13/2022 03:20:26 - INFO - __main__ -     bleu = 57.47
11/13/2022 03:20:26 - INFO - __main__ -     codebleu = 67.6491
11/13/2022 03:20:26 - INFO - __main__ -     em = 0.0
11/13/2022 03:20:26 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeinsert_log_statement + whether_refactoringafter_refactoring :
11/13/2022 03:20:26 - INFO - __main__ -   [best-bleu] bleu-4: 57.47, em: 0.0000, codebleu: 67.6491

11/13/2022 03:20:26 - INFO - __main__ -   Finish and take 2h58m
11/13/2022 03:20:26 - INFO - __main__ -     ***** Testing *****
11/13/2022 03:20:26 - INFO - __main__ -     Batch size = 16
11/13/2022 03:20:26 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 03:20:27 - INFO - __main__ -   test11111111111
11/13/2022 03:20:27 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 03:20:27 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/insert_try_catch/before_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/insert_try_catch/before_refactoring/small/test.buggy-fixed.fixed
11/13/2022 03:20:27 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 03:20:27 - INFO - utils -   Read 3321 examples, avg src len: 34, avg trg len: 32, max src len: 93, max trg len: 93
11/13/2022 03:20:27 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/test_src_all.pt
11/13/2022 03:20:27 - INFO - utils -   加载前test666666666666666
ngram match: 0.5747025161562651, weighted ngram match: 0.5842918533080376, syntax_match: 0.7273086702108247, dataflow_match: 0.8196604836458677
  0%|          | 0/3321 [00:00<?, ?it/s] 50%|█████     | 1662/3321 [00:01<00:01, 1539.51it/s] 75%|███████▌  | 2493/3321 [00:02<00:00, 1092.37it/s]100%|██████████| 3321/3321 [00:02<00:00, 1544.60it/s]
11/13/2022 03:20:31 - INFO - utils -   加载后test77777777777777
11/13/2022 03:20:31 - INFO - __main__ -   加载成功test2222222222
11/13/2022 03:20:31 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 03:20:31 - INFO - __main__ -     Num examples = 3321
11/13/2022 03:20:31 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/208 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/208 [00:05<17:36,  5.10s/it]Eval bleu for test set:   1%|          | 2/208 [00:09<16:50,  4.91s/it]Eval bleu for test set:   1%|▏         | 3/208 [00:14<16:35,  4.86s/it]Eval bleu for test set:   2%|▏         | 4/208 [00:19<16:23,  4.82s/it]Eval bleu for test set:   2%|▏         | 5/208 [00:24<16:13,  4.80s/it]Eval bleu for test set:   3%|▎         | 6/208 [00:29<16:13,  4.82s/it]Eval bleu for test set:   3%|▎         | 7/208 [00:33<16:04,  4.80s/it]Eval bleu for test set:   4%|▍         | 8/208 [00:38<15:57,  4.79s/it]Eval bleu for test set:   4%|▍         | 9/208 [00:43<15:57,  4.81s/it]Eval bleu for test set:   5%|▍         | 10/208 [00:48<15:42,  4.76s/it]Eval bleu for test set:   5%|▌         | 11/208 [00:53<15:50,  4.82s/it]Eval bleu for test set:   6%|▌         | 12/208 [00:56<14:49,  4.54s/it]Eval bleu for test set:   6%|▋         | 13/208 [01:01<15:00,  4.62s/it]Eval bleu for test set:   7%|▋         | 14/208 [01:06<15:08,  4.68s/it]Eval bleu for test set:   7%|▋         | 15/208 [01:11<15:07,  4.70s/it]Eval bleu for test set:   8%|▊         | 16/208 [01:16<15:12,  4.75s/it]Eval bleu for test set:   8%|▊         | 17/208 [01:21<15:21,  4.82s/it]Eval bleu for test set:   9%|▊         | 18/208 [01:26<15:19,  4.84s/it]Eval bleu for test set:   9%|▉         | 19/208 [01:30<15:08,  4.81s/it]Eval bleu for test set:  10%|▉         | 20/208 [01:35<15:00,  4.79s/it]Eval bleu for test set:  10%|█         | 21/208 [01:40<14:56,  4.79s/it]Eval bleu for test set:  11%|█         | 22/208 [01:45<14:54,  4.81s/it]Eval bleu for test set:  11%|█         | 23/208 [01:50<14:56,  4.85s/it]Eval bleu for test set:  12%|█▏        | 24/208 [01:54<14:21,  4.68s/it]Eval bleu for test set:  12%|█▏        | 25/208 [01:59<14:18,  4.69s/it]Eval bleu for test set:  12%|█▎        | 26/208 [02:03<14:18,  4.72s/it]Eval bleu for test set:  13%|█▎        | 27/208 [02:08<14:01,  4.65s/it]Eval bleu for test set:  13%|█▎        | 28/208 [02:13<13:57,  4.66s/it]Eval bleu for test set:  14%|█▍        | 29/208 [02:17<14:02,  4.71s/it]Eval bleu for test set:  14%|█▍        | 30/208 [02:22<14:11,  4.78s/it]Eval bleu for test set:  15%|█▍        | 31/208 [02:27<14:04,  4.77s/it]Eval bleu for test set:  15%|█▌        | 32/208 [02:32<13:56,  4.76s/it]Eval bleu for test set:  16%|█▌        | 33/208 [02:37<13:54,  4.77s/it]Eval bleu for test set:  16%|█▋        | 34/208 [02:42<14:00,  4.83s/it]Eval bleu for test set:  17%|█▋        | 35/208 [02:46<13:48,  4.79s/it]Eval bleu for test set:  17%|█▋        | 36/208 [02:51<13:21,  4.66s/it]Eval bleu for test set:  18%|█▊        | 37/208 [02:56<13:27,  4.72s/it]Eval bleu for test set:  18%|█▊        | 38/208 [03:00<13:33,  4.79s/it]Eval bleu for test set:  19%|█▉        | 39/208 [03:05<13:18,  4.73s/it]Eval bleu for test set:  19%|█▉        | 40/208 [03:10<13:10,  4.71s/it]Eval bleu for test set:  20%|█▉        | 41/208 [03:14<13:06,  4.71s/it]Eval bleu for test set:  20%|██        | 42/208 [03:19<13:09,  4.75s/it]Eval bleu for test set:  21%|██        | 43/208 [03:24<13:05,  4.76s/it]Eval bleu for test set:  21%|██        | 44/208 [03:29<12:54,  4.72s/it]Eval bleu for test set:  22%|██▏       | 45/208 [03:34<13:00,  4.79s/it]Eval bleu for test set:  22%|██▏       | 46/208 [03:38<12:56,  4.80s/it]Eval bleu for test set:  23%|██▎       | 47/208 [03:43<12:35,  4.69s/it]Eval bleu for test set:  23%|██▎       | 48/208 [03:48<12:32,  4.70s/it]Eval bleu for test set:  24%|██▎       | 49/208 [03:52<12:22,  4.67s/it]Eval bleu for test set:  24%|██▍       | 50/208 [03:57<12:17,  4.67s/it]Eval bleu for test set:  25%|██▍       | 51/208 [04:02<12:23,  4.73s/it]Eval bleu for test set:  25%|██▌       | 52/208 [04:07<12:24,  4.77s/it]Eval bleu for test set:  25%|██▌       | 53/208 [04:12<12:26,  4.81s/it]Eval bleu for test set:  26%|██▌       | 54/208 [04:16<12:18,  4.80s/it]Eval bleu for test set:  26%|██▋       | 55/208 [04:21<12:12,  4.79s/it]Eval bleu for test set:  27%|██▋       | 56/208 [04:26<12:01,  4.74s/it]Eval bleu for test set:  27%|██▋       | 57/208 [04:31<12:10,  4.84s/it]Eval bleu for test set:  28%|██▊       | 58/208 [04:36<12:04,  4.83s/it]Eval bleu for test set:  28%|██▊       | 59/208 [04:40<11:56,  4.81s/it]Eval bleu for test set:  29%|██▉       | 60/208 [04:45<11:24,  4.63s/it]Eval bleu for test set:  29%|██▉       | 61/208 [04:49<11:30,  4.70s/it]Eval bleu for test set:  30%|██▉       | 62/208 [04:54<11:35,  4.77s/it]Eval bleu for test set:  30%|███       | 63/208 [04:59<11:33,  4.78s/it]Eval bleu for test set:  31%|███       | 64/208 [05:04<11:35,  4.83s/it]Eval bleu for test set:  31%|███▏      | 65/208 [05:09<11:31,  4.84s/it]Eval bleu for test set:  32%|███▏      | 66/208 [05:14<11:24,  4.82s/it]Eval bleu for test set:  32%|███▏      | 67/208 [05:19<11:23,  4.85s/it]Eval bleu for test set:  33%|███▎      | 68/208 [05:23<10:41,  4.58s/it]Eval bleu for test set:  33%|███▎      | 69/208 [05:27<10:43,  4.63s/it]Eval bleu for test set:  34%|███▎      | 70/208 [05:32<10:53,  4.73s/it]Eval bleu for test set:  34%|███▍      | 71/208 [05:37<10:46,  4.72s/it]Eval bleu for test set:  35%|███▍      | 72/208 [05:42<10:49,  4.77s/it]Eval bleu for test set:  35%|███▌      | 73/208 [05:47<10:42,  4.76s/it]Eval bleu for test set:  36%|███▌      | 74/208 [05:52<10:44,  4.81s/it]Eval bleu for test set:  36%|███▌      | 75/208 [05:57<11:03,  4.99s/it]Eval bleu for test set:  37%|███▋      | 76/208 [06:02<11:18,  5.14s/it]Eval bleu for test set:  37%|███▋      | 77/208 [06:08<11:23,  5.22s/it]Eval bleu for test set:  38%|███▊      | 78/208 [06:13<11:22,  5.25s/it]Eval bleu for test set:  38%|███▊      | 79/208 [06:18<10:53,  5.07s/it]Eval bleu for test set:  38%|███▊      | 80/208 [06:23<10:58,  5.15s/it]Eval bleu for test set:  39%|███▉      | 81/208 [06:28<10:59,  5.19s/it]Eval bleu for test set:  39%|███▉      | 82/208 [06:34<11:02,  5.26s/it]Eval bleu for test set:  40%|███▉      | 83/208 [06:39<11:00,  5.28s/it]Eval bleu for test set:  40%|████      | 84/208 [06:44<10:46,  5.21s/it]Eval bleu for test set:  41%|████      | 85/208 [06:50<10:46,  5.25s/it]Eval bleu for test set:  41%|████▏     | 86/208 [06:55<10:43,  5.28s/it]Eval bleu for test set:  42%|████▏     | 87/208 [07:01<10:53,  5.40s/it]Eval bleu for test set:  42%|████▏     | 88/208 [07:06<10:57,  5.48s/it]Eval bleu for test set:  43%|████▎     | 89/208 [07:12<10:47,  5.44s/it]Eval bleu for test set:  43%|████▎     | 90/208 [07:17<10:43,  5.45s/it]Eval bleu for test set:  44%|████▍     | 91/208 [07:23<10:41,  5.48s/it]Eval bleu for test set:  44%|████▍     | 92/208 [07:28<10:31,  5.45s/it]Eval bleu for test set:  45%|████▍     | 93/208 [07:33<10:22,  5.41s/it]Eval bleu for test set:  45%|████▌     | 94/208 [07:39<10:14,  5.39s/it]Eval bleu for test set:  46%|████▌     | 95/208 [07:44<10:10,  5.40s/it]Eval bleu for test set:  46%|████▌     | 96/208 [07:49<10:01,  5.37s/it]Eval bleu for test set:  47%|████▋     | 97/208 [07:55<09:55,  5.36s/it]Eval bleu for test set:  47%|████▋     | 98/208 [08:00<09:56,  5.42s/it]Eval bleu for test set:  48%|████▊     | 99/208 [08:06<09:50,  5.42s/it]Eval bleu for test set:  48%|████▊     | 100/208 [08:11<09:44,  5.41s/it]Eval bleu for test set:  49%|████▊     | 101/208 [08:16<09:34,  5.37s/it]Eval bleu for test set:  49%|████▉     | 102/208 [08:22<09:31,  5.39s/it]Eval bleu for test set:  50%|████▉     | 103/208 [08:27<09:23,  5.36s/it]Eval bleu for test set:  50%|█████     | 104/208 [08:32<08:59,  5.19s/it]Eval bleu for test set:  50%|█████     | 105/208 [08:37<09:00,  5.25s/it]Eval bleu for test set:  51%|█████     | 106/208 [08:43<08:59,  5.29s/it]Eval bleu for test set:  51%|█████▏    | 107/208 [08:48<08:51,  5.26s/it]Eval bleu for test set:  52%|█████▏    | 108/208 [08:53<08:48,  5.28s/it]Eval bleu for test set:  52%|█████▏    | 109/208 [08:59<08:48,  5.34s/it]Eval bleu for test set:  53%|█████▎    | 110/208 [09:04<08:46,  5.37s/it]Eval bleu for test set:  53%|█████▎    | 111/208 [09:10<08:41,  5.38s/it]Eval bleu for test set:  54%|█████▍    | 112/208 [09:15<08:42,  5.44s/it]Eval bleu for test set:  54%|█████▍    | 113/208 [09:21<08:37,  5.45s/it]Eval bleu for test set:  55%|█████▍    | 114/208 [09:26<08:31,  5.44s/it]Eval bleu for test set:  55%|█████▌    | 115/208 [09:31<08:27,  5.46s/it]Eval bleu for test set:  56%|█████▌    | 116/208 [09:37<08:19,  5.43s/it]Eval bleu for test set:  56%|█████▋    | 117/208 [09:42<08:12,  5.41s/it]Eval bleu for test set:  57%|█████▋    | 118/208 [09:48<08:04,  5.38s/it]Eval bleu for test set:  57%|█████▋    | 119/208 [09:53<08:00,  5.40s/it]Eval bleu for test set:  58%|█████▊    | 120/208 [09:58<07:57,  5.43s/it]Eval bleu for test set:  58%|█████▊    | 121/208 [10:04<07:53,  5.44s/it]Eval bleu for test set:  59%|█████▊    | 122/208 [10:09<07:45,  5.41s/it]Eval bleu for test set:  59%|█████▉    | 123/208 [10:14<07:35,  5.35s/it]Eval bleu for test set:  60%|█████▉    | 124/208 [10:20<07:31,  5.37s/it]Eval bleu for test set:  60%|██████    | 125/208 [10:25<07:13,  5.22s/it]Eval bleu for test set:  61%|██████    | 126/208 [10:30<07:12,  5.28s/it]Eval bleu for test set:  61%|██████    | 127/208 [10:36<07:14,  5.37s/it]Eval bleu for test set:  62%|██████▏   | 128/208 [10:41<07:07,  5.34s/it]Eval bleu for test set:  62%|██████▏   | 129/208 [10:47<07:05,  5.38s/it]Eval bleu for test set:  62%|██████▎   | 130/208 [10:52<06:57,  5.36s/it]Eval bleu for test set:  63%|██████▎   | 131/208 [10:57<06:50,  5.34s/it]Eval bleu for test set:  63%|██████▎   | 132/208 [11:02<06:44,  5.32s/it]Eval bleu for test set:  64%|██████▍   | 133/208 [11:08<06:40,  5.34s/it]Eval bleu for test set:  64%|██████▍   | 134/208 [11:13<06:35,  5.34s/it]Eval bleu for test set:  65%|██████▍   | 135/208 [11:18<06:19,  5.20s/it]Eval bleu for test set:  65%|██████▌   | 136/208 [11:23<06:18,  5.26s/it]Eval bleu for test set:  66%|██████▌   | 137/208 [11:29<06:14,  5.28s/it]Eval bleu for test set:  66%|██████▋   | 138/208 [11:34<06:13,  5.34s/it]Eval bleu for test set:  67%|██████▋   | 139/208 [11:39<05:53,  5.12s/it]Eval bleu for test set:  67%|██████▋   | 140/208 [11:44<05:57,  5.26s/it]Eval bleu for test set:  68%|██████▊   | 141/208 [11:50<05:56,  5.33s/it]Eval bleu for test set:  68%|██████▊   | 142/208 [11:55<05:51,  5.32s/it]Eval bleu for test set:  69%|██████▉   | 143/208 [12:00<05:41,  5.25s/it]Eval bleu for test set:  69%|██████▉   | 144/208 [12:06<05:39,  5.31s/it]Eval bleu for test set:  70%|██████▉   | 145/208 [12:11<05:36,  5.34s/it]Eval bleu for test set:  70%|███████   | 146/208 [12:16<05:31,  5.35s/it]Eval bleu for test set:  71%|███████   | 147/208 [12:22<05:26,  5.35s/it]Eval bleu for test set:  71%|███████   | 148/208 [12:27<05:20,  5.34s/it]Eval bleu for test set:  72%|███████▏  | 149/208 [12:33<05:16,  5.36s/it]Eval bleu for test set:  72%|███████▏  | 150/208 [12:38<05:09,  5.34s/it]Eval bleu for test set:  73%|███████▎  | 151/208 [12:43<05:04,  5.33s/it]Eval bleu for test set:  73%|███████▎  | 152/208 [12:49<05:01,  5.38s/it]Eval bleu for test set:  74%|███████▎  | 153/208 [12:54<04:55,  5.37s/it]Eval bleu for test set:  74%|███████▍  | 154/208 [12:59<04:48,  5.35s/it]Eval bleu for test set:  75%|███████▍  | 155/208 [13:05<04:43,  5.35s/it]Eval bleu for test set:  75%|███████▌  | 156/208 [13:10<04:39,  5.37s/it]Eval bleu for test set:  75%|███████▌  | 157/208 [13:15<04:30,  5.30s/it]Eval bleu for test set:  76%|███████▌  | 158/208 [13:21<04:26,  5.33s/it]Eval bleu for test set:  76%|███████▋  | 159/208 [13:26<04:20,  5.33s/it]Eval bleu for test set:  77%|███████▋  | 160/208 [13:31<04:17,  5.36s/it]Eval bleu for test set:  77%|███████▋  | 161/208 [13:37<04:10,  5.34s/it]Eval bleu for test set:  78%|███████▊  | 162/208 [13:42<04:01,  5.26s/it]Eval bleu for test set:  78%|███████▊  | 163/208 [13:47<03:59,  5.33s/it]Eval bleu for test set:  79%|███████▉  | 164/208 [13:53<03:57,  5.39s/it]Eval bleu for test set:  79%|███████▉  | 165/208 [13:58<03:52,  5.41s/it]Eval bleu for test set:  80%|███████▉  | 166/208 [14:03<03:42,  5.30s/it]Eval bleu for test set:  80%|████████  | 167/208 [14:08<03:35,  5.25s/it]Eval bleu for test set:  81%|████████  | 168/208 [14:14<03:32,  5.30s/it]Eval bleu for test set:  81%|████████▏ | 169/208 [14:19<03:28,  5.34s/it]Eval bleu for test set:  82%|████████▏ | 170/208 [14:25<03:23,  5.35s/it]Eval bleu for test set:  82%|████████▏ | 171/208 [14:30<03:14,  5.25s/it]Eval bleu for test set:  83%|████████▎ | 172/208 [14:34<03:02,  5.07s/it]Eval bleu for test set:  83%|████████▎ | 173/208 [14:39<02:49,  4.85s/it]Eval bleu for test set:  84%|████████▎ | 174/208 [14:43<02:43,  4.80s/it]Eval bleu for test set:  84%|████████▍ | 175/208 [14:48<02:40,  4.86s/it]Eval bleu for test set:  85%|████████▍ | 176/208 [14:53<02:35,  4.87s/it]Eval bleu for test set:  85%|████████▌ | 177/208 [14:59<02:36,  5.06s/it]Eval bleu for test set:  86%|████████▌ | 178/208 [15:04<02:35,  5.18s/it]Eval bleu for test set:  86%|████████▌ | 179/208 [15:09<02:30,  5.20s/it]Eval bleu for test set:  87%|████████▋ | 180/208 [15:15<02:27,  5.28s/it]Eval bleu for test set:  87%|████████▋ | 181/208 [15:20<02:23,  5.31s/it]Eval bleu for test set:  88%|████████▊ | 182/208 [15:26<02:17,  5.30s/it]Eval bleu for test set:  88%|████████▊ | 183/208 [15:31<02:12,  5.31s/it]Eval bleu for test set:  88%|████████▊ | 184/208 [15:36<02:07,  5.31s/it]Eval bleu for test set:  89%|████████▉ | 185/208 [15:42<02:02,  5.33s/it]Eval bleu for test set:  89%|████████▉ | 186/208 [15:47<01:58,  5.38s/it]Eval bleu for test set:  90%|████████▉ | 187/208 [15:52<01:52,  5.34s/it]Eval bleu for test set:  90%|█████████ | 188/208 [15:58<01:46,  5.32s/it]Eval bleu for test set:  91%|█████████ | 189/208 [16:03<01:39,  5.24s/it]Eval bleu for test set:  91%|█████████▏| 190/208 [16:08<01:34,  5.27s/it]Eval bleu for test set:  92%|█████████▏| 191/208 [16:13<01:30,  5.32s/it]Eval bleu for test set:  92%|█████████▏| 192/208 [16:19<01:24,  5.31s/it]Eval bleu for test set:  93%|█████████▎| 193/208 [16:23<01:16,  5.07s/it]Eval bleu for test set:  93%|█████████▎| 194/208 [16:29<01:12,  5.17s/it]Eval bleu for test set:  94%|█████████▍| 195/208 [16:34<01:08,  5.23s/it]Eval bleu for test set:  94%|█████████▍| 196/208 [16:39<01:03,  5.27s/it]Eval bleu for test set:  95%|█████████▍| 197/208 [16:45<00:58,  5.28s/it]Eval bleu for test set:  95%|█████████▌| 198/208 [16:50<00:53,  5.31s/it]Eval bleu for test set:  96%|█████████▌| 199/208 [16:56<00:48,  5.43s/it]Eval bleu for test set:  96%|█████████▌| 200/208 [17:01<00:43,  5.44s/it]Eval bleu for test set:  97%|█████████▋| 201/208 [17:07<00:37,  5.41s/it]Eval bleu for test set:  97%|█████████▋| 202/208 [17:12<00:32,  5.42s/it]Eval bleu for test set:  98%|█████████▊| 203/208 [17:17<00:27,  5.44s/it]Eval bleu for test set:  98%|█████████▊| 204/208 [17:23<00:21,  5.48s/it]Eval bleu for test set:  99%|█████████▊| 205/208 [17:29<00:16,  5.49s/it]Eval bleu for test set:  99%|█████████▉| 206/208 [17:34<00:10,  5.48s/it]Eval bleu for test set: 100%|█████████▉| 207/208 [17:39<00:05,  5.47s/it]Eval bleu for test set: 100%|██████████| 208/208 [17:43<00:00,  5.04s/it]Eval bleu for test set: 100%|██████████| 208/208 [17:44<00:00,  5.12s/it]
11/13/2022 03:40:42 - INFO - __main__ -   ***** Eval results *****
11/13/2022 03:40:42 - INFO - __main__ -     bleu = 80.63
11/13/2022 03:40:42 - INFO - __main__ -     codebleu = 80.9862
11/13/2022 03:40:42 - INFO - __main__ -     em = 22.6137
11/13/2022 03:40:42 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeinsert_try_catch + whether_refactoringbefore_refactoring :
11/13/2022 03:40:42 - INFO - __main__ -   [best-bleu] bleu-4: 80.63, em: 22.6137, codebleu: 80.9862

11/13/2022 03:40:42 - INFO - __main__ -   Finish and take 3h19m
11/13/2022 03:40:42 - INFO - __main__ -     ***** Testing *****
11/13/2022 03:40:42 - INFO - __main__ -     Batch size = 16
11/13/2022 03:40:42 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 03:40:42 - INFO - __main__ -   test11111111111
11/13/2022 03:40:42 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 03:40:42 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/insert_try_catch/after_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/insert_try_catch/after_refactoring/small/test.buggy-fixed.fixed
11/13/2022 03:40:42 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 03:40:42 - INFO - utils -   Read 3321 examples, avg src len: 41, avg trg len: 40, max src len: 85, max trg len: 85
11/13/2022 03:40:42 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/test_src_all.pt
11/13/2022 03:40:42 - INFO - utils -   加载前test666666666666666
ngram match: 0.8063225937247746, weighted ngram match: 0.8087065042186563, syntax_match: 0.820325012039557, dataflow_match: 0.8040941416840203
  0%|          | 0/3321 [00:00<?, ?it/s] 50%|█████     | 1662/3321 [00:01<00:01, 1422.64it/s] 75%|███████▌  | 2493/3321 [00:02<00:00, 1012.42it/s]100%|██████████| 3321/3321 [00:02<00:00, 1430.92it/s]
11/13/2022 03:40:47 - INFO - utils -   加载后test77777777777777
11/13/2022 03:40:47 - INFO - __main__ -   加载成功test2222222222
11/13/2022 03:40:47 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 03:40:47 - INFO - __main__ -     Num examples = 3321
11/13/2022 03:40:47 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/208 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/208 [00:05<18:06,  5.25s/it]Eval bleu for test set:   1%|          | 2/208 [00:10<17:32,  5.11s/it]Eval bleu for test set:   1%|▏         | 3/208 [00:15<17:35,  5.15s/it]Eval bleu for test set:   2%|▏         | 4/208 [00:20<17:22,  5.11s/it]Eval bleu for test set:   2%|▏         | 5/208 [00:26<17:50,  5.27s/it]Eval bleu for test set:   3%|▎         | 6/208 [00:31<18:12,  5.41s/it]Eval bleu for test set:   3%|▎         | 7/208 [00:37<18:14,  5.45s/it]Eval bleu for test set:   4%|▍         | 8/208 [00:42<18:13,  5.47s/it]Eval bleu for test set:   4%|▍         | 9/208 [00:48<18:18,  5.52s/it]Eval bleu for test set:   5%|▍         | 10/208 [00:53<18:06,  5.49s/it]Eval bleu for test set:   5%|▌         | 11/208 [00:59<18:12,  5.54s/it]Eval bleu for test set:   6%|▌         | 12/208 [01:04<17:38,  5.40s/it]Eval bleu for test set:   6%|▋         | 13/208 [01:10<17:41,  5.44s/it]Eval bleu for test set:   7%|▋         | 14/208 [01:15<17:44,  5.49s/it]Eval bleu for test set:   7%|▋         | 15/208 [01:21<17:42,  5.51s/it]Eval bleu for test set:   8%|▊         | 16/208 [01:26<17:41,  5.53s/it]Eval bleu for test set:   8%|▊         | 17/208 [01:32<17:49,  5.60s/it]Eval bleu for test set:   9%|▊         | 18/208 [01:38<17:45,  5.61s/it]Eval bleu for test set:   9%|▉         | 19/208 [01:43<17:27,  5.54s/it]Eval bleu for test set:  10%|▉         | 20/208 [01:49<17:15,  5.51s/it]Eval bleu for test set:  10%|█         | 21/208 [01:54<17:08,  5.50s/it]Eval bleu for test set:  11%|█         | 22/208 [02:00<17:03,  5.50s/it]Eval bleu for test set:  11%|█         | 23/208 [02:05<17:06,  5.55s/it]Eval bleu for test set:  12%|█▏        | 24/208 [02:10<16:28,  5.37s/it]Eval bleu for test set:  12%|█▏        | 25/208 [02:16<16:27,  5.39s/it]Eval bleu for test set:  12%|█▎        | 26/208 [02:21<16:33,  5.46s/it]Eval bleu for test set:  13%|█▎        | 27/208 [02:26<16:13,  5.38s/it]Eval bleu for test set:  13%|█▎        | 28/208 [02:32<16:12,  5.40s/it]Eval bleu for test set:  14%|█▍        | 29/208 [02:37<16:18,  5.47s/it]Eval bleu for test set:  14%|█▍        | 30/208 [02:43<16:23,  5.52s/it]Eval bleu for test set:  15%|█▍        | 31/208 [02:49<16:12,  5.50s/it]Eval bleu for test set:  15%|█▌        | 32/208 [02:54<16:03,  5.47s/it]Eval bleu for test set:  16%|█▌        | 33/208 [03:00<16:02,  5.50s/it]Eval bleu for test set:  16%|█▋        | 34/208 [03:05<16:06,  5.55s/it]Eval bleu for test set:  17%|█▋        | 35/208 [03:11<15:50,  5.50s/it]Eval bleu for test set:  17%|█▋        | 36/208 [03:16<15:42,  5.48s/it]Eval bleu for test set:  18%|█▊        | 37/208 [03:22<15:47,  5.54s/it]Eval bleu for test set:  18%|█▊        | 38/208 [03:27<15:47,  5.57s/it]Eval bleu for test set:  19%|█▉        | 39/208 [03:33<15:36,  5.54s/it]Eval bleu for test set:  19%|█▉        | 40/208 [03:38<15:21,  5.49s/it]Eval bleu for test set:  20%|█▉        | 41/208 [03:44<15:14,  5.48s/it]Eval bleu for test set:  20%|██        | 42/208 [03:49<15:19,  5.54s/it]Eval bleu for test set:  21%|██        | 43/208 [03:55<15:13,  5.54s/it]Eval bleu for test set:  21%|██        | 44/208 [04:01<15:23,  5.63s/it]Eval bleu for test set:  22%|██▏       | 45/208 [04:06<15:24,  5.67s/it]Eval bleu for test set:  22%|██▏       | 46/208 [04:12<15:16,  5.66s/it]Eval bleu for test set:  23%|██▎       | 47/208 [04:18<15:19,  5.71s/it]Eval bleu for test set:  23%|██▎       | 48/208 [04:23<14:58,  5.62s/it]Eval bleu for test set:  24%|██▎       | 49/208 [04:29<14:36,  5.51s/it]Eval bleu for test set:  24%|██▍       | 50/208 [04:34<14:32,  5.52s/it]Eval bleu for test set:  25%|██▍       | 51/208 [04:40<14:31,  5.55s/it]Eval bleu for test set:  25%|██▌       | 52/208 [04:45<14:17,  5.50s/it]Eval bleu for test set:  25%|██▌       | 53/208 [04:51<14:16,  5.53s/it]Eval bleu for test set:  26%|██▌       | 54/208 [04:56<14:14,  5.55s/it]Eval bleu for test set:  26%|██▋       | 55/208 [05:02<14:08,  5.54s/it]Eval bleu for test set:  27%|██▋       | 56/208 [05:07<13:58,  5.52s/it]Eval bleu for test set:  27%|██▋       | 57/208 [05:13<14:08,  5.62s/it]Eval bleu for test set:  28%|██▊       | 58/208 [05:19<14:00,  5.60s/it]Eval bleu for test set:  28%|██▊       | 59/208 [05:24<13:51,  5.58s/it]Eval bleu for test set:  29%|██▉       | 60/208 [05:30<13:32,  5.49s/it]Eval bleu for test set:  29%|██▉       | 61/208 [05:35<13:33,  5.53s/it]Eval bleu for test set:  30%|██▉       | 62/208 [05:41<13:33,  5.57s/it]Eval bleu for test set:  30%|███       | 63/208 [05:46<13:26,  5.56s/it]Eval bleu for test set:  31%|███       | 64/208 [05:52<13:07,  5.47s/it]Eval bleu for test set:  31%|███▏      | 65/208 [05:57<12:46,  5.36s/it]Eval bleu for test set:  32%|███▏      | 66/208 [06:02<12:26,  5.25s/it]Eval bleu for test set:  32%|███▏      | 67/208 [06:07<12:10,  5.18s/it]Eval bleu for test set:  33%|███▎      | 68/208 [06:12<11:57,  5.12s/it]Eval bleu for test set:  33%|███▎      | 69/208 [06:17<11:43,  5.06s/it]Eval bleu for test set:  34%|███▎      | 70/208 [06:22<11:41,  5.09s/it]Eval bleu for test set:  34%|███▍      | 71/208 [06:27<11:28,  5.02s/it]Eval bleu for test set:  35%|███▍      | 72/208 [06:32<11:23,  5.02s/it]Eval bleu for test set:  35%|███▌      | 73/208 [06:37<11:14,  5.00s/it]Eval bleu for test set:  36%|███▌      | 74/208 [06:42<11:10,  5.00s/it]Eval bleu for test set:  36%|███▌      | 75/208 [06:47<11:03,  4.99s/it]Eval bleu for test set:  37%|███▋      | 76/208 [06:52<10:58,  4.99s/it]Eval bleu for test set:  37%|███▋      | 77/208 [06:57<10:53,  4.99s/it]Eval bleu for test set:  38%|███▊      | 78/208 [07:02<10:46,  4.97s/it]Eval bleu for test set:  38%|███▊      | 79/208 [07:06<10:35,  4.92s/it]Eval bleu for test set:  38%|███▊      | 80/208 [07:11<10:29,  4.92s/it]Eval bleu for test set:  39%|███▉      | 81/208 [07:16<10:24,  4.91s/it]Eval bleu for test set:  39%|███▉      | 82/208 [07:21<10:20,  4.92s/it]Eval bleu for test set:  40%|███▉      | 83/208 [07:26<10:12,  4.90s/it]Eval bleu for test set:  40%|████      | 84/208 [07:31<10:03,  4.87s/it]Eval bleu for test set:  41%|████      | 85/208 [07:36<10:00,  4.88s/it]Eval bleu for test set:  41%|████▏     | 86/208 [07:41<09:58,  4.91s/it]Eval bleu for test set:  42%|████▏     | 87/208 [07:46<10:01,  4.97s/it]Eval bleu for test set:  42%|████▏     | 88/208 [07:51<10:02,  5.02s/it]Eval bleu for test set:  43%|████▎     | 89/208 [07:56<09:52,  4.98s/it]Eval bleu for test set:  43%|████▎     | 90/208 [08:01<09:45,  4.97s/it]Eval bleu for test set:  44%|████▍     | 91/208 [08:06<09:49,  5.03s/it]Eval bleu for test set:  44%|████▍     | 92/208 [08:11<09:41,  5.02s/it]Eval bleu for test set:  45%|████▍     | 93/208 [08:16<09:35,  5.00s/it]Eval bleu for test set:  45%|████▌     | 94/208 [08:21<09:26,  4.97s/it]Eval bleu for test set:  46%|████▌     | 95/208 [08:26<09:28,  5.03s/it]Eval bleu for test set:  46%|████▌     | 96/208 [08:31<09:26,  5.06s/it]Eval bleu for test set:  47%|████▋     | 97/208 [08:36<09:26,  5.10s/it]Eval bleu for test set:  47%|████▋     | 98/208 [08:41<09:20,  5.10s/it]Eval bleu for test set:  48%|████▊     | 99/208 [08:46<09:14,  5.08s/it]Eval bleu for test set:  48%|████▊     | 100/208 [08:51<09:06,  5.06s/it]Eval bleu for test set:  49%|████▊     | 101/208 [08:56<08:55,  5.01s/it]Eval bleu for test set:  49%|████▉     | 102/208 [09:01<08:50,  5.01s/it]Eval bleu for test set:  50%|████▉     | 103/208 [09:06<08:42,  4.97s/it]Eval bleu for test set:  50%|█████     | 104/208 [09:11<08:34,  4.95s/it]Eval bleu for test set:  50%|█████     | 105/208 [09:16<08:30,  4.95s/it]Eval bleu for test set:  51%|█████     | 106/208 [09:21<08:24,  4.95s/it]Eval bleu for test set:  51%|█████▏    | 107/208 [09:26<08:18,  4.94s/it]Eval bleu for test set:  52%|█████▏    | 108/208 [09:31<08:15,  4.95s/it]Eval bleu for test set:  52%|█████▏    | 109/208 [09:36<08:13,  4.98s/it]Eval bleu for test set:  53%|█████▎    | 110/208 [09:41<08:08,  4.99s/it]Eval bleu for test set:  53%|█████▎    | 111/208 [09:46<08:03,  4.98s/it]Eval bleu for test set:  54%|█████▍    | 112/208 [09:51<08:01,  5.02s/it]Eval bleu for test set:  54%|█████▍    | 113/208 [09:56<07:55,  5.01s/it]Eval bleu for test set:  55%|█████▍    | 114/208 [10:01<07:51,  5.02s/it]Eval bleu for test set:  55%|█████▌    | 115/208 [10:06<07:47,  5.03s/it]Eval bleu for test set:  56%|█████▌    | 116/208 [10:11<07:41,  5.01s/it]Eval bleu for test set:  56%|█████▋    | 117/208 [10:16<07:33,  4.99s/it]Eval bleu for test set:  57%|█████▋    | 118/208 [10:21<07:27,  4.98s/it]Eval bleu for test set:  57%|█████▋    | 119/208 [10:26<07:24,  4.99s/it]Eval bleu for test set:  58%|█████▊    | 120/208 [10:31<07:21,  5.01s/it]Eval bleu for test set:  58%|█████▊    | 121/208 [10:36<07:16,  5.02s/it]Eval bleu for test set:  59%|█████▊    | 122/208 [10:41<07:08,  4.98s/it]Eval bleu for test set:  59%|█████▉    | 123/208 [10:46<07:00,  4.95s/it]Eval bleu for test set:  60%|█████▉    | 124/208 [10:51<06:59,  4.99s/it]Eval bleu for test set:  60%|██████    | 125/208 [10:56<06:53,  4.98s/it]Eval bleu for test set:  61%|██████    | 126/208 [11:01<06:49,  5.00s/it]Eval bleu for test set:  61%|██████    | 127/208 [11:06<06:47,  5.03s/it]Eval bleu for test set:  62%|██████▏   | 128/208 [11:11<06:38,  4.99s/it]Eval bleu for test set:  62%|██████▏   | 129/208 [11:16<06:35,  5.01s/it]Eval bleu for test set:  62%|██████▎   | 130/208 [11:21<06:28,  4.98s/it]Eval bleu for test set:  63%|██████▎   | 131/208 [11:26<06:29,  5.05s/it]Eval bleu for test set:  63%|██████▎   | 132/208 [11:31<06:22,  5.03s/it]Eval bleu for test set:  64%|██████▍   | 133/208 [11:36<06:14,  4.99s/it]Eval bleu for test set:  64%|██████▍   | 134/208 [11:41<06:07,  4.96s/it]Eval bleu for test set:  65%|██████▍   | 135/208 [11:46<06:01,  4.96s/it]Eval bleu for test set:  65%|██████▌   | 136/208 [11:51<05:57,  4.97s/it]Eval bleu for test set:  66%|██████▌   | 137/208 [11:56<05:52,  4.96s/it]Eval bleu for test set:  66%|██████▋   | 138/208 [12:01<05:50,  5.00s/it]Eval bleu for test set:  67%|██████▋   | 139/208 [12:06<05:42,  4.96s/it]Eval bleu for test set:  67%|██████▋   | 140/208 [12:11<05:39,  5.00s/it]Eval bleu for test set:  68%|██████▊   | 141/208 [12:16<05:35,  5.01s/it]Eval bleu for test set:  68%|██████▊   | 142/208 [12:21<05:29,  4.99s/it]Eval bleu for test set:  69%|██████▉   | 143/208 [12:26<05:20,  4.94s/it]Eval bleu for test set:  69%|██████▉   | 144/208 [12:31<05:16,  4.95s/it]Eval bleu for test set:  70%|██████▉   | 145/208 [12:36<05:13,  4.98s/it]Eval bleu for test set:  70%|███████   | 146/208 [12:41<05:08,  4.98s/it]Eval bleu for test set:  71%|███████   | 147/208 [12:45<05:02,  4.95s/it]Eval bleu for test set:  71%|███████   | 148/208 [12:50<04:57,  4.95s/it]Eval bleu for test set:  72%|███████▏  | 149/208 [12:55<04:53,  4.98s/it]Eval bleu for test set:  72%|███████▏  | 150/208 [13:00<04:49,  4.99s/it]Eval bleu for test set:  73%|███████▎  | 151/208 [13:05<04:43,  4.97s/it]Eval bleu for test set:  73%|███████▎  | 152/208 [13:10<04:39,  4.99s/it]Eval bleu for test set:  74%|███████▎  | 153/208 [13:15<04:33,  4.97s/it]Eval bleu for test set:  74%|███████▍  | 154/208 [13:20<04:27,  4.95s/it]Eval bleu for test set:  75%|███████▍  | 155/208 [13:25<04:22,  4.96s/it]Eval bleu for test set:  75%|███████▌  | 156/208 [13:30<04:18,  4.97s/it]Eval bleu for test set:  75%|███████▌  | 157/208 [13:35<04:12,  4.95s/it]Eval bleu for test set:  76%|███████▌  | 158/208 [13:40<04:11,  5.03s/it]Eval bleu for test set:  76%|███████▋  | 159/208 [13:45<04:03,  4.97s/it]Eval bleu for test set:  77%|███████▋  | 160/208 [13:50<03:59,  4.98s/it]Eval bleu for test set:  77%|███████▋  | 161/208 [13:55<03:53,  4.96s/it]Eval bleu for test set:  78%|███████▊  | 162/208 [14:00<03:47,  4.95s/it]Eval bleu for test set:  78%|███████▊  | 163/208 [14:05<03:43,  4.96s/it]Eval bleu for test set:  79%|███████▉  | 164/208 [14:10<03:39,  4.98s/it]Eval bleu for test set:  79%|███████▉  | 165/208 [14:15<03:35,  5.00s/it]Eval bleu for test set:  80%|███████▉  | 166/208 [14:20<03:29,  4.99s/it]Eval bleu for test set:  80%|████████  | 167/208 [14:25<03:23,  4.95s/it]Eval bleu for test set:  81%|████████  | 168/208 [14:30<03:18,  4.96s/it]Eval bleu for test set:  81%|████████▏ | 169/208 [14:35<03:14,  4.99s/it]Eval bleu for test set:  82%|████████▏ | 170/208 [14:40<03:09,  4.98s/it]Eval bleu for test set:  82%|████████▏ | 171/208 [14:45<03:04,  4.99s/it]Eval bleu for test set:  83%|████████▎ | 172/208 [14:50<02:58,  4.97s/it]Eval bleu for test set:  83%|████████▎ | 173/208 [14:55<02:53,  4.96s/it]Eval bleu for test set:  84%|████████▎ | 174/208 [15:00<02:47,  4.94s/it]Eval bleu for test set:  84%|████████▍ | 175/208 [15:05<02:44,  4.98s/it]Eval bleu for test set:  85%|████████▍ | 176/208 [15:10<02:39,  4.98s/it]Eval bleu for test set:  85%|████████▌ | 177/208 [15:15<02:34,  4.98s/it]Eval bleu for test set:  86%|████████▌ | 178/208 [15:20<02:29,  4.99s/it]Eval bleu for test set:  86%|████████▌ | 179/208 [15:25<02:23,  4.94s/it]Eval bleu for test set:  87%|████████▋ | 180/208 [15:30<02:18,  4.96s/it]Eval bleu for test set:  87%|████████▋ | 181/208 [15:35<02:14,  4.97s/it]Eval bleu for test set:  88%|████████▊ | 182/208 [15:39<02:08,  4.94s/it]Eval bleu for test set:  88%|████████▊ | 183/208 [15:44<02:03,  4.95s/it]Eval bleu for test set:  88%|████████▊ | 184/208 [15:49<01:58,  4.95s/it]Eval bleu for test set:  89%|████████▉ | 185/208 [15:54<01:53,  4.95s/it]Eval bleu for test set:  89%|████████▉ | 186/208 [15:59<01:49,  4.99s/it]Eval bleu for test set:  90%|████████▉ | 187/208 [16:04<01:43,  4.95s/it]Eval bleu for test set:  90%|█████████ | 188/208 [16:09<01:38,  4.94s/it]Eval bleu for test set:  91%|█████████ | 189/208 [16:14<01:33,  4.94s/it]Eval bleu for test set:  91%|█████████▏| 190/208 [16:19<01:28,  4.94s/it]Eval bleu for test set:  92%|█████████▏| 191/208 [16:24<01:24,  4.95s/it]Eval bleu for test set:  92%|█████████▏| 192/208 [16:29<01:18,  4.93s/it]Eval bleu for test set:  93%|█████████▎| 193/208 [16:33<01:10,  4.69s/it]Eval bleu for test set:  93%|█████████▎| 194/208 [16:38<01:07,  4.80s/it]Eval bleu for test set:  94%|█████████▍| 195/208 [16:43<01:02,  4.83s/it]Eval bleu for test set:  94%|█████████▍| 196/208 [16:48<00:58,  4.87s/it]Eval bleu for test set:  95%|█████████▍| 197/208 [16:53<00:53,  4.84s/it]Eval bleu for test set:  95%|█████████▌| 198/208 [16:58<00:48,  4.87s/it]Eval bleu for test set:  96%|█████████▌| 199/208 [17:03<00:44,  4.92s/it]Eval bleu for test set:  96%|█████████▌| 200/208 [17:08<00:39,  4.95s/it]Eval bleu for test set:  97%|█████████▋| 201/208 [17:13<00:34,  4.94s/it]Eval bleu for test set:  97%|█████████▋| 202/208 [17:18<00:29,  4.95s/it]Eval bleu for test set:  98%|█████████▊| 203/208 [17:23<00:24,  4.97s/it]Eval bleu for test set:  98%|█████████▊| 204/208 [17:28<00:19,  4.98s/it]Eval bleu for test set:  99%|█████████▊| 205/208 [17:33<00:14,  4.96s/it]Eval bleu for test set:  99%|█████████▉| 206/208 [17:38<00:09,  4.96s/it]Eval bleu for test set: 100%|█████████▉| 207/208 [17:42<00:04,  4.96s/it]Eval bleu for test set: 100%|██████████| 208/208 [17:46<00:00,  4.56s/it]Eval bleu for test set: 100%|██████████| 208/208 [17:46<00:00,  5.13s/it]
11/13/2022 04:01:08 - INFO - __main__ -   ***** Eval results *****
11/13/2022 04:01:08 - INFO - __main__ -     bleu = 61.19
11/13/2022 04:01:08 - INFO - __main__ -     codebleu = 67.1995
11/13/2022 04:01:08 - INFO - __main__ -     em = 2.0175
11/13/2022 04:01:08 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeinsert_try_catch + whether_refactoringafter_refactoring :
11/13/2022 04:01:08 - INFO - __main__ -   [best-bleu] bleu-4: 61.19, em: 2.0175, codebleu: 67.1995

11/13/2022 04:01:08 - INFO - __main__ -   Finish and take 3h39m
11/13/2022 04:01:08 - INFO - __main__ -     ***** Testing *****
11/13/2022 04:01:08 - INFO - __main__ -     Batch size = 16
11/13/2022 04:01:08 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 04:01:08 - INFO - __main__ -   test11111111111
11/13/2022 04:01:08 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 04:01:08 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/loop_exchange/before_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/loop_exchange/before_refactoring/small/test.buggy-fixed.fixed
11/13/2022 04:01:08 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 04:01:08 - INFO - utils -   Read 65 examples, avg src len: 40, avg trg len: 39, max src len: 52, max trg len: 52
11/13/2022 04:01:08 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/test_src_all.pt
11/13/2022 04:01:08 - INFO - utils -   加载前test666666666666666
ngram match: 0.6118944410484076, weighted ngram match: 0.6174505225703019, syntax_match: 0.7311407118740867, dataflow_match: 0.7274951985626665
  0%|          | 0/65 [00:00<?, ?it/s] 78%|███████▊  | 51/65 [00:00<00:00, 404.43it/s]100%|██████████| 65/65 [00:00<00:00, 514.65it/s]
11/13/2022 04:01:09 - INFO - utils -   加载后test77777777777777
11/13/2022 04:01:09 - INFO - __main__ -   加载成功test2222222222
11/13/2022 04:01:09 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 04:01:09 - INFO - __main__ -     Num examples = 65
11/13/2022 04:01:09 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/5 [00:00<?, ?it/s]Eval bleu for test set:  20%|██        | 1/5 [00:04<00:19,  4.97s/it]Eval bleu for test set:  40%|████      | 2/5 [00:08<00:13,  4.41s/it]Eval bleu for test set:  60%|██████    | 3/5 [00:13<00:08,  4.46s/it]Eval bleu for test set:  80%|████████  | 4/5 [00:17<00:04,  4.35s/it]Eval bleu for test set: 100%|██████████| 5/5 [00:19<00:00,  3.33s/it]Eval bleu for test set: 100%|██████████| 5/5 [00:19<00:00,  3.86s/it]
11/13/2022 04:01:30 - INFO - __main__ -   ***** Eval results *****
11/13/2022 04:01:30 - INFO - __main__ -     bleu = 84.92
11/13/2022 04:01:30 - INFO - __main__ -     codebleu = 84.8475
11/13/2022 04:01:30 - INFO - __main__ -     em = 18.4615
11/13/2022 04:01:30 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeloop_exchange + whether_refactoringbefore_refactoring :
11/13/2022 04:01:30 - INFO - __main__ -   [best-bleu] bleu-4: 84.92, em: 18.4615, codebleu: 84.8475

11/13/2022 04:01:30 - INFO - __main__ -   Finish and take 3h40m
11/13/2022 04:01:30 - INFO - __main__ -     ***** Testing *****
11/13/2022 04:01:30 - INFO - __main__ -     Batch size = 16
11/13/2022 04:01:30 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 04:01:31 - INFO - __main__ -   test11111111111
11/13/2022 04:01:31 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 04:01:31 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/loop_exchange/after_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/loop_exchange/after_refactoring/small/test.buggy-fixed.fixed
11/13/2022 04:01:31 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 04:01:31 - INFO - utils -   Read 65 examples, avg src len: 35, avg trg len: 34, max src len: 45, max trg len: 46
11/13/2022 04:01:31 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/test_src_all.pt
11/13/2022 04:01:31 - INFO - utils -   加载前test666666666666666
ngram match: 0.8491112992009955, weighted ngram match: 0.8493715931531106, syntax_match: 0.8367231638418079, dataflow_match: 0.8586956521739131
  0%|          | 0/65 [00:00<?, ?it/s] 78%|███████▊  | 51/65 [00:00<00:00, 418.21it/s]100%|██████████| 65/65 [00:00<00:00, 532.19it/s]
11/13/2022 04:01:31 - INFO - utils -   加载后test77777777777777
11/13/2022 04:01:31 - INFO - __main__ -   加载成功test2222222222
11/13/2022 04:01:31 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 04:01:31 - INFO - __main__ -     Num examples = 65
11/13/2022 04:01:31 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/5 [00:00<?, ?it/s]Eval bleu for test set:  20%|██        | 1/5 [00:03<00:15,  3.84s/it]Eval bleu for test set:  40%|████      | 2/5 [00:07<00:11,  3.89s/it]Eval bleu for test set:  60%|██████    | 3/5 [00:11<00:07,  3.94s/it]Eval bleu for test set:  80%|████████  | 4/5 [00:16<00:04,  4.06s/it]Eval bleu for test set: 100%|██████████| 5/5 [00:17<00:00,  3.09s/it]Eval bleu for test set: 100%|██████████| 5/5 [00:17<00:00,  3.49s/it]
11/13/2022 04:01:51 - INFO - __main__ -   ***** Eval results *****
11/13/2022 04:01:51 - INFO - __main__ -     bleu = 56.73
11/13/2022 04:01:51 - INFO - __main__ -     codebleu = 70.179
11/13/2022 04:01:51 - INFO - __main__ -     em = 0.0
11/13/2022 04:01:51 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typeloop_exchange + whether_refactoringafter_refactoring :
11/13/2022 04:01:51 - INFO - __main__ -   [best-bleu] bleu-4: 56.73, em: 0.0000, codebleu: 70.1790

11/13/2022 04:01:51 - INFO - __main__ -   Finish and take 3h40m
11/13/2022 04:01:51 - INFO - __main__ -     ***** Testing *****
11/13/2022 04:01:51 - INFO - __main__ -     Batch size = 16
11/13/2022 04:01:51 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 04:01:51 - INFO - __main__ -   test11111111111
11/13/2022 04:01:51 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 04:01:51 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/reorder_condition/before_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/reorder_condition/before_refactoring/small/test.buggy-fixed.fixed
11/13/2022 04:01:51 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 04:01:51 - INFO - utils -   Read 1125 examples, avg src len: 37, avg trg len: 36, max src len: 93, max trg len: 129
11/13/2022 04:01:51 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/test_src_all.pt
11/13/2022 04:01:51 - INFO - utils -   加载前test666666666666666
ngram match: 0.5671009706452701, weighted ngram match: 0.6157319306085446, syntax_match: 0.7970936490850377, dataflow_match: 0.8272327964860908
  0%|          | 0/1125 [00:00<?, ?it/s] 50%|█████     | 564/1125 [00:00<00:00, 1434.93it/s] 75%|███████▌  | 846/1125 [00:00<00:00, 1082.43it/s]100%|██████████| 1125/1125 [00:00<00:00, 1513.18it/s]
11/13/2022 04:01:53 - INFO - utils -   加载后test77777777777777
11/13/2022 04:01:53 - INFO - __main__ -   加载成功test2222222222
11/13/2022 04:01:53 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 04:01:53 - INFO - __main__ -     Num examples = 1125
11/13/2022 04:01:53 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/71 [00:00<?, ?it/s]Eval bleu for test set:   1%|▏         | 1/71 [00:05<05:52,  5.04s/it]Eval bleu for test set:   3%|▎         | 2/71 [00:09<05:41,  4.95s/it]Eval bleu for test set:   4%|▍         | 3/71 [00:14<05:11,  4.58s/it]Eval bleu for test set:   6%|▌         | 4/71 [00:18<05:13,  4.68s/it]Eval bleu for test set:   7%|▋         | 5/71 [00:23<05:09,  4.69s/it]Eval bleu for test set:   8%|▊         | 6/71 [00:28<05:06,  4.72s/it]Eval bleu for test set:  10%|▉         | 7/71 [00:33<05:03,  4.75s/it]Eval bleu for test set:  11%|█▏        | 8/71 [00:38<05:02,  4.80s/it]Eval bleu for test set:  13%|█▎        | 9/71 [00:42<04:58,  4.82s/it]Eval bleu for test set:  14%|█▍        | 10/71 [00:47<04:40,  4.59s/it]Eval bleu for test set:  15%|█▌        | 11/71 [00:51<04:37,  4.62s/it]Eval bleu for test set:  17%|█▋        | 12/71 [00:55<04:19,  4.39s/it]Eval bleu for test set:  18%|█▊        | 13/71 [01:00<04:24,  4.55s/it]Eval bleu for test set:  20%|█▉        | 14/71 [01:05<04:25,  4.66s/it]Eval bleu for test set:  21%|██        | 15/71 [01:10<04:23,  4.71s/it]Eval bleu for test set:  23%|██▎       | 16/71 [01:15<04:22,  4.78s/it]Eval bleu for test set:  24%|██▍       | 17/71 [01:19<04:18,  4.78s/it]Eval bleu for test set:  25%|██▌       | 18/71 [01:24<04:11,  4.74s/it]Eval bleu for test set:  27%|██▋       | 19/71 [01:29<04:06,  4.75s/it]Eval bleu for test set:  28%|██▊       | 20/71 [01:33<03:58,  4.67s/it]Eval bleu for test set:  30%|██▉       | 21/71 [01:37<03:41,  4.42s/it]Eval bleu for test set:  31%|███       | 22/71 [01:42<03:42,  4.55s/it]Eval bleu for test set:  32%|███▏      | 23/71 [01:47<03:43,  4.65s/it]Eval bleu for test set:  34%|███▍      | 24/71 [01:52<03:41,  4.72s/it]Eval bleu for test set:  35%|███▌      | 25/71 [01:57<03:38,  4.75s/it]Eval bleu for test set:  37%|███▋      | 26/71 [02:02<03:35,  4.80s/it]Eval bleu for test set:  38%|███▊      | 27/71 [02:06<03:32,  4.84s/it]Eval bleu for test set:  39%|███▉      | 28/71 [02:11<03:27,  4.82s/it]Eval bleu for test set:  41%|████      | 29/71 [02:16<03:23,  4.84s/it]Eval bleu for test set:  42%|████▏     | 30/71 [02:21<03:18,  4.84s/it]Eval bleu for test set:  44%|████▎     | 31/71 [02:25<03:06,  4.66s/it]Eval bleu for test set:  45%|████▌     | 32/71 [02:30<03:04,  4.74s/it]Eval bleu for test set:  46%|████▋     | 33/71 [02:35<03:03,  4.82s/it]Eval bleu for test set:  48%|████▊     | 34/71 [02:40<02:59,  4.86s/it]Eval bleu for test set:  49%|████▉     | 35/71 [02:44<02:44,  4.58s/it]Eval bleu for test set:  51%|█████     | 36/71 [02:49<02:42,  4.65s/it]Eval bleu for test set:  52%|█████▏    | 37/71 [02:54<02:40,  4.71s/it]Eval bleu for test set:  54%|█████▎    | 38/71 [02:59<02:37,  4.77s/it]Eval bleu for test set:  55%|█████▍    | 39/71 [03:03<02:33,  4.78s/it]Eval bleu for test set:  56%|█████▋    | 40/71 [03:08<02:24,  4.66s/it]Eval bleu for test set:  58%|█████▊    | 41/71 [03:13<02:21,  4.71s/it]Eval bleu for test set:  59%|█████▉    | 42/71 [03:17<02:16,  4.72s/it]Eval bleu for test set:  61%|██████    | 43/71 [03:22<02:12,  4.72s/it]Eval bleu for test set:  62%|██████▏   | 44/71 [03:27<02:08,  4.77s/it]Eval bleu for test set:  63%|██████▎   | 45/71 [03:32<02:04,  4.78s/it]Eval bleu for test set:  65%|██████▍   | 46/71 [03:37<01:59,  4.80s/it]Eval bleu for test set:  66%|██████▌   | 47/71 [03:41<01:55,  4.81s/it]Eval bleu for test set:  68%|██████▊   | 48/71 [03:46<01:50,  4.81s/it]Eval bleu for test set:  69%|██████▉   | 49/71 [03:51<01:44,  4.77s/it]Eval bleu for test set:  70%|███████   | 50/71 [03:56<01:41,  4.81s/it]Eval bleu for test set:  72%|███████▏  | 51/71 [04:01<01:36,  4.81s/it]Eval bleu for test set:  73%|███████▎  | 52/71 [04:05<01:31,  4.80s/it]Eval bleu for test set:  75%|███████▍  | 53/71 [04:10<01:26,  4.81s/it]Eval bleu for test set:  76%|███████▌  | 54/71 [04:15<01:21,  4.82s/it]Eval bleu for test set:  77%|███████▋  | 55/71 [04:20<01:16,  4.80s/it]Eval bleu for test set:  79%|███████▉  | 56/71 [04:25<01:12,  4.80s/it]Eval bleu for test set:  80%|████████  | 57/71 [04:30<01:07,  4.82s/it]Eval bleu for test set:  82%|████████▏ | 58/71 [04:34<01:02,  4.82s/it]Eval bleu for test set:  83%|████████▎ | 59/71 [04:39<00:57,  4.78s/it]Eval bleu for test set:  85%|████████▍ | 60/71 [04:44<00:52,  4.79s/it]Eval bleu for test set:  86%|████████▌ | 61/71 [04:49<00:47,  4.76s/it]Eval bleu for test set:  87%|████████▋ | 62/71 [04:53<00:42,  4.77s/it]Eval bleu for test set:  89%|████████▊ | 63/71 [04:58<00:38,  4.79s/it]Eval bleu for test set:  90%|█████████ | 64/71 [05:03<00:33,  4.80s/it]Eval bleu for test set:  92%|█████████▏| 65/71 [05:08<00:28,  4.81s/it]Eval bleu for test set:  93%|█████████▎| 66/71 [05:13<00:24,  4.82s/it]Eval bleu for test set:  94%|█████████▍| 67/71 [05:17<00:19,  4.75s/it]Eval bleu for test set:  96%|█████████▌| 68/71 [05:22<00:14,  4.76s/it]Eval bleu for test set:  97%|█████████▋| 69/71 [05:27<00:09,  4.69s/it]Eval bleu for test set:  99%|█████████▊| 70/71 [05:31<00:04,  4.76s/it]Eval bleu for test set: 100%|██████████| 71/71 [05:34<00:00,  4.23s/it]Eval bleu for test set: 100%|██████████| 71/71 [05:35<00:00,  4.72s/it]
11/13/2022 04:08:16 - INFO - __main__ -   ***** Eval results *****
11/13/2022 04:08:16 - INFO - __main__ -     bleu = 79.2
11/13/2022 04:08:16 - INFO - __main__ -     codebleu = 79.7264
11/13/2022 04:08:16 - INFO - __main__ -     em = 20.0
11/13/2022 04:08:16 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typereorder_condition + whether_refactoringbefore_refactoring :
11/13/2022 04:08:16 - INFO - __main__ -   [best-bleu] bleu-4: 79.20, em: 20.0000, codebleu: 79.7264

11/13/2022 04:08:16 - INFO - __main__ -   Finish and take 3h46m
11/13/2022 04:08:16 - INFO - __main__ -     ***** Testing *****
11/13/2022 04:08:16 - INFO - __main__ -     Batch size = 16
11/13/2022 04:08:16 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 04:08:16 - INFO - __main__ -   test11111111111
11/13/2022 04:08:16 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/small/pytorch_model.bin
11/13/2022 04:08:16 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/reorder_condition/after_refactoring/small/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/reorder_condition/after_refactoring/small/test.buggy-fixed.fixed
11/13/2022 04:08:16 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 04:08:16 - INFO - utils -   Read 1125 examples, avg src len: 32, avg trg len: 32, max src len: 77, max trg len: 112
11/13/2022 04:08:16 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/test_src_all.pt
11/13/2022 04:08:16 - INFO - utils -   加载前test666666666666666
ngram match: 0.7920286563428237, weighted ngram match: 0.7947647628824925, syntax_match: 0.8039955604883463, dataflow_match: 0.7982653750844785
  0%|          | 0/1125 [00:00<?, ?it/s] 50%|█████     | 564/1125 [00:00<00:00, 1476.94it/s] 75%|███████▌  | 846/1125 [00:00<00:00, 1101.63it/s]100%|██████████| 1125/1125 [00:00<00:00, 1542.82it/s]
11/13/2022 04:08:18 - INFO - utils -   加载后test77777777777777
11/13/2022 04:08:18 - INFO - __main__ -   加载成功test2222222222
11/13/2022 04:08:18 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 04:08:18 - INFO - __main__ -     Num examples = 1125
11/13/2022 04:08:18 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/71 [00:00<?, ?it/s]Eval bleu for test set:   1%|▏         | 1/71 [00:05<05:51,  5.02s/it]Eval bleu for test set:   3%|▎         | 2/71 [00:09<05:39,  4.91s/it]Eval bleu for test set:   4%|▍         | 3/71 [00:13<04:49,  4.25s/it]Eval bleu for test set:   6%|▌         | 4/71 [00:18<05:00,  4.49s/it]Eval bleu for test set:   7%|▋         | 5/71 [00:22<05:00,  4.55s/it]Eval bleu for test set:   8%|▊         | 6/71 [00:27<05:00,  4.63s/it]Eval bleu for test set:  10%|▉         | 7/71 [00:32<04:59,  4.68s/it]Eval bleu for test set:  11%|█▏        | 8/71 [00:37<04:57,  4.73s/it]Eval bleu for test set:  13%|█▎        | 9/71 [00:42<04:56,  4.78s/it]Eval bleu for test set:  14%|█▍        | 10/71 [00:46<04:38,  4.57s/it]Eval bleu for test set:  15%|█▌        | 11/71 [00:50<04:36,  4.61s/it]Eval bleu for test set:  17%|█▋        | 12/71 [00:54<04:17,  4.36s/it]Eval bleu for test set:  18%|█▊        | 13/71 [00:59<04:23,  4.54s/it]Eval bleu for test set:  20%|█▉        | 14/71 [01:04<04:24,  4.64s/it]Eval bleu for test set:  21%|██        | 15/71 [01:09<04:22,  4.69s/it]Eval bleu for test set:  23%|██▎       | 16/71 [01:14<04:20,  4.73s/it]Eval bleu for test set:  24%|██▍       | 17/71 [01:18<04:16,  4.76s/it]Eval bleu for test set:  25%|██▌       | 18/71 [01:23<04:09,  4.71s/it]Eval bleu for test set:  27%|██▋       | 19/71 [01:28<04:04,  4.71s/it]Eval bleu for test set:  28%|██▊       | 20/71 [01:32<03:53,  4.59s/it]Eval bleu for test set:  30%|██▉       | 21/71 [01:36<03:37,  4.35s/it]Eval bleu for test set:  31%|███       | 22/71 [01:41<03:39,  4.49s/it]Eval bleu for test set:  32%|███▏      | 23/71 [01:46<03:41,  4.61s/it]Eval bleu for test set:  34%|███▍      | 24/71 [01:51<03:40,  4.70s/it]Eval bleu for test set:  35%|███▌      | 25/71 [01:55<03:37,  4.72s/it]Eval bleu for test set:  37%|███▋      | 26/71 [02:00<03:34,  4.77s/it]Eval bleu for test set:  38%|███▊      | 27/71 [02:05<03:30,  4.79s/it]Eval bleu for test set:  39%|███▉      | 28/71 [02:09<03:21,  4.69s/it]Eval bleu for test set:  41%|████      | 29/71 [02:14<03:19,  4.75s/it]Eval bleu for test set:  42%|████▏     | 30/71 [02:19<03:15,  4.77s/it]Eval bleu for test set:  44%|████▎     | 31/71 [02:23<03:03,  4.59s/it]Eval bleu for test set:  45%|████▌     | 32/71 [02:28<03:02,  4.68s/it]Eval bleu for test set:  46%|████▋     | 33/71 [02:33<03:00,  4.75s/it]Eval bleu for test set:  48%|████▊     | 34/71 [02:38<02:56,  4.78s/it]Eval bleu for test set:  49%|████▉     | 35/71 [02:42<02:41,  4.49s/it]Eval bleu for test set:  51%|█████     | 36/71 [02:47<02:39,  4.56s/it]Eval bleu for test set:  52%|█████▏    | 37/71 [02:51<02:37,  4.63s/it]Eval bleu for test set:  54%|█████▎    | 38/71 [02:56<02:35,  4.71s/it]Eval bleu for test set:  55%|█████▍    | 39/71 [03:01<02:31,  4.73s/it]Eval bleu for test set:  56%|█████▋    | 40/71 [03:05<02:22,  4.60s/it]Eval bleu for test set:  58%|█████▊    | 41/71 [03:09<02:11,  4.39s/it]Eval bleu for test set:  59%|█████▉    | 42/71 [03:14<02:10,  4.49s/it]Eval bleu for test set:  61%|██████    | 43/71 [03:19<02:07,  4.55s/it]Eval bleu for test set:  62%|██████▏   | 44/71 [03:23<02:05,  4.64s/it]Eval bleu for test set:  63%|██████▎   | 45/71 [03:28<02:01,  4.68s/it]Eval bleu for test set:  65%|██████▍   | 46/71 [03:33<01:57,  4.71s/it]Eval bleu for test set:  66%|██████▌   | 47/71 [03:38<01:53,  4.72s/it]Eval bleu for test set:  68%|██████▊   | 48/71 [03:42<01:48,  4.72s/it]Eval bleu for test set:  69%|██████▉   | 49/71 [03:47<01:40,  4.58s/it]Eval bleu for test set:  70%|███████   | 50/71 [03:52<01:37,  4.66s/it]Eval bleu for test set:  72%|███████▏  | 51/71 [03:56<01:33,  4.69s/it]Eval bleu for test set:  73%|███████▎  | 52/71 [04:01<01:29,  4.70s/it]Eval bleu for test set:  75%|███████▍  | 53/71 [04:06<01:25,  4.72s/it]Eval bleu for test set:  76%|███████▌  | 54/71 [04:11<01:20,  4.73s/it]Eval bleu for test set:  77%|███████▋  | 55/71 [04:15<01:15,  4.72s/it]Eval bleu for test set:  79%|███████▉  | 56/71 [04:20<01:11,  4.74s/it]Eval bleu for test set:  80%|████████  | 57/71 [04:25<01:06,  4.75s/it]Eval bleu for test set:  82%|████████▏ | 58/71 [04:30<01:01,  4.76s/it]Eval bleu for test set:  83%|████████▎ | 59/71 [04:34<00:56,  4.72s/it]Eval bleu for test set:  85%|████████▍ | 60/71 [04:39<00:51,  4.73s/it]Eval bleu for test set:  86%|████████▌ | 61/71 [04:44<00:47,  4.73s/it]Eval bleu for test set:  87%|████████▋ | 62/71 [04:49<00:42,  4.75s/it]Eval bleu for test set:  89%|████████▊ | 63/71 [04:53<00:38,  4.77s/it]Eval bleu for test set:  90%|█████████ | 64/71 [04:58<00:33,  4.77s/it]Eval bleu for test set:  92%|█████████▏| 65/71 [05:03<00:28,  4.78s/it]Eval bleu for test set:  93%|█████████▎| 66/71 [05:08<00:23,  4.78s/it]Eval bleu for test set:  94%|█████████▍| 67/71 [05:12<00:18,  4.56s/it]Eval bleu for test set:  96%|█████████▌| 68/71 [05:17<00:13,  4.63s/it]Eval bleu for test set:  97%|█████████▋| 69/71 [05:21<00:09,  4.57s/it]Eval bleu for test set:  99%|█████████▊| 70/71 [05:26<00:04,  4.62s/it]Eval bleu for test set: 100%|██████████| 71/71 [05:29<00:00,  4.13s/it]Eval bleu for test set: 100%|██████████| 71/71 [05:29<00:00,  4.64s/it]
11/13/2022 04:14:35 - INFO - __main__ -   ***** Eval results *****
11/13/2022 04:14:35 - INFO - __main__ -     bleu = 65.79
11/13/2022 04:14:35 - INFO - __main__ -     codebleu = 72.0817
11/13/2022 04:14:35 - INFO - __main__ -     em = 2.9333
11/13/2022 04:14:35 - INFO - __main__ -   model: codet5-base dataset: small refactoring_typereorder_condition + whether_refactoringafter_refactoring :
11/13/2022 04:14:35 - INFO - __main__ -   [best-bleu] bleu-4: 65.79, em: 2.9333, codebleu: 72.0817

11/13/2022 04:14:35 - INFO - __main__ -   Finish and take 3h53m
11/13/2022 04:14:35 - INFO - __main__ -     ***** Testing *****
11/13/2022 04:14:35 - INFO - __main__ -     Batch size = 16
11/13/2022 04:14:35 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 04:14:35 - INFO - __main__ -   test11111111111
11/13/2022 04:14:35 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 04:14:35 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/local_variable_renaming/before_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/local_variable_renaming/before_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 04:14:35 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 04:14:35 - INFO - utils -   Read 1099 examples, avg src len: 76, avg trg len: 75, max src len: 123, max trg len: 118
11/13/2022 04:14:35 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/test_src_all.pt
11/13/2022 04:14:35 - INFO - utils -   加载前test666666666666666
ngram match: 0.6578889735889856, weighted ngram match: 0.6646028858603916, syntax_match: 0.778848898049786, dataflow_match: 0.7819286598402161
  0%|          | 0/1099 [00:00<?, ?it/s] 50%|█████     | 550/1099 [00:00<00:00, 1047.87it/s] 75%|███████▌  | 825/1099 [00:01<00:00, 741.09it/s] 100%|██████████| 1099/1099 [00:01<00:00, 1048.33it/s]
11/13/2022 04:14:37 - INFO - utils -   加载后test77777777777777
11/13/2022 04:14:37 - INFO - __main__ -   加载成功test2222222222
11/13/2022 04:14:37 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 04:14:37 - INFO - __main__ -     Num examples = 1099
11/13/2022 04:14:37 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/69 [00:00<?, ?it/s]Eval bleu for test set:   1%|▏         | 1/69 [00:05<06:19,  5.58s/it]Eval bleu for test set:   3%|▎         | 2/69 [00:10<06:04,  5.43s/it]Eval bleu for test set:   4%|▍         | 3/69 [00:16<05:53,  5.36s/it]Eval bleu for test set:   6%|▌         | 4/69 [00:21<05:47,  5.35s/it]Eval bleu for test set:   7%|▋         | 5/69 [00:26<05:42,  5.36s/it]Eval bleu for test set:   9%|▊         | 6/69 [00:32<05:36,  5.35s/it]Eval bleu for test set:  10%|█         | 7/69 [00:37<05:29,  5.32s/it]Eval bleu for test set:  12%|█▏        | 8/69 [00:42<05:25,  5.33s/it]Eval bleu for test set:  13%|█▎        | 9/69 [00:48<05:18,  5.30s/it]Eval bleu for test set:  14%|█▍        | 10/69 [00:53<05:11,  5.29s/it]Eval bleu for test set:  16%|█▌        | 11/69 [00:58<05:07,  5.30s/it]Eval bleu for test set:  17%|█▋        | 12/69 [01:03<05:01,  5.29s/it]Eval bleu for test set:  19%|█▉        | 13/69 [01:09<04:55,  5.27s/it]Eval bleu for test set:  20%|██        | 14/69 [01:14<04:50,  5.27s/it]Eval bleu for test set:  22%|██▏       | 15/69 [01:19<04:44,  5.27s/it]Eval bleu for test set:  23%|██▎       | 16/69 [01:24<04:39,  5.27s/it]Eval bleu for test set:  25%|██▍       | 17/69 [01:30<04:33,  5.27s/it]Eval bleu for test set:  26%|██▌       | 18/69 [01:35<04:29,  5.28s/it]Eval bleu for test set:  28%|██▊       | 19/69 [01:40<04:24,  5.28s/it]Eval bleu for test set:  29%|██▉       | 20/69 [01:46<04:19,  5.29s/it]Eval bleu for test set:  30%|███       | 21/69 [01:51<04:13,  5.29s/it]Eval bleu for test set:  32%|███▏      | 22/69 [01:56<04:08,  5.29s/it]Eval bleu for test set:  33%|███▎      | 23/69 [02:01<04:01,  5.26s/it]Eval bleu for test set:  35%|███▍      | 24/69 [02:07<03:57,  5.27s/it]Eval bleu for test set:  36%|███▌      | 25/69 [02:12<03:52,  5.28s/it]Eval bleu for test set:  38%|███▊      | 26/69 [02:17<03:46,  5.26s/it]Eval bleu for test set:  39%|███▉      | 27/69 [02:22<03:41,  5.26s/it]Eval bleu for test set:  41%|████      | 28/69 [02:28<03:36,  5.28s/it]Eval bleu for test set:  42%|████▏     | 29/69 [02:33<03:31,  5.28s/it]Eval bleu for test set:  43%|████▎     | 30/69 [02:38<03:25,  5.26s/it]Eval bleu for test set:  45%|████▍     | 31/69 [02:44<03:20,  5.27s/it]Eval bleu for test set:  46%|████▋     | 32/69 [02:49<03:14,  5.26s/it]Eval bleu for test set:  48%|████▊     | 33/69 [02:54<03:09,  5.28s/it]Eval bleu for test set:  49%|████▉     | 34/69 [02:59<03:04,  5.28s/it]Eval bleu for test set:  51%|█████     | 35/69 [03:05<02:59,  5.28s/it]Eval bleu for test set:  52%|█████▏    | 36/69 [03:10<02:54,  5.29s/it]Eval bleu for test set:  54%|█████▎    | 37/69 [03:15<02:48,  5.28s/it]Eval bleu for test set:  55%|█████▌    | 38/69 [03:21<02:43,  5.28s/it]Eval bleu for test set:  57%|█████▋    | 39/69 [03:26<02:37,  5.26s/it]Eval bleu for test set:  58%|█████▊    | 40/69 [03:31<02:32,  5.27s/it]Eval bleu for test set:  59%|█████▉    | 41/69 [03:36<02:27,  5.27s/it]Eval bleu for test set:  61%|██████    | 42/69 [03:42<02:23,  5.33s/it]Eval bleu for test set:  62%|██████▏   | 43/69 [03:48<02:23,  5.52s/it]Eval bleu for test set:  64%|██████▍   | 44/69 [03:53<02:19,  5.58s/it]Eval bleu for test set:  65%|██████▌   | 45/69 [04:00<02:17,  5.71s/it]Eval bleu for test set:  67%|██████▋   | 46/69 [04:06<02:13,  5.80s/it]Eval bleu for test set:  68%|██████▊   | 47/69 [04:12<02:09,  5.87s/it]Eval bleu for test set:  70%|██████▉   | 48/69 [04:18<02:04,  5.93s/it]Eval bleu for test set:  71%|███████   | 49/69 [04:23<01:54,  5.73s/it]Eval bleu for test set:  72%|███████▏  | 50/69 [04:28<01:46,  5.60s/it]Eval bleu for test set:  74%|███████▍  | 51/69 [04:33<01:39,  5.51s/it]Eval bleu for test set:  75%|███████▌  | 52/69 [04:39<01:32,  5.45s/it]Eval bleu for test set:  77%|███████▋  | 53/69 [04:44<01:27,  5.44s/it]Eval bleu for test set:  78%|███████▊  | 54/69 [04:50<01:23,  5.57s/it]Eval bleu for test set:  80%|███████▉  | 55/69 [04:56<01:19,  5.71s/it]Eval bleu for test set:  81%|████████  | 56/69 [05:02<01:15,  5.81s/it]Eval bleu for test set:  83%|████████▎ | 57/69 [05:08<01:10,  5.87s/it]Eval bleu for test set:  84%|████████▍ | 58/69 [05:14<01:05,  5.91s/it]Eval bleu for test set:  86%|████████▌ | 59/69 [05:20<00:59,  5.94s/it]Eval bleu for test set:  87%|████████▋ | 60/69 [05:26<00:53,  5.97s/it]Eval bleu for test set:  88%|████████▊ | 61/69 [05:32<00:47,  5.96s/it]Eval bleu for test set:  90%|████████▉ | 62/69 [05:38<00:41,  5.96s/it]Eval bleu for test set:  91%|█████████▏| 63/69 [05:44<00:35,  5.96s/it]Eval bleu for test set:  93%|█████████▎| 64/69 [05:50<00:29,  5.97s/it]Eval bleu for test set:  94%|█████████▍| 65/69 [05:56<00:24,  6.00s/it]Eval bleu for test set:  96%|█████████▌| 66/69 [06:02<00:17,  6.00s/it]Eval bleu for test set:  97%|█████████▋| 67/69 [06:08<00:11,  5.99s/it]Eval bleu for test set:  99%|█████████▊| 68/69 [06:14<00:05,  6.00s/it]Eval bleu for test set: 100%|██████████| 69/69 [06:19<00:00,  5.68s/it]Eval bleu for test set: 100%|██████████| 69/69 [06:19<00:00,  5.50s/it]
11/13/2022 04:22:01 - INFO - __main__ -   ***** Eval results *****
11/13/2022 04:22:01 - INFO - __main__ -     bleu = 77.16
11/13/2022 04:22:01 - INFO - __main__ -     codebleu = 76.2624
11/13/2022 04:22:01 - INFO - __main__ -     em = 7.4613
11/13/2022 04:22:01 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typelocal_variable_renaming + whether_refactoringbefore_refactoring :
11/13/2022 04:22:01 - INFO - __main__ -   [best-bleu] bleu-4: 77.16, em: 7.4613, codebleu: 76.2624

11/13/2022 04:22:01 - INFO - __main__ -   Finish and take 4h0m
11/13/2022 04:22:01 - INFO - __main__ -     ***** Testing *****
11/13/2022 04:22:01 - INFO - __main__ -     Batch size = 16
11/13/2022 04:22:01 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 04:22:02 - INFO - __main__ -   test11111111111
11/13/2022 04:22:02 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 04:22:02 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/local_variable_renaming/after_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/local_variable_renaming/after_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 04:22:02 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 04:22:02 - INFO - utils -   Read 1099 examples, avg src len: 76, avg trg len: 75, max src len: 123, max trg len: 118
11/13/2022 04:22:02 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/test_src_all.pt
11/13/2022 04:22:02 - INFO - utils -   加载前test666666666666666
ngram match: 0.7716080711207829, weighted ngram match: 0.7833641023229126, syntax_match: 0.807954050996432, dataflow_match: 0.6875701144267444
  0%|          | 0/1099 [00:00<?, ?it/s] 50%|█████     | 550/1099 [00:00<00:00, 1077.36it/s] 75%|███████▌  | 825/1099 [00:01<00:00, 756.42it/s] 100%|██████████| 1099/1099 [00:01<00:00, 1071.17it/s]
11/13/2022 04:22:04 - INFO - utils -   加载后test77777777777777
11/13/2022 04:22:04 - INFO - __main__ -   加载成功test2222222222
11/13/2022 04:22:04 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 04:22:04 - INFO - __main__ -     Num examples = 1099
11/13/2022 04:22:04 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/69 [00:00<?, ?it/s]Eval bleu for test set:   1%|▏         | 1/69 [00:05<06:19,  5.59s/it]Eval bleu for test set:   3%|▎         | 2/69 [00:10<06:02,  5.40s/it]Eval bleu for test set:   4%|▍         | 3/69 [00:16<05:52,  5.33s/it]Eval bleu for test set:   6%|▌         | 4/69 [00:21<05:45,  5.32s/it]Eval bleu for test set:   7%|▋         | 5/69 [00:26<05:39,  5.31s/it]Eval bleu for test set:   9%|▊         | 6/69 [00:31<05:33,  5.30s/it]Eval bleu for test set:  10%|█         | 7/69 [00:37<05:27,  5.29s/it]Eval bleu for test set:  12%|█▏        | 8/69 [00:42<05:22,  5.29s/it]Eval bleu for test set:  13%|█▎        | 9/69 [00:47<05:15,  5.25s/it]Eval bleu for test set:  14%|█▍        | 10/69 [00:52<05:09,  5.25s/it]Eval bleu for test set:  16%|█▌        | 11/69 [00:58<05:15,  5.43s/it]Eval bleu for test set:  17%|█▋        | 12/69 [01:04<05:18,  5.59s/it]Eval bleu for test set:  19%|█▉        | 13/69 [01:10<05:17,  5.68s/it]Eval bleu for test set:  20%|██        | 14/69 [01:16<05:17,  5.77s/it]Eval bleu for test set:  22%|██▏       | 15/69 [01:22<05:14,  5.83s/it]Eval bleu for test set:  23%|██▎       | 16/69 [01:28<05:11,  5.87s/it]Eval bleu for test set:  25%|██▍       | 17/69 [01:34<05:06,  5.90s/it]Eval bleu for test set:  26%|██▌       | 18/69 [01:40<05:02,  5.92s/it]Eval bleu for test set:  28%|██▊       | 19/69 [01:46<04:56,  5.94s/it]Eval bleu for test set:  29%|██▉       | 20/69 [01:52<04:52,  5.96s/it]Eval bleu for test set:  30%|███       | 21/69 [01:58<04:46,  5.96s/it]Eval bleu for test set:  32%|███▏      | 22/69 [02:04<04:40,  5.97s/it]Eval bleu for test set:  33%|███▎      | 23/69 [02:10<04:33,  5.95s/it]Eval bleu for test set:  35%|███▍      | 24/69 [02:16<04:28,  5.96s/it]Eval bleu for test set:  36%|███▌      | 25/69 [02:22<04:23,  5.99s/it]Eval bleu for test set:  38%|███▊      | 26/69 [02:28<04:17,  5.98s/it]Eval bleu for test set:  39%|███▉      | 27/69 [02:34<04:11,  5.99s/it]Eval bleu for test set:  41%|████      | 28/69 [02:40<04:06,  6.00s/it]Eval bleu for test set:  42%|████▏     | 29/69 [02:46<03:59,  5.99s/it]Eval bleu for test set:  43%|████▎     | 30/69 [02:52<03:52,  5.97s/it]Eval bleu for test set:  45%|████▍     | 31/69 [02:58<03:47,  5.98s/it]Eval bleu for test set:  46%|████▋     | 32/69 [03:04<03:40,  5.97s/it]Eval bleu for test set:  48%|████▊     | 33/69 [03:10<03:35,  5.98s/it]Eval bleu for test set:  49%|████▉     | 34/69 [03:16<03:30,  6.01s/it]Eval bleu for test set:  51%|█████     | 35/69 [03:22<03:24,  6.01s/it]Eval bleu for test set:  52%|█████▏    | 36/69 [03:28<03:18,  6.02s/it]Eval bleu for test set:  54%|█████▎    | 37/69 [03:34<03:11,  5.99s/it]Eval bleu for test set:  55%|█████▌    | 38/69 [03:40<03:05,  5.99s/it]Eval bleu for test set:  57%|█████▋    | 39/69 [03:46<02:58,  5.96s/it]Eval bleu for test set:  58%|█████▊    | 40/69 [03:52<02:53,  5.97s/it]Eval bleu for test set:  59%|█████▉    | 41/69 [03:58<02:47,  5.98s/it]Eval bleu for test set:  61%|██████    | 42/69 [04:04<02:41,  5.98s/it]Eval bleu for test set:  62%|██████▏   | 43/69 [04:10<02:35,  5.98s/it]Eval bleu for test set:  64%|██████▍   | 44/69 [04:16<02:29,  5.98s/it]Eval bleu for test set:  65%|██████▌   | 45/69 [04:22<02:23,  5.99s/it]Eval bleu for test set:  67%|██████▋   | 46/69 [04:28<02:17,  5.98s/it]Eval bleu for test set:  68%|██████▊   | 47/69 [04:34<02:11,  5.99s/it]Eval bleu for test set:  70%|██████▉   | 48/69 [04:39<02:05,  5.96s/it]Eval bleu for test set:  71%|███████   | 49/69 [04:45<01:58,  5.93s/it]Eval bleu for test set:  72%|███████▏  | 50/69 [04:51<01:52,  5.93s/it]Eval bleu for test set:  74%|███████▍  | 51/69 [04:57<01:43,  5.74s/it]Eval bleu for test set:  75%|███████▌  | 52/69 [05:02<01:35,  5.61s/it]Eval bleu for test set:  77%|███████▋  | 53/69 [05:07<01:27,  5.49s/it]Eval bleu for test set:  78%|███████▊  | 54/69 [05:12<01:20,  5.40s/it]Eval bleu for test set:  80%|███████▉  | 55/69 [05:17<01:15,  5.36s/it]Eval bleu for test set:  81%|████████  | 56/69 [05:23<01:09,  5.33s/it]Eval bleu for test set:  83%|████████▎ | 57/69 [05:28<01:03,  5.32s/it]Eval bleu for test set:  84%|████████▍ | 58/69 [05:33<00:58,  5.30s/it]Eval bleu for test set:  86%|████████▌ | 59/69 [05:39<00:52,  5.29s/it]Eval bleu for test set:  87%|████████▋ | 60/69 [05:44<00:47,  5.29s/it]Eval bleu for test set:  88%|████████▊ | 61/69 [05:49<00:42,  5.27s/it]Eval bleu for test set:  90%|████████▉ | 62/69 [05:54<00:36,  5.26s/it]Eval bleu for test set:  91%|█████████▏| 63/69 [06:00<00:31,  5.27s/it]Eval bleu for test set:  93%|█████████▎| 64/69 [06:05<00:26,  5.27s/it]Eval bleu for test set:  94%|█████████▍| 65/69 [06:10<00:21,  5.28s/it]Eval bleu for test set:  96%|█████████▌| 66/69 [06:15<00:15,  5.29s/it]Eval bleu for test set:  97%|█████████▋| 67/69 [06:21<00:10,  5.29s/it]Eval bleu for test set:  99%|█████████▊| 68/69 [06:26<00:05,  5.29s/it]Eval bleu for test set: 100%|██████████| 69/69 [06:30<00:00,  4.95s/it]Eval bleu for test set: 100%|██████████| 69/69 [06:30<00:00,  5.66s/it]
11/13/2022 04:29:41 - INFO - __main__ -   ***** Eval results *****
11/13/2022 04:29:41 - INFO - __main__ -     bleu = 76.63
11/13/2022 04:29:41 - INFO - __main__ -     codebleu = 75.7784
11/13/2022 04:29:41 - INFO - __main__ -     em = 7.0064
11/13/2022 04:29:41 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typelocal_variable_renaming + whether_refactoringafter_refactoring :
11/13/2022 04:29:41 - INFO - __main__ -   [best-bleu] bleu-4: 76.63, em: 7.0064, codebleu: 75.7784

11/13/2022 04:29:41 - INFO - __main__ -   Finish and take 4h8m
11/13/2022 04:29:41 - INFO - __main__ -     ***** Testing *****
11/13/2022 04:29:41 - INFO - __main__ -     Batch size = 16
11/13/2022 04:29:41 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 04:29:41 - INFO - __main__ -   test11111111111
11/13/2022 04:29:41 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 04:29:41 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/method_renaming/before_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/method_renaming/before_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 04:29:41 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 04:29:41 - INFO - utils -   Read 6217 examples, avg src len: 74, avg trg len: 72, max src len: 292, max trg len: 233
11/13/2022 04:29:41 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/test_src_all.pt
11/13/2022 04:29:41 - INFO - utils -   加载前test666666666666666
ngram match: 0.766257041749126, weighted ngram match: 0.778814263800402, syntax_match: 0.8047239434658497, dataflow_match: 0.6813421111692975
  0%|          | 0/6217 [00:00<?, ?it/s] 50%|█████     | 3110/6217 [00:02<00:02, 1107.35it/s] 75%|███████▌  | 4665/6217 [00:05<00:01, 778.39it/s] 100%|██████████| 6217/6217 [00:05<00:00, 1102.74it/s]
11/13/2022 04:29:52 - INFO - utils -   加载后test77777777777777
11/13/2022 04:29:52 - INFO - __main__ -   加载成功test2222222222
11/13/2022 04:29:52 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 04:29:52 - INFO - __main__ -     Num examples = 6217
11/13/2022 04:29:52 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/389 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/389 [00:06<40:46,  6.30s/it]Eval bleu for test set:   1%|          | 2/389 [00:12<39:28,  6.12s/it]Eval bleu for test set:   1%|          | 3/389 [00:18<39:03,  6.07s/it]Eval bleu for test set:   1%|          | 4/389 [00:24<38:31,  6.00s/it]Eval bleu for test set:   1%|▏         | 5/389 [00:30<38:17,  5.98s/it]Eval bleu for test set:   2%|▏         | 6/389 [00:36<38:17,  6.00s/it]Eval bleu for test set:   2%|▏         | 7/389 [00:42<38:12,  6.00s/it]Eval bleu for test set:   2%|▏         | 8/389 [00:48<38:12,  6.02s/it]Eval bleu for test set:   2%|▏         | 9/389 [00:54<38:02,  6.01s/it]Eval bleu for test set:   3%|▎         | 10/389 [01:00<38:04,  6.03s/it]Eval bleu for test set:   3%|▎         | 11/389 [01:06<37:58,  6.03s/it]Eval bleu for test set:   3%|▎         | 12/389 [01:12<37:56,  6.04s/it]Eval bleu for test set:   3%|▎         | 13/389 [01:18<37:50,  6.04s/it]Eval bleu for test set:   4%|▎         | 14/389 [01:24<37:38,  6.02s/it]Eval bleu for test set:   4%|▍         | 15/389 [01:30<37:29,  6.02s/it]Eval bleu for test set:   4%|▍         | 16/389 [01:36<37:15,  5.99s/it]Eval bleu for test set:   4%|▍         | 17/389 [01:42<37:16,  6.01s/it]Eval bleu for test set:   5%|▍         | 18/389 [01:48<37:13,  6.02s/it]Eval bleu for test set:   5%|▍         | 19/389 [01:54<37:07,  6.02s/it]Eval bleu for test set:   5%|▌         | 20/389 [02:00<37:02,  6.02s/it]Eval bleu for test set:   5%|▌         | 21/389 [02:06<36:49,  6.00s/it]Eval bleu for test set:   6%|▌         | 22/389 [02:12<36:40,  6.00s/it]Eval bleu for test set:   6%|▌         | 23/389 [02:18<36:35,  6.00s/it]Eval bleu for test set:   6%|▌         | 24/389 [02:24<36:26,  5.99s/it]Eval bleu for test set:   6%|▋         | 25/389 [02:30<36:24,  6.00s/it]Eval bleu for test set:   7%|▋         | 26/389 [02:36<36:21,  6.01s/it]Eval bleu for test set:   7%|▋         | 27/389 [02:42<36:14,  6.01s/it]Eval bleu for test set:   7%|▋         | 28/389 [02:48<36:14,  6.02s/it]Eval bleu for test set:   7%|▋         | 29/389 [02:54<36:10,  6.03s/it]Eval bleu for test set:   8%|▊         | 30/389 [03:00<36:04,  6.03s/it]Eval bleu for test set:   8%|▊         | 31/389 [03:06<35:56,  6.02s/it]Eval bleu for test set:   8%|▊         | 32/389 [03:12<35:38,  5.99s/it]Eval bleu for test set:   8%|▊         | 33/389 [03:18<35:31,  5.99s/it]Eval bleu for test set:   9%|▊         | 34/389 [03:24<35:23,  5.98s/it]Eval bleu for test set:   9%|▉         | 35/389 [03:30<35:27,  6.01s/it]Eval bleu for test set:   9%|▉         | 36/389 [03:36<35:20,  6.01s/it]Eval bleu for test set:  10%|▉         | 37/389 [03:42<35:08,  5.99s/it]Eval bleu for test set:  10%|▉         | 38/389 [03:48<34:19,  5.87s/it]Eval bleu for test set:  10%|█         | 39/389 [03:53<33:08,  5.68s/it]Eval bleu for test set:  10%|█         | 40/389 [03:58<32:24,  5.57s/it]Eval bleu for test set:  11%|█         | 41/389 [04:03<31:53,  5.50s/it]Eval bleu for test set:  11%|█         | 42/389 [04:09<31:27,  5.44s/it]Eval bleu for test set:  11%|█         | 43/389 [04:14<31:07,  5.40s/it]Eval bleu for test set:  11%|█▏        | 44/389 [04:19<30:52,  5.37s/it]Eval bleu for test set:  12%|█▏        | 45/389 [04:25<30:45,  5.36s/it]Eval bleu for test set:  12%|█▏        | 46/389 [04:30<30:37,  5.36s/it]Eval bleu for test set:  12%|█▏        | 47/389 [04:35<30:26,  5.34s/it]Eval bleu for test set:  12%|█▏        | 48/389 [04:41<30:15,  5.33s/it]Eval bleu for test set:  13%|█▎        | 49/389 [04:46<30:03,  5.31s/it]Eval bleu for test set:  13%|█▎        | 50/389 [04:51<29:59,  5.31s/it]Eval bleu for test set:  13%|█▎        | 51/389 [04:57<29:53,  5.30s/it]Eval bleu for test set:  13%|█▎        | 52/389 [05:02<29:49,  5.31s/it]Eval bleu for test set:  14%|█▎        | 53/389 [05:07<29:43,  5.31s/it]Eval bleu for test set:  14%|█▍        | 54/389 [05:12<29:39,  5.31s/it]Eval bleu for test set:  14%|█▍        | 55/389 [05:18<29:33,  5.31s/it]Eval bleu for test set:  14%|█▍        | 56/389 [05:23<29:25,  5.30s/it]Eval bleu for test set:  15%|█▍        | 57/389 [05:28<29:19,  5.30s/it]Eval bleu for test set:  15%|█▍        | 58/389 [05:34<29:16,  5.31s/it]Eval bleu for test set:  15%|█▌        | 59/389 [05:39<29:10,  5.30s/it]Eval bleu for test set:  15%|█▌        | 60/389 [05:44<29:03,  5.30s/it]Eval bleu for test set:  16%|█▌        | 61/389 [05:50<28:55,  5.29s/it]Eval bleu for test set:  16%|█▌        | 62/389 [05:55<28:51,  5.30s/it]Eval bleu for test set:  16%|█▌        | 63/389 [06:00<28:43,  5.29s/it]Eval bleu for test set:  16%|█▋        | 64/389 [06:05<28:42,  5.30s/it]Eval bleu for test set:  17%|█▋        | 65/389 [06:11<28:38,  5.30s/it]Eval bleu for test set:  17%|█▋        | 66/389 [06:16<28:35,  5.31s/it]Eval bleu for test set:  17%|█▋        | 67/389 [06:21<28:25,  5.30s/it]Eval bleu for test set:  17%|█▋        | 68/389 [06:27<28:21,  5.30s/it]Eval bleu for test set:  18%|█▊        | 69/389 [06:32<28:16,  5.30s/it]Eval bleu for test set:  18%|█▊        | 70/389 [06:37<28:12,  5.31s/it]Eval bleu for test set:  18%|█▊        | 71/389 [06:43<28:04,  5.30s/it]Eval bleu for test set:  19%|█▊        | 72/389 [06:48<27:56,  5.29s/it]Eval bleu for test set:  19%|█▉        | 73/389 [06:53<27:53,  5.30s/it]Eval bleu for test set:  19%|█▉        | 74/389 [06:58<27:45,  5.29s/it]Eval bleu for test set:  19%|█▉        | 75/389 [07:04<27:41,  5.29s/it]Eval bleu for test set:  20%|█▉        | 76/389 [07:09<27:31,  5.28s/it]Eval bleu for test set:  20%|█▉        | 77/389 [07:14<27:25,  5.27s/it]Eval bleu for test set:  20%|██        | 78/389 [07:19<27:21,  5.28s/it]Eval bleu for test set:  20%|██        | 79/389 [07:25<27:18,  5.29s/it]Eval bleu for test set:  21%|██        | 80/389 [07:30<27:17,  5.30s/it]Eval bleu for test set:  21%|██        | 81/389 [07:35<27:13,  5.30s/it]Eval bleu for test set:  21%|██        | 82/389 [07:41<27:09,  5.31s/it]Eval bleu for test set:  21%|██▏       | 83/389 [07:46<27:02,  5.30s/it]Eval bleu for test set:  22%|██▏       | 84/389 [07:51<26:57,  5.30s/it]Eval bleu for test set:  22%|██▏       | 85/389 [07:57<26:52,  5.30s/it]Eval bleu for test set:  22%|██▏       | 86/389 [08:02<26:46,  5.30s/it]Eval bleu for test set:  22%|██▏       | 87/389 [08:07<26:41,  5.30s/it]Eval bleu for test set:  23%|██▎       | 88/389 [08:13<26:33,  5.29s/it]Eval bleu for test set:  23%|██▎       | 89/389 [08:19<27:35,  5.52s/it]Eval bleu for test set:  23%|██▎       | 90/389 [08:25<28:16,  5.67s/it]Eval bleu for test set:  23%|██▎       | 91/389 [08:31<28:38,  5.77s/it]Eval bleu for test set:  24%|██▎       | 92/389 [08:37<28:59,  5.86s/it]Eval bleu for test set:  24%|██▍       | 93/389 [08:43<29:02,  5.89s/it]Eval bleu for test set:  24%|██▍       | 94/389 [08:49<29:12,  5.94s/it]Eval bleu for test set:  24%|██▍       | 95/389 [08:55<29:04,  5.93s/it]Eval bleu for test set:  25%|██▍       | 96/389 [09:01<28:55,  5.92s/it]Eval bleu for test set:  25%|██▍       | 97/389 [09:06<27:53,  5.73s/it]Eval bleu for test set:  25%|██▌       | 98/389 [09:11<27:06,  5.59s/it]Eval bleu for test set:  25%|██▌       | 99/389 [09:16<26:33,  5.49s/it]Eval bleu for test set:  26%|██▌       | 100/389 [09:22<26:04,  5.41s/it]Eval bleu for test set:  26%|██▌       | 101/389 [09:27<25:47,  5.37s/it]Eval bleu for test set:  26%|██▌       | 102/389 [09:32<25:34,  5.35s/it]Eval bleu for test set:  26%|██▋       | 103/389 [09:37<25:19,  5.31s/it]Eval bleu for test set:  27%|██▋       | 104/389 [09:43<25:14,  5.31s/it]Eval bleu for test set:  27%|██▋       | 105/389 [09:48<25:01,  5.29s/it]Eval bleu for test set:  27%|██▋       | 106/389 [09:53<24:54,  5.28s/it]Eval bleu for test set:  28%|██▊       | 107/389 [09:58<24:49,  5.28s/it]Eval bleu for test set:  28%|██▊       | 108/389 [10:04<24:42,  5.28s/it]Eval bleu for test set:  28%|██▊       | 109/389 [10:09<24:36,  5.27s/it]Eval bleu for test set:  28%|██▊       | 110/389 [10:14<24:25,  5.25s/it]Eval bleu for test set:  29%|██▊       | 111/389 [10:19<24:20,  5.25s/it]Eval bleu for test set:  29%|██▉       | 112/389 [10:25<24:17,  5.26s/it]Eval bleu for test set:  29%|██▉       | 113/389 [10:30<24:13,  5.27s/it]Eval bleu for test set:  29%|██▉       | 114/389 [10:35<24:09,  5.27s/it]Eval bleu for test set:  30%|██▉       | 115/389 [10:41<24:20,  5.33s/it]Eval bleu for test set:  30%|██▉       | 116/389 [10:47<25:01,  5.50s/it]Eval bleu for test set:  30%|███       | 117/389 [10:53<25:35,  5.65s/it]Eval bleu for test set:  30%|███       | 118/389 [10:59<25:57,  5.75s/it]Eval bleu for test set:  31%|███       | 119/389 [11:05<26:12,  5.82s/it]Eval bleu for test set:  31%|███       | 120/389 [11:11<26:16,  5.86s/it]Eval bleu for test set:  31%|███       | 121/389 [11:16<26:17,  5.89s/it]Eval bleu for test set:  31%|███▏      | 122/389 [11:22<26:15,  5.90s/it]Eval bleu for test set:  32%|███▏      | 123/389 [11:28<26:17,  5.93s/it]Eval bleu for test set:  32%|███▏      | 124/389 [11:34<26:14,  5.94s/it]Eval bleu for test set:  32%|███▏      | 125/389 [11:40<26:08,  5.94s/it]Eval bleu for test set:  32%|███▏      | 126/389 [11:46<26:01,  5.94s/it]Eval bleu for test set:  33%|███▎      | 127/389 [11:52<25:58,  5.95s/it]Eval bleu for test set:  33%|███▎      | 128/389 [11:58<25:55,  5.96s/it]Eval bleu for test set:  33%|███▎      | 129/389 [12:04<25:45,  5.94s/it]Eval bleu for test set:  33%|███▎      | 130/389 [12:10<25:37,  5.94s/it]Eval bleu for test set:  34%|███▎      | 131/389 [12:16<25:31,  5.94s/it]Eval bleu for test set:  34%|███▍      | 132/389 [12:22<25:26,  5.94s/it]Eval bleu for test set:  34%|███▍      | 133/389 [12:28<25:22,  5.95s/it]Eval bleu for test set:  34%|███▍      | 134/389 [12:34<25:14,  5.94s/it]Eval bleu for test set:  35%|███▍      | 135/389 [12:40<25:08,  5.94s/it]Eval bleu for test set:  35%|███▍      | 136/389 [12:46<24:55,  5.91s/it]Eval bleu for test set:  35%|███▌      | 137/389 [12:51<24:04,  5.73s/it]Eval bleu for test set:  35%|███▌      | 138/389 [12:56<23:23,  5.59s/it]Eval bleu for test set:  36%|███▌      | 139/389 [13:01<22:56,  5.51s/it]Eval bleu for test set:  36%|███▌      | 140/389 [13:07<22:37,  5.45s/it]Eval bleu for test set:  36%|███▌      | 141/389 [13:12<22:25,  5.43s/it]Eval bleu for test set:  37%|███▋      | 142/389 [13:17<22:12,  5.40s/it]Eval bleu for test set:  37%|███▋      | 143/389 [13:23<21:55,  5.35s/it]Eval bleu for test set:  37%|███▋      | 144/389 [13:28<21:41,  5.31s/it]Eval bleu for test set:  37%|███▋      | 145/389 [13:33<21:35,  5.31s/it]Eval bleu for test set:  38%|███▊      | 146/389 [13:39<21:28,  5.30s/it]Eval bleu for test set:  38%|███▊      | 147/389 [13:44<21:19,  5.29s/it]Eval bleu for test set:  38%|███▊      | 148/389 [13:49<21:13,  5.28s/it]Eval bleu for test set:  38%|███▊      | 149/389 [13:54<21:04,  5.27s/it]Eval bleu for test set:  39%|███▊      | 150/389 [14:00<21:00,  5.27s/it]Eval bleu for test set:  39%|███▉      | 151/389 [14:05<20:56,  5.28s/it]Eval bleu for test set:  39%|███▉      | 152/389 [14:10<20:50,  5.27s/it]Eval bleu for test set:  39%|███▉      | 153/389 [14:15<20:41,  5.26s/it]Eval bleu for test set:  40%|███▉      | 154/389 [14:21<20:38,  5.27s/it]Eval bleu for test set:  40%|███▉      | 155/389 [14:26<20:34,  5.28s/it]Eval bleu for test set:  40%|████      | 156/389 [14:31<20:31,  5.28s/it]Eval bleu for test set:  40%|████      | 157/389 [14:37<21:17,  5.51s/it]Eval bleu for test set:  41%|████      | 158/389 [14:43<21:45,  5.65s/it]Eval bleu for test set:  41%|████      | 159/389 [14:49<22:02,  5.75s/it]Eval bleu for test set:  41%|████      | 160/389 [14:55<21:26,  5.62s/it]Eval bleu for test set:  41%|████▏     | 161/389 [15:00<20:58,  5.52s/it]Eval bleu for test set:  42%|████▏     | 162/389 [15:05<20:40,  5.47s/it]Eval bleu for test set:  42%|████▏     | 163/389 [15:10<20:23,  5.41s/it]Eval bleu for test set:  42%|████▏     | 164/389 [15:16<20:10,  5.38s/it]Eval bleu for test set:  42%|████▏     | 165/389 [15:21<19:55,  5.34s/it]Eval bleu for test set:  43%|████▎     | 166/389 [15:26<19:46,  5.32s/it]Eval bleu for test set:  43%|████▎     | 167/389 [15:32<19:36,  5.30s/it]Eval bleu for test set:  43%|████▎     | 168/389 [15:37<19:32,  5.31s/it]Eval bleu for test set:  43%|████▎     | 169/389 [15:42<19:27,  5.31s/it]Eval bleu for test set:  44%|████▎     | 170/389 [15:47<19:20,  5.30s/it]Eval bleu for test set:  44%|████▍     | 171/389 [15:53<19:15,  5.30s/it]Eval bleu for test set:  44%|████▍     | 172/389 [15:58<19:07,  5.29s/it]Eval bleu for test set:  44%|████▍     | 173/389 [16:03<19:04,  5.30s/it]Eval bleu for test set:  45%|████▍     | 174/389 [16:09<18:56,  5.29s/it]Eval bleu for test set:  45%|████▍     | 175/389 [16:14<18:49,  5.28s/it]Eval bleu for test set:  45%|████▌     | 176/389 [16:20<19:29,  5.49s/it]Eval bleu for test set:  46%|████▌     | 177/389 [16:26<19:54,  5.63s/it]Eval bleu for test set:  46%|████▌     | 178/389 [16:32<20:12,  5.74s/it]Eval bleu for test set:  46%|████▌     | 179/389 [16:38<20:21,  5.82s/it]Eval bleu for test set:  46%|████▋     | 180/389 [16:44<20:29,  5.88s/it]Eval bleu for test set:  47%|████▋     | 181/389 [16:49<19:53,  5.74s/it]Eval bleu for test set:  47%|████▋     | 182/389 [16:55<19:19,  5.60s/it]Eval bleu for test set:  47%|████▋     | 183/389 [17:00<18:53,  5.50s/it]Eval bleu for test set:  47%|████▋     | 184/389 [17:05<18:33,  5.43s/it]Eval bleu for test set:  48%|████▊     | 185/389 [17:10<18:15,  5.37s/it]Eval bleu for test set:  48%|████▊     | 186/389 [17:16<18:02,  5.33s/it]Eval bleu for test set:  48%|████▊     | 187/389 [17:21<17:54,  5.32s/it]Eval bleu for test set:  48%|████▊     | 188/389 [17:26<17:43,  5.29s/it]Eval bleu for test set:  49%|████▊     | 189/389 [17:31<17:32,  5.26s/it]Eval bleu for test set:  49%|████▉     | 190/389 [17:37<17:28,  5.27s/it]Eval bleu for test set:  49%|████▉     | 191/389 [17:42<17:22,  5.27s/it]Eval bleu for test set:  49%|████▉     | 192/389 [17:47<17:18,  5.27s/it]Eval bleu for test set:  50%|████▉     | 193/389 [17:52<17:12,  5.27s/it]Eval bleu for test set:  50%|████▉     | 194/389 [17:58<17:08,  5.28s/it]Eval bleu for test set:  50%|█████     | 195/389 [18:03<17:00,  5.26s/it]Eval bleu for test set:  50%|█████     | 196/389 [18:08<16:56,  5.27s/it]Eval bleu for test set:  51%|█████     | 197/389 [18:13<16:49,  5.26s/it]Eval bleu for test set:  51%|█████     | 198/389 [18:19<16:45,  5.26s/it]Eval bleu for test set:  51%|█████     | 199/389 [18:24<16:39,  5.26s/it]Eval bleu for test set:  51%|█████▏    | 200/389 [18:29<16:35,  5.27s/it]Eval bleu for test set:  52%|█████▏    | 201/389 [18:34<16:31,  5.27s/it]Eval bleu for test set:  52%|█████▏    | 202/389 [18:40<16:24,  5.27s/it]Eval bleu for test set:  52%|█████▏    | 203/389 [18:45<16:17,  5.26s/it]Eval bleu for test set:  52%|█████▏    | 204/389 [18:50<16:13,  5.26s/it]Eval bleu for test set:  53%|█████▎    | 205/389 [18:56<16:08,  5.27s/it]Eval bleu for test set:  53%|█████▎    | 206/389 [19:01<16:04,  5.27s/it]Eval bleu for test set:  53%|█████▎    | 207/389 [19:06<16:00,  5.28s/it]Eval bleu for test set:  53%|█████▎    | 208/389 [19:11<15:55,  5.28s/it]Eval bleu for test set:  54%|█████▎    | 209/389 [19:17<15:50,  5.28s/it]Eval bleu for test set:  54%|█████▍    | 210/389 [19:22<15:44,  5.28s/it]Eval bleu for test set:  54%|█████▍    | 211/389 [19:27<15:38,  5.27s/it]Eval bleu for test set:  54%|█████▍    | 212/389 [19:32<15:33,  5.28s/it]Eval bleu for test set:  55%|█████▍    | 213/389 [19:38<15:29,  5.28s/it]Eval bleu for test set:  55%|█████▌    | 214/389 [19:43<15:25,  5.29s/it]Eval bleu for test set:  55%|█████▌    | 215/389 [19:48<15:16,  5.27s/it]Eval bleu for test set:  56%|█████▌    | 216/389 [19:54<15:08,  5.25s/it]Eval bleu for test set:  56%|█████▌    | 217/389 [19:59<15:04,  5.26s/it]Eval bleu for test set:  56%|█████▌    | 218/389 [20:04<15:00,  5.27s/it]Eval bleu for test set:  56%|█████▋    | 219/389 [20:09<14:56,  5.27s/it]Eval bleu for test set:  57%|█████▋    | 220/389 [20:15<14:51,  5.27s/it]Eval bleu for test set:  57%|█████▋    | 221/389 [20:20<14:43,  5.26s/it]Eval bleu for test set:  57%|█████▋    | 222/389 [20:25<14:38,  5.26s/it]Eval bleu for test set:  57%|█████▋    | 223/389 [20:30<14:34,  5.27s/it]Eval bleu for test set:  58%|█████▊    | 224/389 [20:36<14:30,  5.28s/it]Eval bleu for test set:  58%|█████▊    | 225/389 [20:41<14:25,  5.28s/it]Eval bleu for test set:  58%|█████▊    | 226/389 [20:46<14:18,  5.27s/it]Eval bleu for test set:  58%|█████▊    | 227/389 [20:52<14:13,  5.27s/it]Eval bleu for test set:  59%|█████▊    | 228/389 [20:57<14:09,  5.27s/it]Eval bleu for test set:  59%|█████▉    | 229/389 [21:02<14:02,  5.27s/it]Eval bleu for test set:  59%|█████▉    | 230/389 [21:07<13:53,  5.24s/it]Eval bleu for test set:  59%|█████▉    | 231/389 [21:13<13:50,  5.25s/it]Eval bleu for test set:  60%|█████▉    | 232/389 [21:18<13:46,  5.26s/it]Eval bleu for test set:  60%|█████▉    | 233/389 [21:23<13:40,  5.26s/it]Eval bleu for test set:  60%|██████    | 234/389 [21:28<13:36,  5.26s/it]Eval bleu for test set:  60%|██████    | 235/389 [21:34<13:31,  5.27s/it]Eval bleu for test set:  61%|██████    | 236/389 [21:39<13:26,  5.27s/it]Eval bleu for test set:  61%|██████    | 237/389 [21:44<13:20,  5.27s/it]Eval bleu for test set:  61%|██████    | 238/389 [21:49<13:15,  5.27s/it]Eval bleu for test set:  61%|██████▏   | 239/389 [21:55<13:08,  5.25s/it]Eval bleu for test set:  62%|██████▏   | 240/389 [22:00<13:04,  5.26s/it]Eval bleu for test set:  62%|██████▏   | 241/389 [22:05<12:58,  5.26s/it]Eval bleu for test set:  62%|██████▏   | 242/389 [22:10<12:53,  5.26s/it]Eval bleu for test set:  62%|██████▏   | 243/389 [22:16<12:48,  5.26s/it]Eval bleu for test set:  63%|██████▎   | 244/389 [22:21<12:44,  5.27s/it]Eval bleu for test set:  63%|██████▎   | 245/389 [22:26<12:40,  5.28s/it]Eval bleu for test set:  63%|██████▎   | 246/389 [22:32<12:34,  5.28s/it]Eval bleu for test set:  63%|██████▎   | 247/389 [22:37<12:24,  5.24s/it]Eval bleu for test set:  64%|██████▍   | 248/389 [22:42<12:21,  5.26s/it]Eval bleu for test set:  64%|██████▍   | 249/389 [22:47<12:17,  5.26s/it]Eval bleu for test set:  64%|██████▍   | 250/389 [22:53<12:13,  5.27s/it]Eval bleu for test set:  65%|██████▍   | 251/389 [22:58<12:07,  5.27s/it]Eval bleu for test set:  65%|██████▍   | 252/389 [23:03<12:00,  5.26s/it]Eval bleu for test set:  65%|██████▌   | 253/389 [23:08<11:53,  5.25s/it]Eval bleu for test set:  65%|██████▌   | 254/389 [23:14<11:49,  5.26s/it]Eval bleu for test set:  66%|██████▌   | 255/389 [23:19<11:43,  5.25s/it]Eval bleu for test set:  66%|██████▌   | 256/389 [23:24<11:40,  5.27s/it]Eval bleu for test set:  66%|██████▌   | 257/389 [23:29<11:32,  5.25s/it]Eval bleu for test set:  66%|██████▋   | 258/389 [23:35<11:28,  5.26s/it]Eval bleu for test set:  67%|██████▋   | 259/389 [23:40<11:23,  5.26s/it]Eval bleu for test set:  67%|██████▋   | 260/389 [23:45<11:19,  5.27s/it]Eval bleu for test set:  67%|██████▋   | 261/389 [23:50<11:14,  5.27s/it]Eval bleu for test set:  67%|██████▋   | 262/389 [23:56<11:09,  5.27s/it]Eval bleu for test set:  68%|██████▊   | 263/389 [24:01<11:05,  5.28s/it]Eval bleu for test set:  68%|██████▊   | 264/389 [24:06<10:59,  5.27s/it]Eval bleu for test set:  68%|██████▊   | 265/389 [24:12<10:54,  5.27s/it]Eval bleu for test set:  68%|██████▊   | 266/389 [24:17<10:48,  5.28s/it]Eval bleu for test set:  69%|██████▊   | 267/389 [24:22<10:44,  5.28s/it]Eval bleu for test set:  69%|██████▉   | 268/389 [24:27<10:39,  5.29s/it]Eval bleu for test set:  69%|██████▉   | 269/389 [24:33<10:34,  5.28s/it]Eval bleu for test set:  69%|██████▉   | 270/389 [24:38<10:28,  5.28s/it]Eval bleu for test set:  70%|██████▉   | 271/389 [24:43<10:21,  5.27s/it]Eval bleu for test set:  70%|██████▉   | 272/389 [24:48<10:15,  5.26s/it]Eval bleu for test set:  70%|███████   | 273/389 [24:54<10:11,  5.27s/it]Eval bleu for test set:  70%|███████   | 274/389 [24:59<10:06,  5.28s/it]Eval bleu for test set:  71%|███████   | 275/389 [25:04<10:01,  5.28s/it]Eval bleu for test set:  71%|███████   | 276/389 [25:10<09:56,  5.28s/it]Eval bleu for test set:  71%|███████   | 277/389 [25:15<09:49,  5.26s/it]Eval bleu for test set:  71%|███████▏  | 278/389 [25:20<09:44,  5.26s/it]Eval bleu for test set:  72%|███████▏  | 279/389 [25:25<09:40,  5.28s/it]Eval bleu for test set:  72%|███████▏  | 280/389 [25:31<09:34,  5.27s/it]Eval bleu for test set:  72%|███████▏  | 281/389 [25:36<09:29,  5.27s/it]Eval bleu for test set:  72%|███████▏  | 282/389 [25:41<09:24,  5.27s/it]Eval bleu for test set:  73%|███████▎  | 283/389 [25:46<09:19,  5.28s/it]Eval bleu for test set:  73%|███████▎  | 284/389 [25:52<09:12,  5.27s/it]Eval bleu for test set:  73%|███████▎  | 285/389 [25:57<09:08,  5.28s/it]Eval bleu for test set:  74%|███████▎  | 286/389 [26:02<09:03,  5.28s/it]Eval bleu for test set:  74%|███████▍  | 287/389 [26:08<08:57,  5.27s/it]Eval bleu for test set:  74%|███████▍  | 288/389 [26:13<08:53,  5.28s/it]Eval bleu for test set:  74%|███████▍  | 289/389 [26:18<08:47,  5.28s/it]Eval bleu for test set:  75%|███████▍  | 290/389 [26:23<08:42,  5.28s/it]Eval bleu for test set:  75%|███████▍  | 291/389 [26:29<08:36,  5.27s/it]Eval bleu for test set:  75%|███████▌  | 292/389 [26:34<08:30,  5.27s/it]Eval bleu for test set:  75%|███████▌  | 293/389 [26:39<08:26,  5.27s/it]Eval bleu for test set:  76%|███████▌  | 294/389 [26:44<08:20,  5.27s/it]Eval bleu for test set:  76%|███████▌  | 295/389 [26:50<08:14,  5.26s/it]Eval bleu for test set:  76%|███████▌  | 296/389 [26:55<08:08,  5.26s/it]Eval bleu for test set:  76%|███████▋  | 297/389 [27:00<08:02,  5.24s/it]Eval bleu for test set:  77%|███████▋  | 298/389 [27:05<07:58,  5.26s/it]Eval bleu for test set:  77%|███████▋  | 299/389 [27:11<07:51,  5.24s/it]Eval bleu for test set:  77%|███████▋  | 300/389 [27:16<07:46,  5.24s/it]Eval bleu for test set:  77%|███████▋  | 301/389 [27:21<07:42,  5.25s/it]Eval bleu for test set:  78%|███████▊  | 302/389 [27:26<07:38,  5.27s/it]Eval bleu for test set:  78%|███████▊  | 303/389 [27:32<07:32,  5.26s/it]Eval bleu for test set:  78%|███████▊  | 304/389 [27:37<07:28,  5.27s/it]Eval bleu for test set:  78%|███████▊  | 305/389 [27:42<07:23,  5.28s/it]Eval bleu for test set:  79%|███████▊  | 306/389 [27:48<07:17,  5.27s/it]Eval bleu for test set:  79%|███████▉  | 307/389 [27:53<07:11,  5.27s/it]Eval bleu for test set:  79%|███████▉  | 308/389 [27:58<07:07,  5.27s/it]Eval bleu for test set:  79%|███████▉  | 309/389 [28:03<07:02,  5.28s/it]Eval bleu for test set:  80%|███████▉  | 310/389 [28:09<06:55,  5.26s/it]Eval bleu for test set:  80%|███████▉  | 311/389 [28:14<06:50,  5.26s/it]Eval bleu for test set:  80%|████████  | 312/389 [28:19<06:44,  5.25s/it]Eval bleu for test set:  80%|████████  | 313/389 [28:24<06:39,  5.26s/it]Eval bleu for test set:  81%|████████  | 314/389 [28:30<06:34,  5.26s/it]Eval bleu for test set:  81%|████████  | 315/389 [28:35<06:30,  5.27s/it]Eval bleu for test set:  81%|████████  | 316/389 [28:40<06:24,  5.26s/it]Eval bleu for test set:  81%|████████▏ | 317/389 [28:45<06:18,  5.26s/it]Eval bleu for test set:  82%|████████▏ | 318/389 [28:51<06:13,  5.26s/it]Eval bleu for test set:  82%|████████▏ | 319/389 [28:56<06:08,  5.26s/it]Eval bleu for test set:  82%|████████▏ | 320/389 [29:01<06:03,  5.27s/it]Eval bleu for test set:  83%|████████▎ | 321/389 [29:06<05:57,  5.25s/it]Eval bleu for test set:  83%|████████▎ | 322/389 [29:12<05:50,  5.23s/it]Eval bleu for test set:  83%|████████▎ | 323/389 [29:17<05:46,  5.25s/it]Eval bleu for test set:  83%|████████▎ | 324/389 [29:22<05:41,  5.25s/it]Eval bleu for test set:  84%|████████▎ | 325/389 [29:27<05:36,  5.26s/it]Eval bleu for test set:  84%|████████▍ | 326/389 [29:33<05:31,  5.26s/it]Eval bleu for test set:  84%|████████▍ | 327/389 [29:38<05:26,  5.27s/it]Eval bleu for test set:  84%|████████▍ | 328/389 [29:43<05:20,  5.26s/it]Eval bleu for test set:  85%|████████▍ | 329/389 [29:49<05:15,  5.26s/it]Eval bleu for test set:  85%|████████▍ | 330/389 [29:54<05:10,  5.27s/it]Eval bleu for test set:  85%|████████▌ | 331/389 [29:59<05:05,  5.27s/it]Eval bleu for test set:  85%|████████▌ | 332/389 [30:04<05:00,  5.27s/it]Eval bleu for test set:  86%|████████▌ | 333/389 [30:10<04:55,  5.28s/it]Eval bleu for test set:  86%|████████▌ | 334/389 [30:15<04:50,  5.28s/it]Eval bleu for test set:  86%|████████▌ | 335/389 [30:20<04:45,  5.29s/it]Eval bleu for test set:  86%|████████▋ | 336/389 [30:26<04:39,  5.28s/it]Eval bleu for test set:  87%|████████▋ | 337/389 [30:31<04:34,  5.27s/it]Eval bleu for test set:  87%|████████▋ | 338/389 [30:36<04:28,  5.26s/it]Eval bleu for test set:  87%|████████▋ | 339/389 [30:41<04:22,  5.26s/it]Eval bleu for test set:  87%|████████▋ | 340/389 [30:47<04:17,  5.26s/it]Eval bleu for test set:  88%|████████▊ | 341/389 [30:52<04:12,  5.26s/it]Eval bleu for test set:  88%|████████▊ | 342/389 [30:57<04:07,  5.27s/it]Eval bleu for test set:  88%|████████▊ | 343/389 [31:02<04:02,  5.27s/it]Eval bleu for test set:  88%|████████▊ | 344/389 [31:08<03:55,  5.24s/it]Eval bleu for test set:  89%|████████▊ | 345/389 [31:13<03:49,  5.22s/it]Eval bleu for test set:  89%|████████▉ | 346/389 [31:18<03:44,  5.23s/it]Eval bleu for test set:  89%|████████▉ | 347/389 [31:23<03:38,  5.21s/it]Eval bleu for test set:  89%|████████▉ | 348/389 [31:28<03:33,  5.21s/it]Eval bleu for test set:  90%|████████▉ | 349/389 [31:34<03:28,  5.22s/it]Eval bleu for test set:  90%|████████▉ | 350/389 [31:39<03:24,  5.23s/it]Eval bleu for test set:  90%|█████████ | 351/389 [31:44<03:18,  5.23s/it]Eval bleu for test set:  90%|█████████ | 352/389 [31:49<03:14,  5.25s/it]Eval bleu for test set:  91%|█████████ | 353/389 [31:55<03:08,  5.25s/it]Eval bleu for test set:  91%|█████████ | 354/389 [32:00<03:03,  5.25s/it]Eval bleu for test set:  91%|█████████▏| 355/389 [32:05<02:58,  5.25s/it]Eval bleu for test set:  92%|█████████▏| 356/389 [32:10<02:53,  5.25s/it]Eval bleu for test set:  92%|█████████▏| 357/389 [32:16<02:48,  5.26s/it]Eval bleu for test set:  92%|█████████▏| 358/389 [32:21<02:42,  5.24s/it]Eval bleu for test set:  92%|█████████▏| 359/389 [32:26<02:37,  5.24s/it]Eval bleu for test set:  93%|█████████▎| 360/389 [32:31<02:32,  5.25s/it]Eval bleu for test set:  93%|█████████▎| 361/389 [32:37<02:27,  5.26s/it]Eval bleu for test set:  93%|█████████▎| 362/389 [32:42<02:22,  5.26s/it]Eval bleu for test set:  93%|█████████▎| 363/389 [32:47<02:16,  5.26s/it]Eval bleu for test set:  94%|█████████▎| 364/389 [32:52<02:11,  5.26s/it]Eval bleu for test set:  94%|█████████▍| 365/389 [32:58<02:06,  5.26s/it]Eval bleu for test set:  94%|█████████▍| 366/389 [33:03<02:01,  5.26s/it]Eval bleu for test set:  94%|█████████▍| 367/389 [33:08<01:55,  5.27s/it]Eval bleu for test set:  95%|█████████▍| 368/389 [33:14<01:50,  5.27s/it]Eval bleu for test set:  95%|█████████▍| 369/389 [33:19<01:45,  5.26s/it]Eval bleu for test set:  95%|█████████▌| 370/389 [33:24<01:40,  5.27s/it]Eval bleu for test set:  95%|█████████▌| 371/389 [33:29<01:34,  5.27s/it]Eval bleu for test set:  96%|█████████▌| 372/389 [33:35<01:29,  5.27s/it]Eval bleu for test set:  96%|█████████▌| 373/389 [33:40<01:24,  5.27s/it]Eval bleu for test set:  96%|█████████▌| 374/389 [33:45<01:19,  5.27s/it]Eval bleu for test set:  96%|█████████▋| 375/389 [33:50<01:13,  5.28s/it]Eval bleu for test set:  97%|█████████▋| 376/389 [33:56<01:08,  5.25s/it]Eval bleu for test set:  97%|█████████▋| 377/389 [34:01<01:03,  5.26s/it]Eval bleu for test set:  97%|█████████▋| 378/389 [34:06<00:57,  5.25s/it]Eval bleu for test set:  97%|█████████▋| 379/389 [34:11<00:52,  5.27s/it]Eval bleu for test set:  98%|█████████▊| 380/389 [34:17<00:47,  5.26s/it]Eval bleu for test set:  98%|█████████▊| 381/389 [34:22<00:42,  5.26s/it]Eval bleu for test set:  98%|█████████▊| 382/389 [34:27<00:36,  5.26s/it]Eval bleu for test set:  98%|█████████▊| 383/389 [34:32<00:31,  5.26s/it]Eval bleu for test set:  99%|█████████▊| 384/389 [34:38<00:26,  5.26s/it]Eval bleu for test set:  99%|█████████▉| 385/389 [34:43<00:21,  5.26s/it]Eval bleu for test set:  99%|█████████▉| 386/389 [34:48<00:15,  5.27s/it]Eval bleu for test set:  99%|█████████▉| 387/389 [34:54<00:10,  5.27s/it]Eval bleu for test set: 100%|█████████▉| 388/389 [34:59<00:05,  5.27s/it]Eval bleu for test set: 100%|██████████| 389/389 [35:03<00:00,  4.84s/it]Eval bleu for test set: 100%|██████████| 389/389 [35:03<00:00,  5.41s/it]
11/13/2022 05:10:56 - INFO - __main__ -   ***** Eval results *****
11/13/2022 05:10:56 - INFO - __main__ -     bleu = 71.36
11/13/2022 05:10:56 - INFO - __main__ -     codebleu = 72.0822
11/13/2022 05:10:56 - INFO - __main__ -     em = 5.9997
11/13/2022 05:10:56 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typemethod_renaming + whether_refactoringbefore_refactoring :
11/13/2022 05:10:56 - INFO - __main__ -   [best-bleu] bleu-4: 71.36, em: 5.9997, codebleu: 72.0822

11/13/2022 05:10:56 - INFO - __main__ -   Finish and take 4h49m
11/13/2022 05:10:56 - INFO - __main__ -     ***** Testing *****
11/13/2022 05:10:56 - INFO - __main__ -     Batch size = 16
11/13/2022 05:10:56 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 05:10:56 - INFO - __main__ -   test11111111111
11/13/2022 05:10:56 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 05:10:56 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/method_renaming/after_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/method_renaming/after_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 05:10:56 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 05:10:57 - INFO - utils -   Read 6217 examples, avg src len: 74, avg trg len: 72, max src len: 292, max trg len: 233
11/13/2022 05:10:57 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/test_src_all.pt
11/13/2022 05:10:57 - INFO - utils -   加载前test666666666666666
ngram match: 0.713639364940416, weighted ngram match: 0.7334264368255958, syntax_match: 0.7957308971080652, dataflow_match: 0.6404912820582649
  0%|          | 0/6217 [00:00<?, ?it/s] 50%|█████     | 3110/6217 [00:02<00:02, 1134.20it/s] 75%|███████▌  | 4665/6217 [00:05<00:01, 795.34it/s] 100%|██████████| 6217/6217 [00:05<00:00, 1127.16it/s]
11/13/2022 05:11:08 - INFO - utils -   加载后test77777777777777
11/13/2022 05:11:08 - INFO - __main__ -   加载成功test2222222222
11/13/2022 05:11:08 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 05:11:08 - INFO - __main__ -     Num examples = 6217
11/13/2022 05:11:08 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/389 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/389 [00:05<35:58,  5.56s/it]Eval bleu for test set:   1%|          | 2/389 [00:10<34:48,  5.40s/it]Eval bleu for test set:   1%|          | 3/389 [00:16<36:19,  5.65s/it]Eval bleu for test set:   1%|          | 4/389 [00:22<36:47,  5.73s/it]Eval bleu for test set:   1%|▏         | 5/389 [00:28<37:07,  5.80s/it]Eval bleu for test set:   2%|▏         | 6/389 [00:34<36:57,  5.79s/it]Eval bleu for test set:   2%|▏         | 7/389 [00:40<37:09,  5.84s/it]Eval bleu for test set:   2%|▏         | 8/389 [00:46<37:26,  5.90s/it]Eval bleu for test set:   2%|▏         | 9/389 [00:52<37:27,  5.91s/it]Eval bleu for test set:   3%|▎         | 10/389 [00:58<37:33,  5.95s/it]Eval bleu for test set:   3%|▎         | 11/389 [01:04<37:31,  5.96s/it]Eval bleu for test set:   3%|▎         | 12/389 [01:10<37:32,  5.97s/it]Eval bleu for test set:   3%|▎         | 13/389 [01:16<37:28,  5.98s/it]Eval bleu for test set:   4%|▎         | 14/389 [01:22<37:16,  5.96s/it]Eval bleu for test set:   4%|▍         | 15/389 [01:28<37:12,  5.97s/it]Eval bleu for test set:   4%|▍         | 16/389 [01:34<36:58,  5.95s/it]Eval bleu for test set:   4%|▍         | 17/389 [01:40<36:56,  5.96s/it]Eval bleu for test set:   5%|▍         | 18/389 [01:46<36:55,  5.97s/it]Eval bleu for test set:   5%|▍         | 19/389 [01:52<36:48,  5.97s/it]Eval bleu for test set:   5%|▌         | 20/389 [01:57<36:42,  5.97s/it]Eval bleu for test set:   5%|▌         | 21/389 [02:03<36:33,  5.96s/it]Eval bleu for test set:   6%|▌         | 22/389 [02:09<36:21,  5.95s/it]Eval bleu for test set:   6%|▌         | 23/389 [02:15<36:17,  5.95s/it]Eval bleu for test set:   6%|▌         | 24/389 [02:21<36:09,  5.94s/it]Eval bleu for test set:   6%|▋         | 25/389 [02:27<36:08,  5.96s/it]Eval bleu for test set:   7%|▋         | 26/389 [02:33<36:06,  5.97s/it]Eval bleu for test set:   7%|▋         | 27/389 [02:39<36:01,  5.97s/it]Eval bleu for test set:   7%|▋         | 28/389 [02:45<35:57,  5.98s/it]Eval bleu for test set:   7%|▋         | 29/389 [02:51<35:55,  5.99s/it]Eval bleu for test set:   8%|▊         | 30/389 [02:57<35:50,  5.99s/it]Eval bleu for test set:   8%|▊         | 31/389 [03:03<35:47,  6.00s/it]Eval bleu for test set:   8%|▊         | 32/389 [03:09<35:28,  5.96s/it]Eval bleu for test set:   8%|▊         | 33/389 [03:15<35:23,  5.97s/it]Eval bleu for test set:   9%|▊         | 34/389 [03:21<35:11,  5.95s/it]Eval bleu for test set:   9%|▉         | 35/389 [03:27<35:08,  5.96s/it]Eval bleu for test set:   9%|▉         | 36/389 [03:33<35:03,  5.96s/it]Eval bleu for test set:  10%|▉         | 37/389 [03:39<34:57,  5.96s/it]Eval bleu for test set:  10%|▉         | 38/389 [03:45<34:47,  5.95s/it]Eval bleu for test set:  10%|█         | 39/389 [03:51<34:40,  5.94s/it]Eval bleu for test set:  10%|█         | 40/389 [03:57<34:37,  5.95s/it]Eval bleu for test set:  11%|█         | 41/389 [04:03<34:37,  5.97s/it]Eval bleu for test set:  11%|█         | 42/389 [04:09<34:33,  5.98s/it]Eval bleu for test set:  11%|█         | 43/389 [04:15<34:27,  5.98s/it]Eval bleu for test set:  11%|█▏        | 44/389 [04:21<34:19,  5.97s/it]Eval bleu for test set:  12%|█▏        | 45/389 [04:27<34:17,  5.98s/it]Eval bleu for test set:  12%|█▏        | 46/389 [04:33<34:14,  5.99s/it]Eval bleu for test set:  12%|█▏        | 47/389 [04:39<34:05,  5.98s/it]Eval bleu for test set:  12%|█▏        | 48/389 [04:45<34:00,  5.98s/it]Eval bleu for test set:  13%|█▎        | 49/389 [04:50<33:48,  5.97s/it]Eval bleu for test set:  13%|█▎        | 50/389 [04:57<33:47,  5.98s/it]Eval bleu for test set:  13%|█▎        | 51/389 [05:02<33:40,  5.98s/it]Eval bleu for test set:  13%|█▎        | 52/389 [05:08<33:35,  5.98s/it]Eval bleu for test set:  14%|█▎        | 53/389 [05:14<33:27,  5.97s/it]Eval bleu for test set:  14%|█▍        | 54/389 [05:20<33:24,  5.98s/it]Eval bleu for test set:  14%|█▍        | 55/389 [05:26<33:20,  5.99s/it]Eval bleu for test set:  14%|█▍        | 56/389 [05:32<33:09,  5.97s/it]Eval bleu for test set:  15%|█▍        | 57/389 [05:38<33:01,  5.97s/it]Eval bleu for test set:  15%|█▍        | 58/389 [05:44<32:56,  5.97s/it]Eval bleu for test set:  15%|█▌        | 59/389 [05:50<32:49,  5.97s/it]Eval bleu for test set:  15%|█▌        | 60/389 [05:56<32:43,  5.97s/it]Eval bleu for test set:  16%|█▌        | 61/389 [06:02<32:23,  5.92s/it]Eval bleu for test set:  16%|█▌        | 62/389 [06:08<32:01,  5.88s/it]Eval bleu for test set:  16%|█▌        | 63/389 [06:14<32:01,  5.89s/it]Eval bleu for test set:  16%|█▋        | 64/389 [06:20<32:04,  5.92s/it]Eval bleu for test set:  17%|█▋        | 65/389 [06:26<32:03,  5.94s/it]Eval bleu for test set:  17%|█▋        | 66/389 [06:32<32:00,  5.95s/it]Eval bleu for test set:  17%|█▋        | 67/389 [06:38<31:50,  5.93s/it]Eval bleu for test set:  17%|█▋        | 68/389 [06:44<31:50,  5.95s/it]Eval bleu for test set:  18%|█▊        | 69/389 [06:50<31:47,  5.96s/it]Eval bleu for test set:  18%|█▊        | 70/389 [06:56<31:43,  5.97s/it]Eval bleu for test set:  18%|█▊        | 71/389 [07:02<31:38,  5.97s/it]Eval bleu for test set:  19%|█▊        | 72/389 [07:07<31:31,  5.97s/it]Eval bleu for test set:  19%|█▉        | 73/389 [07:13<31:27,  5.97s/it]Eval bleu for test set:  19%|█▉        | 74/389 [07:19<31:18,  5.96s/it]Eval bleu for test set:  19%|█▉        | 75/389 [07:25<31:13,  5.97s/it]Eval bleu for test set:  20%|█▉        | 76/389 [07:31<31:01,  5.95s/it]Eval bleu for test set:  20%|█▉        | 77/389 [07:37<30:52,  5.94s/it]Eval bleu for test set:  20%|██        | 78/389 [07:43<30:48,  5.94s/it]Eval bleu for test set:  20%|██        | 79/389 [07:49<30:44,  5.95s/it]Eval bleu for test set:  21%|██        | 80/389 [07:55<30:43,  5.97s/it]Eval bleu for test set:  21%|██        | 81/389 [08:01<30:39,  5.97s/it]Eval bleu for test set:  21%|██        | 82/389 [08:07<30:35,  5.98s/it]Eval bleu for test set:  21%|██▏       | 83/389 [08:13<30:27,  5.97s/it]Eval bleu for test set:  22%|██▏       | 84/389 [08:19<30:22,  5.98s/it]Eval bleu for test set:  22%|██▏       | 85/389 [08:25<30:15,  5.97s/it]Eval bleu for test set:  22%|██▏       | 86/389 [08:31<30:10,  5.97s/it]Eval bleu for test set:  22%|██▏       | 87/389 [08:37<30:01,  5.97s/it]Eval bleu for test set:  23%|██▎       | 88/389 [08:43<29:53,  5.96s/it]Eval bleu for test set:  23%|██▎       | 89/389 [08:49<29:48,  5.96s/it]Eval bleu for test set:  23%|██▎       | 90/389 [08:55<29:42,  5.96s/it]Eval bleu for test set:  23%|██▎       | 91/389 [09:01<29:31,  5.94s/it]Eval bleu for test set:  24%|██▎       | 92/389 [09:07<29:25,  5.94s/it]Eval bleu for test set:  24%|██▍       | 93/389 [09:13<29:15,  5.93s/it]Eval bleu for test set:  24%|██▍       | 94/389 [09:19<29:16,  5.95s/it]Eval bleu for test set:  24%|██▍       | 95/389 [09:25<29:10,  5.95s/it]Eval bleu for test set:  25%|██▍       | 96/389 [09:31<29:06,  5.96s/it]Eval bleu for test set:  25%|██▍       | 97/389 [09:36<29:01,  5.96s/it]Eval bleu for test set:  25%|██▌       | 98/389 [09:42<28:53,  5.96s/it]Eval bleu for test set:  25%|██▌       | 99/389 [09:48<28:46,  5.95s/it]Eval bleu for test set:  26%|██▌       | 100/389 [09:54<28:38,  5.95s/it]Eval bleu for test set:  26%|██▌       | 101/389 [10:00<28:34,  5.95s/it]Eval bleu for test set:  26%|██▌       | 102/389 [10:06<28:31,  5.96s/it]Eval bleu for test set:  26%|██▋       | 103/389 [10:12<28:19,  5.94s/it]Eval bleu for test set:  27%|██▋       | 104/389 [10:18<28:18,  5.96s/it]Eval bleu for test set:  27%|██▋       | 105/389 [10:24<28:11,  5.95s/it]Eval bleu for test set:  27%|██▋       | 106/389 [10:30<28:05,  5.96s/it]Eval bleu for test set:  28%|██▊       | 107/389 [10:36<28:03,  5.97s/it]Eval bleu for test set:  28%|██▊       | 108/389 [10:42<27:58,  5.97s/it]Eval bleu for test set:  28%|██▊       | 109/389 [10:48<27:51,  5.97s/it]Eval bleu for test set:  28%|██▊       | 110/389 [10:54<27:39,  5.95s/it]Eval bleu for test set:  29%|██▊       | 111/389 [11:00<27:34,  5.95s/it]Eval bleu for test set:  29%|██▉       | 112/389 [11:06<27:28,  5.95s/it]Eval bleu for test set:  29%|██▉       | 113/389 [11:12<27:23,  5.95s/it]Eval bleu for test set:  29%|██▉       | 114/389 [11:18<27:17,  5.95s/it]Eval bleu for test set:  30%|██▉       | 115/389 [11:24<27:08,  5.94s/it]Eval bleu for test set:  30%|██▉       | 116/389 [11:30<26:59,  5.93s/it]Eval bleu for test set:  30%|███       | 117/389 [11:36<26:58,  5.95s/it]Eval bleu for test set:  30%|███       | 118/389 [11:42<26:55,  5.96s/it]Eval bleu for test set:  31%|███       | 119/389 [11:48<26:53,  5.97s/it]Eval bleu for test set:  31%|███       | 120/389 [11:53<26:46,  5.97s/it]Eval bleu for test set:  31%|███       | 121/389 [11:59<26:38,  5.97s/it]Eval bleu for test set:  31%|███▏      | 122/389 [12:05<26:37,  5.98s/it]Eval bleu for test set:  32%|███▏      | 123/389 [12:12<26:40,  6.02s/it]Eval bleu for test set:  32%|███▏      | 124/389 [12:18<26:48,  6.07s/it]Eval bleu for test set:  32%|███▏      | 125/389 [12:24<26:31,  6.03s/it]Eval bleu for test set:  32%|███▏      | 126/389 [12:30<26:21,  6.01s/it]Eval bleu for test set:  33%|███▎      | 127/389 [12:36<26:17,  6.02s/it]Eval bleu for test set:  33%|███▎      | 128/389 [12:42<26:16,  6.04s/it]Eval bleu for test set:  33%|███▎      | 129/389 [12:48<26:05,  6.02s/it]Eval bleu for test set:  33%|███▎      | 130/389 [12:54<25:55,  6.01s/it]Eval bleu for test set:  34%|███▎      | 131/389 [13:00<25:47,  6.00s/it]Eval bleu for test set:  34%|███▍      | 132/389 [13:06<25:40,  5.99s/it]Eval bleu for test set:  34%|███▍      | 133/389 [13:12<25:35,  6.00s/it]Eval bleu for test set:  34%|███▍      | 134/389 [13:18<25:28,  5.99s/it]Eval bleu for test set:  35%|███▍      | 135/389 [13:24<25:24,  6.00s/it]Eval bleu for test set:  35%|███▍      | 136/389 [13:30<25:17,  6.00s/it]Eval bleu for test set:  35%|███▌      | 137/389 [13:36<25:17,  6.02s/it]Eval bleu for test set:  35%|███▌      | 138/389 [13:42<25:07,  6.01s/it]Eval bleu for test set:  36%|███▌      | 139/389 [13:48<25:03,  6.02s/it]Eval bleu for test set:  36%|███▌      | 140/389 [13:54<24:58,  6.02s/it]Eval bleu for test set:  36%|███▌      | 141/389 [14:00<24:54,  6.02s/it]Eval bleu for test set:  37%|███▋      | 142/389 [14:06<24:49,  6.03s/it]Eval bleu for test set:  37%|███▋      | 143/389 [14:12<24:37,  6.01s/it]Eval bleu for test set:  37%|███▋      | 144/389 [14:18<24:27,  5.99s/it]Eval bleu for test set:  37%|███▋      | 145/389 [14:24<24:24,  6.00s/it]Eval bleu for test set:  38%|███▊      | 146/389 [14:30<24:21,  6.02s/it]Eval bleu for test set:  38%|███▊      | 147/389 [14:36<24:14,  6.01s/it]Eval bleu for test set:  38%|███▊      | 148/389 [14:42<24:11,  6.02s/it]Eval bleu for test set:  38%|███▊      | 149/389 [14:48<24:02,  6.01s/it]Eval bleu for test set:  39%|███▊      | 150/389 [14:54<23:57,  6.02s/it]Eval bleu for test set:  39%|███▉      | 151/389 [15:00<23:55,  6.03s/it]Eval bleu for test set:  39%|███▉      | 152/389 [15:06<23:47,  6.02s/it]Eval bleu for test set:  39%|███▉      | 153/389 [15:12<23:40,  6.02s/it]Eval bleu for test set:  40%|███▉      | 154/389 [15:18<23:35,  6.02s/it]Eval bleu for test set:  40%|███▉      | 155/389 [15:24<23:30,  6.03s/it]Eval bleu for test set:  40%|████      | 156/389 [15:30<23:24,  6.03s/it]Eval bleu for test set:  40%|████      | 157/389 [15:36<23:20,  6.04s/it]Eval bleu for test set:  41%|████      | 158/389 [15:42<23:14,  6.04s/it]Eval bleu for test set:  41%|████      | 159/389 [15:48<23:04,  6.02s/it]Eval bleu for test set:  41%|████      | 160/389 [15:54<23:00,  6.03s/it]Eval bleu for test set:  41%|████▏     | 161/389 [16:00<22:54,  6.03s/it]Eval bleu for test set:  42%|████▏     | 162/389 [16:06<22:52,  6.05s/it]Eval bleu for test set:  42%|████▏     | 163/389 [16:12<22:45,  6.04s/it]Eval bleu for test set:  42%|████▏     | 164/389 [16:18<22:36,  6.03s/it]Eval bleu for test set:  42%|████▏     | 165/389 [16:24<22:28,  6.02s/it]Eval bleu for test set:  43%|████▎     | 166/389 [16:30<22:20,  6.01s/it]Eval bleu for test set:  43%|████▎     | 167/389 [16:36<22:12,  6.00s/it]Eval bleu for test set:  43%|████▎     | 168/389 [16:42<22:11,  6.02s/it]Eval bleu for test set:  43%|████▎     | 169/389 [16:48<22:07,  6.03s/it]Eval bleu for test set:  44%|████▎     | 170/389 [16:55<21:59,  6.03s/it]Eval bleu for test set:  44%|████▍     | 171/389 [17:01<21:55,  6.03s/it]Eval bleu for test set:  44%|████▍     | 172/389 [17:07<21:46,  6.02s/it]Eval bleu for test set:  44%|████▍     | 173/389 [17:12<21:26,  5.96s/it]Eval bleu for test set:  45%|████▍     | 174/389 [17:18<21:20,  5.95s/it]Eval bleu for test set:  45%|████▍     | 175/389 [17:24<21:15,  5.96s/it]Eval bleu for test set:  45%|████▌     | 176/389 [17:30<21:13,  5.98s/it]Eval bleu for test set:  46%|████▌     | 177/389 [17:36<21:08,  5.98s/it]Eval bleu for test set:  46%|████▌     | 178/389 [17:42<21:05,  6.00s/it]Eval bleu for test set:  46%|████▌     | 179/389 [17:48<21:02,  6.01s/it]Eval bleu for test set:  46%|████▋     | 180/389 [17:54<20:58,  6.02s/it]Eval bleu for test set:  47%|████▋     | 181/389 [18:00<20:53,  6.03s/it]Eval bleu for test set:  47%|████▋     | 182/389 [18:07<20:49,  6.04s/it]Eval bleu for test set:  47%|████▋     | 183/389 [18:13<20:43,  6.03s/it]Eval bleu for test set:  47%|████▋     | 184/389 [18:19<20:36,  6.03s/it]Eval bleu for test set:  48%|████▊     | 185/389 [18:25<20:27,  6.02s/it]Eval bleu for test set:  48%|████▊     | 186/389 [18:31<20:18,  6.00s/it]Eval bleu for test set:  48%|████▊     | 187/389 [18:37<20:15,  6.02s/it]Eval bleu for test set:  48%|████▊     | 188/389 [18:43<20:05,  6.00s/it]Eval bleu for test set:  49%|████▊     | 189/389 [18:48<19:57,  5.99s/it]Eval bleu for test set:  49%|████▉     | 190/389 [18:55<19:56,  6.01s/it]Eval bleu for test set:  49%|████▉     | 191/389 [19:01<19:51,  6.02s/it]Eval bleu for test set:  49%|████▉     | 192/389 [19:07<19:46,  6.02s/it]Eval bleu for test set:  50%|████▉     | 193/389 [19:13<19:44,  6.05s/it]Eval bleu for test set:  50%|████▉     | 194/389 [19:19<19:39,  6.05s/it]Eval bleu for test set:  50%|█████     | 195/389 [19:25<19:30,  6.04s/it]Eval bleu for test set:  50%|█████     | 196/389 [19:31<19:25,  6.04s/it]Eval bleu for test set:  51%|█████     | 197/389 [19:37<19:16,  6.02s/it]Eval bleu for test set:  51%|█████     | 198/389 [19:43<19:10,  6.02s/it]Eval bleu for test set:  51%|█████     | 199/389 [19:49<19:05,  6.03s/it]Eval bleu for test set:  51%|█████▏    | 200/389 [19:55<18:58,  6.02s/it]Eval bleu for test set:  52%|█████▏    | 201/389 [20:01<18:53,  6.03s/it]Eval bleu for test set:  52%|█████▏    | 202/389 [20:07<18:44,  6.01s/it]Eval bleu for test set:  52%|█████▏    | 203/389 [20:13<18:37,  6.01s/it]Eval bleu for test set:  52%|█████▏    | 204/389 [20:19<18:33,  6.02s/it]Eval bleu for test set:  53%|█████▎    | 205/389 [20:25<18:28,  6.02s/it]Eval bleu for test set:  53%|█████▎    | 206/389 [20:31<18:23,  6.03s/it]Eval bleu for test set:  53%|█████▎    | 207/389 [20:37<18:18,  6.04s/it]Eval bleu for test set:  53%|█████▎    | 208/389 [20:43<18:14,  6.05s/it]Eval bleu for test set:  54%|█████▎    | 209/389 [20:49<18:11,  6.06s/it]Eval bleu for test set:  54%|█████▍    | 210/389 [20:55<18:03,  6.05s/it]Eval bleu for test set:  54%|█████▍    | 211/389 [21:01<17:59,  6.07s/it]Eval bleu for test set:  54%|█████▍    | 212/389 [21:07<17:52,  6.06s/it]Eval bleu for test set:  55%|█████▍    | 213/389 [21:14<17:48,  6.07s/it]Eval bleu for test set:  55%|█████▌    | 214/389 [21:20<17:43,  6.08s/it]Eval bleu for test set:  55%|█████▌    | 215/389 [21:26<17:31,  6.04s/it]Eval bleu for test set:  56%|█████▌    | 216/389 [21:31<17:18,  6.00s/it]Eval bleu for test set:  56%|█████▌    | 217/389 [21:37<17:12,  6.00s/it]Eval bleu for test set:  56%|█████▌    | 218/389 [21:44<17:09,  6.02s/it]Eval bleu for test set:  56%|█████▋    | 219/389 [21:50<17:03,  6.02s/it]Eval bleu for test set:  57%|█████▋    | 220/389 [21:56<16:57,  6.02s/it]Eval bleu for test set:  57%|█████▋    | 221/389 [22:02<16:47,  6.00s/it]Eval bleu for test set:  57%|█████▋    | 222/389 [22:08<16:43,  6.01s/it]Eval bleu for test set:  57%|█████▋    | 223/389 [22:14<16:40,  6.03s/it]Eval bleu for test set:  58%|█████▊    | 224/389 [22:20<16:32,  6.02s/it]Eval bleu for test set:  58%|█████▊    | 225/389 [22:26<16:27,  6.02s/it]Eval bleu for test set:  58%|█████▊    | 226/389 [22:32<16:20,  6.02s/it]Eval bleu for test set:  58%|█████▊    | 227/389 [22:38<16:15,  6.02s/it]Eval bleu for test set:  59%|█████▊    | 228/389 [22:44<16:11,  6.03s/it]Eval bleu for test set:  59%|█████▉    | 229/389 [22:50<16:02,  6.02s/it]Eval bleu for test set:  59%|█████▉    | 230/389 [22:56<15:49,  5.97s/it]Eval bleu for test set:  59%|█████▉    | 231/389 [23:02<15:47,  5.99s/it]Eval bleu for test set:  60%|█████▉    | 232/389 [23:08<15:41,  6.00s/it]Eval bleu for test set:  60%|█████▉    | 233/389 [23:14<15:35,  6.00s/it]Eval bleu for test set:  60%|██████    | 234/389 [23:20<15:31,  6.01s/it]Eval bleu for test set:  60%|██████    | 235/389 [23:26<15:28,  6.03s/it]Eval bleu for test set:  61%|██████    | 236/389 [23:32<15:21,  6.02s/it]Eval bleu for test set:  61%|██████    | 237/389 [23:38<15:15,  6.02s/it]Eval bleu for test set:  61%|██████    | 238/389 [23:44<15:09,  6.02s/it]Eval bleu for test set:  61%|██████▏   | 239/389 [23:50<15:01,  6.01s/it]Eval bleu for test set:  62%|██████▏   | 240/389 [23:56<14:58,  6.03s/it]Eval bleu for test set:  62%|██████▏   | 241/389 [24:02<14:50,  6.02s/it]Eval bleu for test set:  62%|██████▏   | 242/389 [24:08<14:43,  6.01s/it]Eval bleu for test set:  62%|██████▏   | 243/389 [24:14<14:37,  6.01s/it]Eval bleu for test set:  63%|██████▎   | 244/389 [24:20<14:35,  6.04s/it]Eval bleu for test set:  63%|██████▎   | 245/389 [24:26<14:28,  6.03s/it]Eval bleu for test set:  63%|██████▎   | 246/389 [24:32<14:21,  6.02s/it]Eval bleu for test set:  63%|██████▎   | 247/389 [24:38<14:09,  5.98s/it]Eval bleu for test set:  64%|██████▍   | 248/389 [24:44<14:06,  6.00s/it]Eval bleu for test set:  64%|██████▍   | 249/389 [24:50<14:02,  6.02s/it]Eval bleu for test set:  64%|██████▍   | 250/389 [24:56<13:57,  6.02s/it]Eval bleu for test set:  65%|██████▍   | 251/389 [25:02<13:50,  6.02s/it]Eval bleu for test set:  65%|██████▍   | 252/389 [25:08<13:43,  6.01s/it]Eval bleu for test set:  65%|██████▌   | 253/389 [25:14<13:36,  6.00s/it]Eval bleu for test set:  65%|██████▌   | 254/389 [25:20<13:31,  6.01s/it]Eval bleu for test set:  66%|██████▌   | 255/389 [25:26<13:25,  6.01s/it]Eval bleu for test set:  66%|██████▌   | 256/389 [25:32<13:20,  6.02s/it]Eval bleu for test set:  66%|██████▌   | 257/389 [25:38<13:15,  6.03s/it]Eval bleu for test set:  66%|██████▋   | 258/389 [25:44<13:10,  6.04s/it]Eval bleu for test set:  67%|██████▋   | 259/389 [25:50<13:04,  6.04s/it]Eval bleu for test set:  67%|██████▋   | 260/389 [25:56<12:59,  6.04s/it]Eval bleu for test set:  67%|██████▋   | 261/389 [26:02<12:53,  6.04s/it]Eval bleu for test set:  67%|██████▋   | 262/389 [26:08<12:47,  6.04s/it]Eval bleu for test set:  68%|██████▊   | 263/389 [26:14<12:40,  6.04s/it]Eval bleu for test set:  68%|██████▊   | 264/389 [26:20<12:33,  6.03s/it]Eval bleu for test set:  68%|██████▊   | 265/389 [26:26<12:27,  6.03s/it]Eval bleu for test set:  68%|██████▊   | 266/389 [26:32<12:21,  6.03s/it]Eval bleu for test set:  69%|██████▊   | 267/389 [26:38<12:15,  6.03s/it]Eval bleu for test set:  69%|██████▉   | 268/389 [26:45<12:09,  6.03s/it]Eval bleu for test set:  69%|██████▉   | 269/389 [26:51<12:02,  6.02s/it]Eval bleu for test set:  69%|██████▉   | 270/389 [26:57<11:56,  6.02s/it]Eval bleu for test set:  70%|██████▉   | 271/389 [27:03<11:49,  6.02s/it]Eval bleu for test set:  70%|██████▉   | 272/389 [27:09<11:44,  6.02s/it]Eval bleu for test set:  70%|███████   | 273/389 [27:15<11:40,  6.04s/it]Eval bleu for test set:  70%|███████   | 274/389 [27:21<11:35,  6.05s/it]Eval bleu for test set:  71%|███████   | 275/389 [27:27<11:30,  6.06s/it]Eval bleu for test set:  71%|███████   | 276/389 [27:33<11:23,  6.05s/it]Eval bleu for test set:  71%|███████   | 277/389 [27:39<11:16,  6.04s/it]Eval bleu for test set:  71%|███████▏  | 278/389 [27:45<11:10,  6.04s/it]Eval bleu for test set:  72%|███████▏  | 279/389 [27:51<11:05,  6.05s/it]Eval bleu for test set:  72%|███████▏  | 280/389 [27:57<10:58,  6.04s/it]Eval bleu for test set:  72%|███████▏  | 281/389 [28:03<10:52,  6.05s/it]Eval bleu for test set:  72%|███████▏  | 282/389 [28:09<10:47,  6.06s/it]Eval bleu for test set:  73%|███████▎  | 283/389 [28:15<10:43,  6.07s/it]Eval bleu for test set:  73%|███████▎  | 284/389 [28:21<10:36,  6.06s/it]Eval bleu for test set:  73%|███████▎  | 285/389 [28:27<10:31,  6.07s/it]Eval bleu for test set:  74%|███████▎  | 286/389 [28:33<10:25,  6.07s/it]Eval bleu for test set:  74%|███████▍  | 287/389 [28:39<10:11,  5.99s/it]Eval bleu for test set:  74%|███████▍  | 288/389 [28:45<10:06,  6.01s/it]Eval bleu for test set:  74%|███████▍  | 289/389 [28:51<10:01,  6.01s/it]Eval bleu for test set:  75%|███████▍  | 290/389 [28:57<09:56,  6.03s/it]Eval bleu for test set:  75%|███████▍  | 291/389 [29:03<09:50,  6.02s/it]Eval bleu for test set:  75%|███████▌  | 292/389 [29:09<09:43,  6.02s/it]Eval bleu for test set:  75%|███████▌  | 293/389 [29:15<09:38,  6.03s/it]Eval bleu for test set:  76%|███████▌  | 294/389 [29:21<09:32,  6.03s/it]Eval bleu for test set:  76%|███████▌  | 295/389 [29:27<09:25,  6.02s/it]Eval bleu for test set:  76%|███████▌  | 296/389 [29:33<09:19,  6.02s/it]Eval bleu for test set:  76%|███████▋  | 297/389 [29:39<09:12,  6.01s/it]Eval bleu for test set:  77%|███████▋  | 298/389 [29:46<09:07,  6.02s/it]Eval bleu for test set:  77%|███████▋  | 299/389 [29:51<09:00,  6.00s/it]Eval bleu for test set:  77%|███████▋  | 300/389 [29:57<08:53,  6.00s/it]Eval bleu for test set:  77%|███████▋  | 301/389 [30:04<08:49,  6.02s/it]Eval bleu for test set:  78%|███████▊  | 302/389 [30:10<08:44,  6.03s/it]Eval bleu for test set:  78%|███████▊  | 303/389 [30:16<08:38,  6.03s/it]Eval bleu for test set:  78%|███████▊  | 304/389 [30:21<08:24,  5.93s/it]Eval bleu for test set:  78%|███████▊  | 305/389 [30:27<08:21,  5.97s/it]Eval bleu for test set:  79%|███████▊  | 306/389 [30:33<08:16,  5.98s/it]Eval bleu for test set:  79%|███████▉  | 307/389 [30:39<08:12,  6.00s/it]Eval bleu for test set:  79%|███████▉  | 308/389 [30:45<08:06,  6.01s/it]Eval bleu for test set:  79%|███████▉  | 309/389 [30:52<08:02,  6.03s/it]Eval bleu for test set:  80%|███████▉  | 310/389 [30:58<07:56,  6.03s/it]Eval bleu for test set:  80%|███████▉  | 311/389 [31:04<07:50,  6.03s/it]Eval bleu for test set:  80%|████████  | 312/389 [31:10<07:42,  6.00s/it]Eval bleu for test set:  80%|████████  | 313/389 [31:16<07:37,  6.02s/it]Eval bleu for test set:  81%|████████  | 314/389 [31:22<07:32,  6.03s/it]Eval bleu for test set:  81%|████████  | 315/389 [31:28<07:27,  6.05s/it]Eval bleu for test set:  81%|████████  | 316/389 [31:34<07:20,  6.04s/it]Eval bleu for test set:  81%|████████▏ | 317/389 [31:40<07:13,  6.02s/it]Eval bleu for test set:  82%|████████▏ | 318/389 [31:46<07:08,  6.04s/it]Eval bleu for test set:  82%|████████▏ | 319/389 [31:52<07:02,  6.04s/it]Eval bleu for test set:  82%|████████▏ | 320/389 [31:58<06:56,  6.03s/it]Eval bleu for test set:  83%|████████▎ | 321/389 [32:04<06:49,  6.03s/it]Eval bleu for test set:  83%|████████▎ | 322/389 [32:10<06:41,  6.00s/it]Eval bleu for test set:  83%|████████▎ | 323/389 [32:16<06:36,  6.01s/it]Eval bleu for test set:  83%|████████▎ | 324/389 [32:22<06:30,  6.01s/it]Eval bleu for test set:  84%|████████▎ | 325/389 [32:28<06:24,  6.01s/it]Eval bleu for test set:  84%|████████▍ | 326/389 [32:34<06:19,  6.02s/it]Eval bleu for test set:  84%|████████▍ | 327/389 [32:40<06:14,  6.03s/it]Eval bleu for test set:  84%|████████▍ | 328/389 [32:46<06:07,  6.02s/it]Eval bleu for test set:  85%|████████▍ | 329/389 [32:52<06:02,  6.04s/it]Eval bleu for test set:  85%|████████▍ | 330/389 [32:58<05:55,  6.03s/it]Eval bleu for test set:  85%|████████▌ | 331/389 [33:04<05:49,  6.03s/it]Eval bleu for test set:  85%|████████▌ | 332/389 [33:10<05:43,  6.03s/it]Eval bleu for test set:  86%|████████▌ | 333/389 [33:16<05:38,  6.04s/it]Eval bleu for test set:  86%|████████▌ | 334/389 [33:22<05:32,  6.04s/it]Eval bleu for test set:  86%|████████▌ | 335/389 [33:28<05:26,  6.04s/it]Eval bleu for test set:  86%|████████▋ | 336/389 [33:34<05:20,  6.05s/it]Eval bleu for test set:  87%|████████▋ | 337/389 [33:40<05:14,  6.04s/it]Eval bleu for test set:  87%|████████▋ | 338/389 [33:46<05:07,  6.02s/it]Eval bleu for test set:  87%|████████▋ | 339/389 [33:52<05:00,  6.02s/it]Eval bleu for test set:  87%|████████▋ | 340/389 [33:58<04:55,  6.04s/it]Eval bleu for test set:  88%|████████▊ | 341/389 [34:04<04:49,  6.04s/it]Eval bleu for test set:  88%|████████▊ | 342/389 [34:11<04:44,  6.05s/it]Eval bleu for test set:  88%|████████▊ | 343/389 [34:17<04:37,  6.04s/it]Eval bleu for test set:  88%|████████▊ | 344/389 [34:22<04:25,  5.91s/it]Eval bleu for test set:  89%|████████▊ | 345/389 [34:28<04:20,  5.91s/it]Eval bleu for test set:  89%|████████▉ | 346/389 [34:34<04:15,  5.94s/it]Eval bleu for test set:  89%|████████▉ | 347/389 [34:40<04:08,  5.92s/it]Eval bleu for test set:  89%|████████▉ | 348/389 [34:46<04:03,  5.94s/it]Eval bleu for test set:  90%|████████▉ | 349/389 [34:52<03:59,  5.98s/it]Eval bleu for test set:  90%|████████▉ | 350/389 [34:58<03:53,  5.99s/it]Eval bleu for test set:  90%|█████████ | 351/389 [35:04<03:47,  5.99s/it]Eval bleu for test set:  90%|█████████ | 352/389 [35:10<03:42,  6.01s/it]Eval bleu for test set:  91%|█████████ | 353/389 [35:16<03:36,  6.02s/it]Eval bleu for test set:  91%|█████████ | 354/389 [35:22<03:30,  6.02s/it]Eval bleu for test set:  91%|█████████▏| 355/389 [35:28<03:24,  6.01s/it]Eval bleu for test set:  92%|█████████▏| 356/389 [35:34<03:18,  6.02s/it]Eval bleu for test set:  92%|█████████▏| 357/389 [35:40<03:13,  6.04s/it]Eval bleu for test set:  92%|█████████▏| 358/389 [35:46<03:06,  6.01s/it]Eval bleu for test set:  92%|█████████▏| 359/389 [35:52<03:00,  6.03s/it]Eval bleu for test set:  93%|█████████▎| 360/389 [35:58<02:55,  6.04s/it]Eval bleu for test set:  93%|█████████▎| 361/389 [36:04<02:49,  6.05s/it]Eval bleu for test set:  93%|█████████▎| 362/389 [36:10<02:42,  6.04s/it]Eval bleu for test set:  93%|█████████▎| 363/389 [36:16<02:37,  6.04s/it]Eval bleu for test set:  94%|█████████▎| 364/389 [36:22<02:30,  6.04s/it]Eval bleu for test set:  94%|█████████▍| 365/389 [36:29<02:24,  6.04s/it]Eval bleu for test set:  94%|█████████▍| 366/389 [36:35<02:18,  6.04s/it]Eval bleu for test set:  94%|█████████▍| 367/389 [36:41<02:12,  6.04s/it]Eval bleu for test set:  95%|█████████▍| 368/389 [36:47<02:07,  6.05s/it]Eval bleu for test set:  95%|█████████▍| 369/389 [36:53<02:01,  6.05s/it]Eval bleu for test set:  95%|█████████▌| 370/389 [36:59<01:55,  6.06s/it]Eval bleu for test set:  95%|█████████▌| 371/389 [37:05<01:49,  6.06s/it]Eval bleu for test set:  96%|█████████▌| 372/389 [37:11<01:42,  6.05s/it]Eval bleu for test set:  96%|█████████▌| 373/389 [37:17<01:37,  6.08s/it]Eval bleu for test set:  96%|█████████▌| 374/389 [37:23<01:31,  6.09s/it]Eval bleu for test set:  96%|█████████▋| 375/389 [37:29<01:25,  6.08s/it]Eval bleu for test set:  97%|█████████▋| 376/389 [37:35<01:18,  6.03s/it]Eval bleu for test set:  97%|█████████▋| 377/389 [37:41<01:12,  6.04s/it]Eval bleu for test set:  97%|█████████▋| 378/389 [37:47<01:06,  6.03s/it]Eval bleu for test set:  97%|█████████▋| 379/389 [37:53<01:00,  6.06s/it]Eval bleu for test set:  98%|█████████▊| 380/389 [37:59<00:54,  6.04s/it]Eval bleu for test set:  98%|█████████▊| 381/389 [38:05<00:48,  6.03s/it]Eval bleu for test set:  98%|█████████▊| 382/389 [38:11<00:42,  6.03s/it]Eval bleu for test set:  98%|█████████▊| 383/389 [38:17<00:36,  6.03s/it]Eval bleu for test set:  99%|█████████▊| 384/389 [38:23<00:30,  6.02s/it]Eval bleu for test set:  99%|█████████▉| 385/389 [38:29<00:24,  6.03s/it]Eval bleu for test set:  99%|█████████▉| 386/389 [38:36<00:18,  6.05s/it]Eval bleu for test set:  99%|█████████▉| 387/389 [38:42<00:12,  6.05s/it]Eval bleu for test set: 100%|█████████▉| 388/389 [38:48<00:06,  6.07s/it]Eval bleu for test set: 100%|██████████| 389/389 [38:52<00:00,  5.64s/it]Eval bleu for test set: 100%|██████████| 389/389 [38:52<00:00,  6.00s/it]
11/13/2022 05:56:05 - INFO - __main__ -   ***** Eval results *****
11/13/2022 05:56:05 - INFO - __main__ -     bleu = 71.06
11/13/2022 05:56:05 - INFO - __main__ -     codebleu = 71.7986
11/13/2022 05:56:05 - INFO - __main__ -     em = 4.922
11/13/2022 05:56:05 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typemethod_renaming + whether_refactoringafter_refactoring :
11/13/2022 05:56:05 - INFO - __main__ -   [best-bleu] bleu-4: 71.06, em: 4.9220, codebleu: 71.7986

11/13/2022 05:56:05 - INFO - __main__ -   Finish and take 5h34m
11/13/2022 05:56:05 - INFO - __main__ -     ***** Testing *****
11/13/2022 05:56:05 - INFO - __main__ -     Batch size = 16
11/13/2022 05:56:05 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 05:56:06 - INFO - __main__ -   test11111111111
11/13/2022 05:56:06 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 05:56:06 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/parameter_renaming/before_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/parameter_renaming/before_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 05:56:06 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 05:56:06 - INFO - utils -   Read 4302 examples, avg src len: 74, avg trg len: 73, max src len: 194, max trg len: 190
11/13/2022 05:56:06 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/test_src_all.pt
11/13/2022 05:56:06 - INFO - utils -   加载前test666666666666666
ngram match: 0.7105737057964151, weighted ngram match: 0.7309468557771716, syntax_match: 0.7946294376972843, dataflow_match: 0.6357956633590591
  0%|          | 0/4302 [00:00<?, ?it/s] 50%|█████     | 2152/4302 [00:02<00:02, 1074.06it/s] 75%|███████▌  | 3228/4302 [00:03<00:01, 761.46it/s] 100%|██████████| 4302/4302 [00:03<00:00, 1077.39it/s]
11/13/2022 05:56:14 - INFO - utils -   加载后test77777777777777
11/13/2022 05:56:14 - INFO - __main__ -   加载成功test2222222222
11/13/2022 05:56:14 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 05:56:14 - INFO - __main__ -     Num examples = 4302
11/13/2022 05:56:14 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/269 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/269 [00:05<25:05,  5.62s/it]Eval bleu for test set:   1%|          | 2/269 [00:10<24:12,  5.44s/it]Eval bleu for test set:   1%|          | 3/269 [00:16<23:48,  5.37s/it]Eval bleu for test set:   1%|▏         | 4/269 [00:21<23:28,  5.31s/it]Eval bleu for test set:   2%|▏         | 5/269 [00:26<23:22,  5.31s/it]Eval bleu for test set:   2%|▏         | 6/269 [00:32<23:16,  5.31s/it]Eval bleu for test set:   3%|▎         | 7/269 [00:37<23:12,  5.31s/it]Eval bleu for test set:   3%|▎         | 8/269 [00:42<23:07,  5.32s/it]Eval bleu for test set:   3%|▎         | 9/269 [00:48<23:04,  5.32s/it]Eval bleu for test set:   4%|▎         | 10/269 [00:53<22:57,  5.32s/it]Eval bleu for test set:   4%|▍         | 11/269 [00:58<22:52,  5.32s/it]Eval bleu for test set:   4%|▍         | 12/269 [01:03<22:45,  5.31s/it]Eval bleu for test set:   5%|▍         | 13/269 [01:09<22:39,  5.31s/it]Eval bleu for test set:   5%|▌         | 14/269 [01:14<22:32,  5.30s/it]Eval bleu for test set:   6%|▌         | 15/269 [01:19<22:27,  5.30s/it]Eval bleu for test set:   6%|▌         | 16/269 [01:25<22:21,  5.30s/it]Eval bleu for test set:   6%|▋         | 17/269 [01:30<22:15,  5.30s/it]Eval bleu for test set:   7%|▋         | 18/269 [01:35<22:12,  5.31s/it]Eval bleu for test set:   7%|▋         | 19/269 [01:41<22:08,  5.31s/it]Eval bleu for test set:   7%|▋         | 20/269 [01:46<22:05,  5.32s/it]Eval bleu for test set:   8%|▊         | 21/269 [01:51<22:00,  5.33s/it]Eval bleu for test set:   8%|▊         | 22/269 [01:57<21:56,  5.33s/it]Eval bleu for test set:   9%|▊         | 23/269 [02:02<21:49,  5.32s/it]Eval bleu for test set:   9%|▉         | 24/269 [02:07<21:42,  5.32s/it]Eval bleu for test set:   9%|▉         | 25/269 [02:13<21:37,  5.32s/it]Eval bleu for test set:  10%|▉         | 26/269 [02:18<21:28,  5.30s/it]Eval bleu for test set:  10%|█         | 27/269 [02:23<21:22,  5.30s/it]Eval bleu for test set:  10%|█         | 28/269 [02:28<21:18,  5.30s/it]Eval bleu for test set:  11%|█         | 29/269 [02:34<21:14,  5.31s/it]Eval bleu for test set:  11%|█         | 30/269 [02:39<21:10,  5.31s/it]Eval bleu for test set:  12%|█▏        | 31/269 [02:44<21:04,  5.31s/it]Eval bleu for test set:  12%|█▏        | 32/269 [02:50<21:00,  5.32s/it]Eval bleu for test set:  12%|█▏        | 33/269 [02:55<20:57,  5.33s/it]Eval bleu for test set:  13%|█▎        | 34/269 [03:00<20:49,  5.32s/it]Eval bleu for test set:  13%|█▎        | 35/269 [03:06<20:43,  5.32s/it]Eval bleu for test set:  13%|█▎        | 36/269 [03:11<20:39,  5.32s/it]Eval bleu for test set:  14%|█▍        | 37/269 [03:16<20:33,  5.32s/it]Eval bleu for test set:  14%|█▍        | 38/269 [03:22<20:28,  5.32s/it]Eval bleu for test set:  14%|█▍        | 39/269 [03:27<20:20,  5.30s/it]Eval bleu for test set:  15%|█▍        | 40/269 [03:32<20:15,  5.31s/it]Eval bleu for test set:  15%|█▌        | 41/269 [03:37<20:07,  5.30s/it]Eval bleu for test set:  16%|█▌        | 42/269 [03:43<19:57,  5.27s/it]Eval bleu for test set:  16%|█▌        | 43/269 [03:48<19:54,  5.29s/it]Eval bleu for test set:  16%|█▋        | 44/269 [03:53<19:48,  5.28s/it]Eval bleu for test set:  17%|█▋        | 45/269 [03:59<19:46,  5.30s/it]Eval bleu for test set:  17%|█▋        | 46/269 [04:04<19:40,  5.29s/it]Eval bleu for test set:  17%|█▋        | 47/269 [04:09<19:37,  5.30s/it]Eval bleu for test set:  18%|█▊        | 48/269 [04:15<19:34,  5.31s/it]Eval bleu for test set:  18%|█▊        | 49/269 [04:20<19:28,  5.31s/it]Eval bleu for test set:  19%|█▊        | 50/269 [04:25<19:21,  5.30s/it]Eval bleu for test set:  19%|█▉        | 51/269 [04:30<19:14,  5.30s/it]Eval bleu for test set:  19%|█▉        | 52/269 [04:36<19:10,  5.30s/it]Eval bleu for test set:  20%|█▉        | 53/269 [04:41<19:03,  5.29s/it]Eval bleu for test set:  20%|██        | 54/269 [04:46<18:58,  5.30s/it]Eval bleu for test set:  20%|██        | 55/269 [04:52<18:55,  5.31s/it]Eval bleu for test set:  21%|██        | 56/269 [04:57<18:50,  5.31s/it]Eval bleu for test set:  21%|██        | 57/269 [05:02<18:44,  5.30s/it]Eval bleu for test set:  22%|██▏       | 58/269 [05:08<18:38,  5.30s/it]Eval bleu for test set:  22%|██▏       | 59/269 [05:13<18:35,  5.31s/it]Eval bleu for test set:  22%|██▏       | 60/269 [05:18<18:29,  5.31s/it]Eval bleu for test set:  23%|██▎       | 61/269 [05:24<18:23,  5.30s/it]Eval bleu for test set:  23%|██▎       | 62/269 [05:29<18:18,  5.31s/it]Eval bleu for test set:  23%|██▎       | 63/269 [05:34<18:11,  5.30s/it]Eval bleu for test set:  24%|██▍       | 64/269 [05:39<18:03,  5.28s/it]Eval bleu for test set:  24%|██▍       | 65/269 [05:45<17:55,  5.27s/it]Eval bleu for test set:  25%|██▍       | 66/269 [05:50<17:51,  5.28s/it]Eval bleu for test set:  25%|██▍       | 67/269 [05:55<17:46,  5.28s/it]Eval bleu for test set:  25%|██▌       | 68/269 [06:00<17:41,  5.28s/it]Eval bleu for test set:  26%|██▌       | 69/269 [06:06<17:36,  5.28s/it]Eval bleu for test set:  26%|██▌       | 70/269 [06:11<17:29,  5.27s/it]Eval bleu for test set:  26%|██▋       | 71/269 [06:16<17:25,  5.28s/it]Eval bleu for test set:  27%|██▋       | 72/269 [06:22<17:16,  5.26s/it]Eval bleu for test set:  27%|██▋       | 73/269 [06:27<17:11,  5.26s/it]Eval bleu for test set:  28%|██▊       | 74/269 [06:32<17:07,  5.27s/it]Eval bleu for test set:  28%|██▊       | 75/269 [06:37<17:02,  5.27s/it]Eval bleu for test set:  28%|██▊       | 76/269 [06:43<16:54,  5.25s/it]Eval bleu for test set:  29%|██▊       | 77/269 [06:48<16:48,  5.25s/it]Eval bleu for test set:  29%|██▉       | 78/269 [06:53<16:44,  5.26s/it]Eval bleu for test set:  29%|██▉       | 79/269 [06:58<16:39,  5.26s/it]Eval bleu for test set:  30%|██▉       | 80/269 [07:04<16:34,  5.26s/it]Eval bleu for test set:  30%|███       | 81/269 [07:09<16:30,  5.27s/it]Eval bleu for test set:  30%|███       | 82/269 [07:14<16:26,  5.27s/it]Eval bleu for test set:  31%|███       | 83/269 [07:19<16:22,  5.28s/it]Eval bleu for test set:  31%|███       | 84/269 [07:25<16:17,  5.28s/it]Eval bleu for test set:  32%|███▏      | 85/269 [07:30<16:10,  5.27s/it]Eval bleu for test set:  32%|███▏      | 86/269 [07:35<16:05,  5.28s/it]Eval bleu for test set:  32%|███▏      | 87/269 [07:41<16:01,  5.28s/it]Eval bleu for test set:  33%|███▎      | 88/269 [07:46<15:54,  5.27s/it]Eval bleu for test set:  33%|███▎      | 89/269 [07:51<15:49,  5.28s/it]Eval bleu for test set:  33%|███▎      | 90/269 [07:56<15:45,  5.28s/it]Eval bleu for test set:  34%|███▍      | 91/269 [08:02<15:37,  5.26s/it]Eval bleu for test set:  34%|███▍      | 92/269 [08:07<15:31,  5.26s/it]Eval bleu for test set:  35%|███▍      | 93/269 [08:12<15:26,  5.26s/it]Eval bleu for test set:  35%|███▍      | 94/269 [08:17<15:21,  5.27s/it]Eval bleu for test set:  35%|███▌      | 95/269 [08:23<15:17,  5.27s/it]Eval bleu for test set:  36%|███▌      | 96/269 [08:28<15:12,  5.28s/it]Eval bleu for test set:  36%|███▌      | 97/269 [08:33<15:07,  5.28s/it]Eval bleu for test set:  36%|███▋      | 98/269 [08:39<15:02,  5.28s/it]Eval bleu for test set:  37%|███▋      | 99/269 [08:44<14:57,  5.28s/it]Eval bleu for test set:  37%|███▋      | 100/269 [08:49<14:53,  5.28s/it]Eval bleu for test set:  38%|███▊      | 101/269 [08:54<14:43,  5.26s/it]Eval bleu for test set:  38%|███▊      | 102/269 [09:00<14:38,  5.26s/it]Eval bleu for test set:  38%|███▊      | 103/269 [09:05<14:34,  5.27s/it]Eval bleu for test set:  39%|███▊      | 104/269 [09:10<14:28,  5.27s/it]Eval bleu for test set:  39%|███▉      | 105/269 [09:15<14:21,  5.25s/it]Eval bleu for test set:  39%|███▉      | 106/269 [09:21<14:17,  5.26s/it]Eval bleu for test set:  40%|███▉      | 107/269 [09:26<14:12,  5.27s/it]Eval bleu for test set:  40%|████      | 108/269 [09:31<14:05,  5.25s/it]Eval bleu for test set:  41%|████      | 109/269 [09:36<14:01,  5.26s/it]Eval bleu for test set:  41%|████      | 110/269 [09:42<13:57,  5.27s/it]Eval bleu for test set:  41%|████▏     | 111/269 [09:47<13:52,  5.27s/it]Eval bleu for test set:  42%|████▏     | 112/269 [09:52<13:47,  5.27s/it]Eval bleu for test set:  42%|████▏     | 113/269 [09:58<13:41,  5.27s/it]Eval bleu for test set:  42%|████▏     | 114/269 [10:03<13:36,  5.27s/it]Eval bleu for test set:  43%|████▎     | 115/269 [10:08<13:32,  5.28s/it]Eval bleu for test set:  43%|████▎     | 116/269 [10:13<13:25,  5.27s/it]Eval bleu for test set:  43%|████▎     | 117/269 [10:19<13:18,  5.26s/it]Eval bleu for test set:  44%|████▍     | 118/269 [10:24<13:15,  5.27s/it]Eval bleu for test set:  44%|████▍     | 119/269 [10:29<13:10,  5.27s/it]Eval bleu for test set:  45%|████▍     | 120/269 [10:34<13:06,  5.28s/it]Eval bleu for test set:  45%|████▍     | 121/269 [10:40<13:01,  5.28s/it]Eval bleu for test set:  45%|████▌     | 122/269 [10:45<12:54,  5.27s/it]Eval bleu for test set:  46%|████▌     | 123/269 [10:50<12:50,  5.27s/it]Eval bleu for test set:  46%|████▌     | 124/269 [10:55<12:41,  5.25s/it]Eval bleu for test set:  46%|████▋     | 125/269 [11:01<12:40,  5.28s/it]Eval bleu for test set:  47%|████▋     | 126/269 [11:06<12:36,  5.29s/it]Eval bleu for test set:  47%|████▋     | 127/269 [11:11<12:31,  5.29s/it]Eval bleu for test set:  48%|████▊     | 128/269 [11:17<12:26,  5.29s/it]Eval bleu for test set:  48%|████▊     | 129/269 [11:22<12:20,  5.29s/it]Eval bleu for test set:  48%|████▊     | 130/269 [11:27<12:13,  5.28s/it]Eval bleu for test set:  49%|████▊     | 131/269 [11:33<12:07,  5.27s/it]Eval bleu for test set:  49%|████▉     | 132/269 [11:38<12:01,  5.27s/it]Eval bleu for test set:  49%|████▉     | 133/269 [11:43<11:57,  5.27s/it]Eval bleu for test set:  50%|████▉     | 134/269 [11:48<11:51,  5.27s/it]Eval bleu for test set:  50%|█████     | 135/269 [11:54<11:49,  5.29s/it]Eval bleu for test set:  51%|█████     | 136/269 [11:59<11:46,  5.32s/it]Eval bleu for test set:  51%|█████     | 137/269 [12:04<11:41,  5.32s/it]Eval bleu for test set:  51%|█████▏    | 138/269 [12:10<11:37,  5.32s/it]Eval bleu for test set:  52%|█████▏    | 139/269 [12:15<11:35,  5.35s/it]Eval bleu for test set:  52%|█████▏    | 140/269 [12:21<11:52,  5.52s/it]Eval bleu for test set:  52%|█████▏    | 141/269 [12:27<12:06,  5.67s/it]Eval bleu for test set:  53%|█████▎    | 142/269 [12:33<12:10,  5.75s/it]Eval bleu for test set:  53%|█████▎    | 143/269 [12:39<12:13,  5.82s/it]Eval bleu for test set:  54%|█████▎    | 144/269 [12:45<12:14,  5.87s/it]Eval bleu for test set:  54%|█████▍    | 145/269 [12:51<12:13,  5.91s/it]Eval bleu for test set:  54%|█████▍    | 146/269 [12:57<12:11,  5.95s/it]Eval bleu for test set:  55%|█████▍    | 147/269 [13:03<12:05,  5.95s/it]Eval bleu for test set:  55%|█████▌    | 148/269 [13:09<12:01,  5.96s/it]Eval bleu for test set:  55%|█████▌    | 149/269 [13:15<11:56,  5.97s/it]Eval bleu for test set:  56%|█████▌    | 150/269 [13:21<11:51,  5.98s/it]Eval bleu for test set:  56%|█████▌    | 151/269 [13:27<11:44,  5.97s/it]Eval bleu for test set:  57%|█████▋    | 152/269 [13:33<11:34,  5.94s/it]Eval bleu for test set:  57%|█████▋    | 153/269 [13:39<11:31,  5.96s/it]Eval bleu for test set:  57%|█████▋    | 154/269 [13:45<11:25,  5.96s/it]Eval bleu for test set:  58%|█████▊    | 155/269 [13:51<11:18,  5.95s/it]Eval bleu for test set:  58%|█████▊    | 156/269 [13:57<11:12,  5.95s/it]Eval bleu for test set:  58%|█████▊    | 157/269 [14:03<11:08,  5.97s/it]Eval bleu for test set:  59%|█████▊    | 158/269 [14:09<11:03,  5.97s/it]Eval bleu for test set:  59%|█████▉    | 159/269 [14:15<10:57,  5.98s/it]Eval bleu for test set:  59%|█████▉    | 160/269 [14:21<10:52,  5.98s/it]Eval bleu for test set:  60%|█████▉    | 161/269 [14:26<10:43,  5.95s/it]Eval bleu for test set:  60%|██████    | 162/269 [14:32<10:38,  5.97s/it]Eval bleu for test set:  61%|██████    | 163/269 [14:38<10:33,  5.97s/it]Eval bleu for test set:  61%|██████    | 164/269 [14:44<10:28,  5.98s/it]Eval bleu for test set:  61%|██████▏   | 165/269 [14:50<10:22,  5.98s/it]Eval bleu for test set:  62%|██████▏   | 166/269 [14:56<10:14,  5.97s/it]Eval bleu for test set:  62%|██████▏   | 167/269 [15:02<10:09,  5.98s/it]Eval bleu for test set:  62%|██████▏   | 168/269 [15:08<10:03,  5.98s/it]Eval bleu for test set:  63%|██████▎   | 169/269 [15:14<09:56,  5.97s/it]Eval bleu for test set:  63%|██████▎   | 170/269 [15:20<09:51,  5.97s/it]Eval bleu for test set:  64%|██████▎   | 171/269 [15:26<09:46,  5.98s/it]Eval bleu for test set:  64%|██████▍   | 172/269 [15:32<09:39,  5.98s/it]Eval bleu for test set:  64%|██████▍   | 173/269 [15:38<09:31,  5.95s/it]Eval bleu for test set:  65%|██████▍   | 174/269 [15:44<09:25,  5.96s/it]Eval bleu for test set:  65%|██████▌   | 175/269 [15:50<09:20,  5.96s/it]Eval bleu for test set:  65%|██████▌   | 176/269 [15:56<09:14,  5.96s/it]Eval bleu for test set:  66%|██████▌   | 177/269 [16:02<09:08,  5.96s/it]Eval bleu for test set:  66%|██████▌   | 178/269 [16:08<09:02,  5.97s/it]Eval bleu for test set:  67%|██████▋   | 179/269 [16:14<08:56,  5.96s/it]Eval bleu for test set:  67%|██████▋   | 180/269 [16:20<08:50,  5.96s/it]Eval bleu for test set:  67%|██████▋   | 181/269 [16:26<08:45,  5.98s/it]Eval bleu for test set:  68%|██████▊   | 182/269 [16:32<08:40,  5.99s/it]Eval bleu for test set:  68%|██████▊   | 183/269 [16:38<08:35,  5.99s/it]Eval bleu for test set:  68%|██████▊   | 184/269 [16:44<08:28,  5.98s/it]Eval bleu for test set:  69%|██████▉   | 185/269 [16:50<08:23,  6.00s/it]Eval bleu for test set:  69%|██████▉   | 186/269 [16:56<08:17,  5.99s/it]Eval bleu for test set:  70%|██████▉   | 187/269 [17:02<08:10,  5.98s/it]Eval bleu for test set:  70%|██████▉   | 188/269 [17:08<08:04,  5.98s/it]Eval bleu for test set:  70%|███████   | 189/269 [17:14<07:58,  5.98s/it]Eval bleu for test set:  71%|███████   | 190/269 [17:19<07:43,  5.86s/it]Eval bleu for test set:  71%|███████   | 191/269 [17:25<07:24,  5.70s/it]Eval bleu for test set:  71%|███████▏  | 192/269 [17:30<07:08,  5.56s/it]Eval bleu for test set:  72%|███████▏  | 193/269 [17:35<06:56,  5.48s/it]Eval bleu for test set:  72%|███████▏  | 194/269 [17:41<06:46,  5.43s/it]Eval bleu for test set:  72%|███████▏  | 195/269 [17:46<06:38,  5.38s/it]Eval bleu for test set:  73%|███████▎  | 196/269 [17:51<06:31,  5.36s/it]Eval bleu for test set:  73%|███████▎  | 197/269 [17:56<06:24,  5.34s/it]Eval bleu for test set:  74%|███████▎  | 198/269 [18:02<06:21,  5.37s/it]Eval bleu for test set:  74%|███████▍  | 199/269 [18:08<06:28,  5.56s/it]Eval bleu for test set:  74%|███████▍  | 200/269 [18:14<06:32,  5.68s/it]Eval bleu for test set:  75%|███████▍  | 201/269 [18:20<06:33,  5.78s/it]Eval bleu for test set:  75%|███████▌  | 202/269 [18:26<06:30,  5.83s/it]Eval bleu for test set:  75%|███████▌  | 203/269 [18:32<06:27,  5.87s/it]Eval bleu for test set:  76%|███████▌  | 204/269 [18:38<06:24,  5.91s/it]Eval bleu for test set:  76%|███████▌  | 205/269 [18:44<06:19,  5.92s/it]Eval bleu for test set:  77%|███████▋  | 206/269 [18:50<06:12,  5.91s/it]Eval bleu for test set:  77%|███████▋  | 207/269 [18:56<06:07,  5.92s/it]Eval bleu for test set:  77%|███████▋  | 208/269 [19:01<06:00,  5.90s/it]Eval bleu for test set:  78%|███████▊  | 209/269 [19:07<05:55,  5.93s/it]Eval bleu for test set:  78%|███████▊  | 210/269 [19:13<05:50,  5.94s/it]Eval bleu for test set:  78%|███████▊  | 211/269 [19:19<05:44,  5.94s/it]Eval bleu for test set:  79%|███████▉  | 212/269 [19:25<05:38,  5.94s/it]Eval bleu for test set:  79%|███████▉  | 213/269 [19:31<05:33,  5.95s/it]Eval bleu for test set:  80%|███████▉  | 214/269 [19:37<05:26,  5.94s/it]Eval bleu for test set:  80%|███████▉  | 215/269 [19:43<05:21,  5.94s/it]Eval bleu for test set:  80%|████████  | 216/269 [19:49<05:15,  5.95s/it]Eval bleu for test set:  81%|████████  | 217/269 [19:55<05:09,  5.96s/it]Eval bleu for test set:  81%|████████  | 218/269 [20:01<05:04,  5.97s/it]Eval bleu for test set:  81%|████████▏ | 219/269 [20:07<04:58,  5.96s/it]Eval bleu for test set:  82%|████████▏ | 220/269 [20:13<04:52,  5.96s/it]Eval bleu for test set:  82%|████████▏ | 221/269 [20:19<04:45,  5.95s/it]Eval bleu for test set:  83%|████████▎ | 222/269 [20:25<04:39,  5.94s/it]Eval bleu for test set:  83%|████████▎ | 223/269 [20:31<04:33,  5.94s/it]Eval bleu for test set:  83%|████████▎ | 224/269 [20:37<04:27,  5.95s/it]Eval bleu for test set:  84%|████████▎ | 225/269 [20:43<04:21,  5.95s/it]Eval bleu for test set:  84%|████████▍ | 226/269 [20:49<04:15,  5.95s/it]Eval bleu for test set:  84%|████████▍ | 227/269 [20:55<04:10,  5.97s/it]Eval bleu for test set:  85%|████████▍ | 228/269 [21:01<04:04,  5.97s/it]Eval bleu for test set:  85%|████████▌ | 229/269 [21:07<03:58,  5.97s/it]Eval bleu for test set:  86%|████████▌ | 230/269 [21:12<03:52,  5.97s/it]Eval bleu for test set:  86%|████████▌ | 231/269 [21:18<03:46,  5.97s/it]Eval bleu for test set:  86%|████████▌ | 232/269 [21:24<03:41,  5.98s/it]Eval bleu for test set:  87%|████████▋ | 233/269 [21:30<03:35,  5.98s/it]Eval bleu for test set:  87%|████████▋ | 234/269 [21:36<03:28,  5.97s/it]Eval bleu for test set:  87%|████████▋ | 235/269 [21:42<03:23,  5.98s/it]Eval bleu for test set:  88%|████████▊ | 236/269 [21:48<03:17,  5.98s/it]Eval bleu for test set:  88%|████████▊ | 237/269 [21:54<03:11,  5.98s/it]Eval bleu for test set:  88%|████████▊ | 238/269 [22:00<03:04,  5.96s/it]Eval bleu for test set:  89%|████████▉ | 239/269 [22:06<02:58,  5.95s/it]Eval bleu for test set:  89%|████████▉ | 240/269 [22:12<02:52,  5.96s/it]Eval bleu for test set:  90%|████████▉ | 241/269 [22:18<02:45,  5.92s/it]Eval bleu for test set:  90%|████████▉ | 242/269 [22:24<02:40,  5.93s/it]Eval bleu for test set:  90%|█████████ | 243/269 [22:30<02:34,  5.94s/it]Eval bleu for test set:  91%|█████████ | 244/269 [22:36<02:28,  5.95s/it]Eval bleu for test set:  91%|█████████ | 245/269 [22:42<02:22,  5.95s/it]Eval bleu for test set:  91%|█████████▏| 246/269 [22:48<02:17,  5.96s/it]Eval bleu for test set:  92%|█████████▏| 247/269 [22:54<02:11,  5.96s/it]Eval bleu for test set:  92%|█████████▏| 248/269 [23:00<02:05,  5.96s/it]Eval bleu for test set:  93%|█████████▎| 249/269 [23:06<01:59,  5.96s/it]Eval bleu for test set:  93%|█████████▎| 250/269 [23:12<01:53,  5.97s/it]Eval bleu for test set:  93%|█████████▎| 251/269 [23:18<01:47,  5.97s/it]Eval bleu for test set:  94%|█████████▎| 252/269 [23:24<01:41,  5.98s/it]Eval bleu for test set:  94%|█████████▍| 253/269 [23:30<01:35,  5.97s/it]Eval bleu for test set:  94%|█████████▍| 254/269 [23:36<01:29,  5.98s/it]Eval bleu for test set:  95%|█████████▍| 255/269 [23:42<01:23,  5.98s/it]Eval bleu for test set:  95%|█████████▌| 256/269 [23:48<01:17,  5.99s/it]Eval bleu for test set:  96%|█████████▌| 257/269 [23:54<01:11,  5.98s/it]Eval bleu for test set:  96%|█████████▌| 258/269 [24:00<01:05,  5.98s/it]Eval bleu for test set:  96%|█████████▋| 259/269 [24:06<00:59,  5.98s/it]Eval bleu for test set:  97%|█████████▋| 260/269 [24:12<00:53,  5.98s/it]Eval bleu for test set:  97%|█████████▋| 261/269 [24:17<00:47,  5.97s/it]Eval bleu for test set:  97%|█████████▋| 262/269 [24:23<00:41,  5.94s/it]Eval bleu for test set:  98%|█████████▊| 263/269 [24:29<00:35,  5.96s/it]Eval bleu for test set:  98%|█████████▊| 264/269 [24:35<00:29,  5.95s/it]Eval bleu for test set:  99%|█████████▊| 265/269 [24:41<00:23,  5.96s/it]Eval bleu for test set:  99%|█████████▉| 266/269 [24:47<00:17,  5.95s/it]Eval bleu for test set:  99%|█████████▉| 267/269 [24:53<00:11,  5.96s/it]Eval bleu for test set: 100%|█████████▉| 268/269 [24:59<00:05,  5.96s/it]Eval bleu for test set: 100%|██████████| 269/269 [25:05<00:00,  5.82s/it]Eval bleu for test set: 100%|██████████| 269/269 [25:05<00:00,  5.60s/it]
11/13/2022 06:25:33 - INFO - __main__ -   ***** Eval results *****
11/13/2022 06:25:33 - INFO - __main__ -     bleu = 70.55
11/13/2022 06:25:33 - INFO - __main__ -     codebleu = 71.517
11/13/2022 06:25:33 - INFO - __main__ -     em = 5.6485
11/13/2022 06:25:33 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeparameter_renaming + whether_refactoringbefore_refactoring :
11/13/2022 06:25:33 - INFO - __main__ -   [best-bleu] bleu-4: 70.55, em: 5.6485, codebleu: 71.5170

11/13/2022 06:25:33 - INFO - __main__ -   Finish and take 6h4m
11/13/2022 06:25:33 - INFO - __main__ -     ***** Testing *****
11/13/2022 06:25:33 - INFO - __main__ -     Batch size = 16
11/13/2022 06:25:33 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:25:33 - INFO - __main__ -   test11111111111
11/13/2022 06:25:33 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:25:33 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/parameter_renaming/after_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/parameter_renaming/after_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 06:25:33 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 06:25:33 - INFO - utils -   Read 4302 examples, avg src len: 75, avg trg len: 73, max src len: 205, max trg len: 201
11/13/2022 06:25:33 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/test_src_all.pt
11/13/2022 06:25:33 - INFO - utils -   加载前test666666666666666
ngram match: 0.7055054674619562, weighted ngram match: 0.7266926960179448, syntax_match: 0.7898231111746478, dataflow_match: 0.6386605632401234
  0%|          | 0/4302 [00:00<?, ?it/s] 50%|█████     | 2152/4302 [00:01<00:01, 1078.13it/s] 75%|███████▌  | 3228/4302 [00:04<00:01, 759.23it/s] 100%|██████████| 4302/4302 [00:04<00:00, 1075.32it/s]
11/13/2022 06:25:41 - INFO - utils -   加载后test77777777777777
11/13/2022 06:25:41 - INFO - __main__ -   加载成功test2222222222
11/13/2022 06:25:41 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 06:25:41 - INFO - __main__ -     Num examples = 4302
11/13/2022 06:25:41 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/269 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/269 [00:05<24:51,  5.56s/it]Eval bleu for test set:   1%|          | 2/269 [00:10<24:02,  5.40s/it]Eval bleu for test set:   1%|          | 3/269 [00:16<23:41,  5.34s/it]Eval bleu for test set:   1%|▏         | 4/269 [00:21<23:22,  5.29s/it]Eval bleu for test set:   2%|▏         | 5/269 [00:26<23:15,  5.29s/it]Eval bleu for test set:   2%|▏         | 6/269 [00:31<23:09,  5.28s/it]Eval bleu for test set:   3%|▎         | 7/269 [00:37<23:05,  5.29s/it]Eval bleu for test set:   3%|▎         | 8/269 [00:42<23:00,  5.29s/it]Eval bleu for test set:   3%|▎         | 9/269 [00:47<22:56,  5.29s/it]Eval bleu for test set:   4%|▎         | 10/269 [00:53<22:49,  5.29s/it]Eval bleu for test set:   4%|▍         | 11/269 [00:58<22:43,  5.28s/it]Eval bleu for test set:   4%|▍         | 12/269 [01:03<22:37,  5.28s/it]Eval bleu for test set:   5%|▍         | 13/269 [01:09<23:30,  5.51s/it]Eval bleu for test set:   5%|▌         | 14/269 [01:15<23:57,  5.64s/it]Eval bleu for test set:   6%|▌         | 15/269 [01:21<24:21,  5.75s/it]Eval bleu for test set:   6%|▌         | 16/269 [01:27<24:32,  5.82s/it]Eval bleu for test set:   6%|▋         | 17/269 [01:33<24:38,  5.87s/it]Eval bleu for test set:   7%|▋         | 18/269 [01:39<24:43,  5.91s/it]Eval bleu for test set:   7%|▋         | 19/269 [01:45<24:44,  5.94s/it]Eval bleu for test set:   7%|▋         | 20/269 [01:51<24:41,  5.95s/it]Eval bleu for test set:   8%|▊         | 21/269 [01:57<24:38,  5.96s/it]Eval bleu for test set:   8%|▊         | 22/269 [02:03<24:35,  5.98s/it]Eval bleu for test set:   9%|▊         | 23/269 [02:09<24:29,  5.97s/it]Eval bleu for test set:   9%|▉         | 24/269 [02:15<24:23,  5.97s/it]Eval bleu for test set:   9%|▉         | 25/269 [02:21<24:18,  5.98s/it]Eval bleu for test set:  10%|▉         | 26/269 [02:27<24:08,  5.96s/it]Eval bleu for test set:  10%|█         | 27/269 [02:33<24:01,  5.96s/it]Eval bleu for test set:  10%|█         | 28/269 [02:39<23:55,  5.96s/it]Eval bleu for test set:  11%|█         | 29/269 [02:45<23:54,  5.98s/it]Eval bleu for test set:  11%|█         | 30/269 [02:51<23:49,  5.98s/it]Eval bleu for test set:  12%|█▏        | 31/269 [02:57<23:42,  5.98s/it]Eval bleu for test set:  12%|█▏        | 32/269 [03:03<23:38,  5.98s/it]Eval bleu for test set:  12%|█▏        | 33/269 [03:09<23:34,  5.99s/it]Eval bleu for test set:  13%|█▎        | 34/269 [03:15<23:25,  5.98s/it]Eval bleu for test set:  13%|█▎        | 35/269 [03:21<23:18,  5.98s/it]Eval bleu for test set:  13%|█▎        | 36/269 [03:27<23:15,  5.99s/it]Eval bleu for test set:  14%|█▍        | 37/269 [03:33<23:06,  5.98s/it]Eval bleu for test set:  14%|█▍        | 38/269 [03:39<23:01,  5.98s/it]Eval bleu for test set:  14%|█▍        | 39/269 [03:45<22:48,  5.95s/it]Eval bleu for test set:  15%|█▍        | 40/269 [03:51<22:45,  5.96s/it]Eval bleu for test set:  15%|█▌        | 41/269 [03:56<22:36,  5.95s/it]Eval bleu for test set:  16%|█▌        | 42/269 [04:02<22:25,  5.93s/it]Eval bleu for test set:  16%|█▌        | 43/269 [04:08<22:24,  5.95s/it]Eval bleu for test set:  16%|█▋        | 44/269 [04:14<22:18,  5.95s/it]Eval bleu for test set:  17%|█▋        | 45/269 [04:20<21:59,  5.89s/it]Eval bleu for test set:  17%|█▋        | 46/269 [04:25<21:11,  5.70s/it]Eval bleu for test set:  17%|█▋        | 47/269 [04:31<20:37,  5.58s/it]Eval bleu for test set:  18%|█▊        | 48/269 [04:36<20:13,  5.49s/it]Eval bleu for test set:  18%|█▊        | 49/269 [04:41<19:53,  5.43s/it]Eval bleu for test set:  19%|█▊        | 50/269 [04:46<19:36,  5.37s/it]Eval bleu for test set:  19%|█▉        | 51/269 [04:52<19:22,  5.33s/it]Eval bleu for test set:  19%|█▉        | 52/269 [04:57<19:13,  5.32s/it]Eval bleu for test set:  20%|█▉        | 53/269 [05:02<19:04,  5.30s/it]Eval bleu for test set:  20%|██        | 54/269 [05:07<18:57,  5.29s/it]Eval bleu for test set:  20%|██        | 55/269 [05:13<18:52,  5.29s/it]Eval bleu for test set:  21%|██        | 56/269 [05:18<18:46,  5.29s/it]Eval bleu for test set:  21%|██        | 57/269 [05:23<18:40,  5.28s/it]Eval bleu for test set:  22%|██▏       | 58/269 [05:29<18:33,  5.28s/it]Eval bleu for test set:  22%|██▏       | 59/269 [05:34<18:29,  5.28s/it]Eval bleu for test set:  22%|██▏       | 60/269 [05:39<18:24,  5.29s/it]Eval bleu for test set:  23%|██▎       | 61/269 [05:44<18:19,  5.29s/it]Eval bleu for test set:  23%|██▎       | 62/269 [05:50<18:13,  5.28s/it]Eval bleu for test set:  23%|██▎       | 63/269 [05:55<18:07,  5.28s/it]Eval bleu for test set:  24%|██▍       | 64/269 [06:00<18:00,  5.27s/it]Eval bleu for test set:  24%|██▍       | 65/269 [06:06<17:55,  5.27s/it]Eval bleu for test set:  25%|██▍       | 66/269 [06:11<17:50,  5.27s/it]Eval bleu for test set:  25%|██▍       | 67/269 [06:16<17:46,  5.28s/it]Eval bleu for test set:  25%|██▌       | 68/269 [06:21<17:42,  5.28s/it]Eval bleu for test set:  26%|██▌       | 69/269 [06:27<17:37,  5.29s/it]Eval bleu for test set:  26%|██▌       | 70/269 [06:32<17:30,  5.28s/it]Eval bleu for test set:  26%|██▋       | 71/269 [06:37<17:26,  5.28s/it]Eval bleu for test set:  27%|██▋       | 72/269 [06:42<17:15,  5.26s/it]Eval bleu for test set:  27%|██▋       | 73/269 [06:48<17:10,  5.26s/it]Eval bleu for test set:  28%|██▊       | 74/269 [06:53<17:07,  5.27s/it]Eval bleu for test set:  28%|██▊       | 75/269 [06:58<17:03,  5.27s/it]Eval bleu for test set:  28%|██▊       | 76/269 [07:03<16:53,  5.25s/it]Eval bleu for test set:  29%|██▊       | 77/269 [07:09<16:49,  5.26s/it]Eval bleu for test set:  29%|██▉       | 78/269 [07:14<16:44,  5.26s/it]Eval bleu for test set:  29%|██▉       | 79/269 [07:19<16:40,  5.27s/it]Eval bleu for test set:  30%|██▉       | 80/269 [07:25<16:36,  5.27s/it]Eval bleu for test set:  30%|███       | 81/269 [07:30<16:34,  5.29s/it]Eval bleu for test set:  30%|███       | 82/269 [07:35<16:28,  5.29s/it]Eval bleu for test set:  31%|███       | 83/269 [07:40<16:23,  5.29s/it]Eval bleu for test set:  31%|███       | 84/269 [07:46<16:18,  5.29s/it]Eval bleu for test set:  32%|███▏      | 85/269 [07:51<16:11,  5.28s/it]Eval bleu for test set:  32%|███▏      | 86/269 [07:56<16:07,  5.29s/it]Eval bleu for test set:  32%|███▏      | 87/269 [08:02<16:00,  5.28s/it]Eval bleu for test set:  33%|███▎      | 88/269 [08:07<15:54,  5.27s/it]Eval bleu for test set:  33%|███▎      | 89/269 [08:12<15:49,  5.27s/it]Eval bleu for test set:  33%|███▎      | 90/269 [08:17<15:44,  5.28s/it]Eval bleu for test set:  34%|███▍      | 91/269 [08:23<15:36,  5.26s/it]Eval bleu for test set:  34%|███▍      | 92/269 [08:28<15:32,  5.27s/it]Eval bleu for test set:  35%|███▍      | 93/269 [08:33<15:27,  5.27s/it]Eval bleu for test set:  35%|███▍      | 94/269 [08:38<15:22,  5.27s/it]Eval bleu for test set:  35%|███▌      | 95/269 [08:44<15:18,  5.28s/it]Eval bleu for test set:  36%|███▌      | 96/269 [08:49<15:13,  5.28s/it]Eval bleu for test set:  36%|███▌      | 97/269 [08:54<15:08,  5.28s/it]Eval bleu for test set:  36%|███▋      | 98/269 [09:00<15:03,  5.28s/it]Eval bleu for test set:  37%|███▋      | 99/269 [09:05<14:58,  5.29s/it]Eval bleu for test set:  37%|███▋      | 100/269 [09:10<14:53,  5.29s/it]Eval bleu for test set:  38%|███▊      | 101/269 [09:15<14:45,  5.27s/it]Eval bleu for test set:  38%|███▊      | 102/269 [09:21<14:39,  5.27s/it]Eval bleu for test set:  38%|███▊      | 103/269 [09:26<14:35,  5.27s/it]Eval bleu for test set:  39%|███▊      | 104/269 [09:31<14:29,  5.27s/it]Eval bleu for test set:  39%|███▉      | 105/269 [09:37<14:23,  5.26s/it]Eval bleu for test set:  39%|███▉      | 106/269 [09:42<14:18,  5.27s/it]Eval bleu for test set:  40%|███▉      | 107/269 [09:47<14:13,  5.27s/it]Eval bleu for test set:  40%|████      | 108/269 [09:52<14:08,  5.27s/it]Eval bleu for test set:  41%|████      | 109/269 [09:58<14:03,  5.27s/it]Eval bleu for test set:  41%|████      | 110/269 [10:03<13:59,  5.28s/it]Eval bleu for test set:  41%|████▏     | 111/269 [10:08<13:54,  5.28s/it]Eval bleu for test set:  42%|████▏     | 112/269 [10:13<13:49,  5.28s/it]Eval bleu for test set:  42%|████▏     | 113/269 [10:19<13:44,  5.29s/it]Eval bleu for test set:  42%|████▏     | 114/269 [10:24<13:39,  5.29s/it]Eval bleu for test set:  43%|████▎     | 115/269 [10:29<13:34,  5.29s/it]Eval bleu for test set:  43%|████▎     | 116/269 [10:35<13:27,  5.28s/it]Eval bleu for test set:  43%|████▎     | 117/269 [10:40<13:22,  5.28s/it]Eval bleu for test set:  44%|████▍     | 118/269 [10:45<13:17,  5.28s/it]Eval bleu for test set:  44%|████▍     | 119/269 [10:50<13:12,  5.28s/it]Eval bleu for test set:  45%|████▍     | 120/269 [10:56<13:07,  5.29s/it]Eval bleu for test set:  45%|████▍     | 121/269 [11:01<13:01,  5.28s/it]Eval bleu for test set:  45%|████▌     | 122/269 [11:06<12:55,  5.28s/it]Eval bleu for test set:  46%|████▌     | 123/269 [11:12<12:51,  5.28s/it]Eval bleu for test set:  46%|████▌     | 124/269 [11:17<12:43,  5.26s/it]Eval bleu for test set:  46%|████▋     | 125/269 [11:22<12:39,  5.27s/it]Eval bleu for test set:  47%|████▋     | 126/269 [11:27<12:35,  5.28s/it]Eval bleu for test set:  47%|████▋     | 127/269 [11:33<12:30,  5.28s/it]Eval bleu for test set:  48%|████▊     | 128/269 [11:38<12:25,  5.29s/it]Eval bleu for test set:  48%|████▊     | 129/269 [11:43<12:20,  5.29s/it]Eval bleu for test set:  48%|████▊     | 130/269 [11:49<12:16,  5.30s/it]Eval bleu for test set:  49%|████▊     | 131/269 [11:54<12:09,  5.28s/it]Eval bleu for test set:  49%|████▉     | 132/269 [11:59<12:03,  5.28s/it]Eval bleu for test set:  49%|████▉     | 133/269 [12:04<11:57,  5.28s/it]Eval bleu for test set:  50%|████▉     | 134/269 [12:10<11:51,  5.27s/it]Eval bleu for test set:  50%|█████     | 135/269 [12:15<11:46,  5.28s/it]Eval bleu for test set:  51%|█████     | 136/269 [12:20<11:41,  5.28s/it]Eval bleu for test set:  51%|█████     | 137/269 [12:25<11:36,  5.27s/it]Eval bleu for test set:  51%|█████▏    | 138/269 [12:31<11:30,  5.27s/it]Eval bleu for test set:  52%|█████▏    | 139/269 [12:36<11:24,  5.27s/it]Eval bleu for test set:  52%|█████▏    | 140/269 [12:41<11:15,  5.24s/it]Eval bleu for test set:  52%|█████▏    | 141/269 [12:46<11:11,  5.25s/it]Eval bleu for test set:  53%|█████▎    | 142/269 [12:52<11:05,  5.24s/it]Eval bleu for test set:  53%|█████▎    | 143/269 [12:57<11:01,  5.25s/it]Eval bleu for test set:  54%|█████▎    | 144/269 [13:02<10:56,  5.25s/it]Eval bleu for test set:  54%|█████▍    | 145/269 [13:07<10:53,  5.27s/it]Eval bleu for test set:  54%|█████▍    | 146/269 [13:13<10:48,  5.27s/it]Eval bleu for test set:  55%|█████▍    | 147/269 [13:18<10:42,  5.27s/it]Eval bleu for test set:  55%|█████▌    | 148/269 [13:23<10:38,  5.28s/it]Eval bleu for test set:  55%|█████▌    | 149/269 [13:29<10:32,  5.27s/it]Eval bleu for test set:  56%|█████▌    | 150/269 [13:34<10:28,  5.28s/it]Eval bleu for test set:  56%|█████▌    | 151/269 [13:39<10:21,  5.27s/it]Eval bleu for test set:  57%|█████▋    | 152/269 [13:44<10:14,  5.25s/it]Eval bleu for test set:  57%|█████▋    | 153/269 [13:50<10:10,  5.26s/it]Eval bleu for test set:  57%|█████▋    | 154/269 [13:55<10:04,  5.26s/it]Eval bleu for test set:  58%|█████▊    | 155/269 [14:00<09:58,  5.25s/it]Eval bleu for test set:  58%|█████▊    | 156/269 [14:05<09:53,  5.25s/it]Eval bleu for test set:  58%|█████▊    | 157/269 [14:11<09:49,  5.26s/it]Eval bleu for test set:  59%|█████▊    | 158/269 [14:16<09:44,  5.27s/it]Eval bleu for test set:  59%|█████▉    | 159/269 [14:21<09:39,  5.27s/it]Eval bleu for test set:  59%|█████▉    | 160/269 [14:27<09:35,  5.28s/it]Eval bleu for test set:  60%|█████▉    | 161/269 [14:32<09:28,  5.27s/it]Eval bleu for test set:  60%|██████    | 162/269 [14:37<09:24,  5.27s/it]Eval bleu for test set:  61%|██████    | 163/269 [14:42<09:18,  5.27s/it]Eval bleu for test set:  61%|██████    | 164/269 [14:48<09:13,  5.27s/it]Eval bleu for test set:  61%|██████▏   | 165/269 [14:53<09:08,  5.28s/it]Eval bleu for test set:  62%|██████▏   | 166/269 [14:58<09:03,  5.28s/it]Eval bleu for test set:  62%|██████▏   | 167/269 [15:03<08:58,  5.28s/it]Eval bleu for test set:  62%|██████▏   | 168/269 [15:09<08:52,  5.28s/it]Eval bleu for test set:  63%|██████▎   | 169/269 [15:14<08:47,  5.27s/it]Eval bleu for test set:  63%|██████▎   | 170/269 [15:19<08:41,  5.27s/it]Eval bleu for test set:  64%|██████▎   | 171/269 [15:24<08:36,  5.27s/it]Eval bleu for test set:  64%|██████▍   | 172/269 [15:30<08:31,  5.27s/it]Eval bleu for test set:  64%|██████▍   | 173/269 [15:35<08:24,  5.26s/it]Eval bleu for test set:  65%|██████▍   | 174/269 [15:40<08:20,  5.26s/it]Eval bleu for test set:  65%|██████▌   | 175/269 [15:46<08:16,  5.28s/it]Eval bleu for test set:  65%|██████▌   | 176/269 [15:51<08:12,  5.29s/it]Eval bleu for test set:  66%|██████▌   | 177/269 [15:57<08:18,  5.42s/it]Eval bleu for test set:  66%|██████▌   | 178/269 [16:03<08:29,  5.60s/it]Eval bleu for test set:  67%|██████▋   | 179/269 [16:08<08:25,  5.62s/it]Eval bleu for test set:  67%|██████▋   | 180/269 [16:14<08:29,  5.73s/it]Eval bleu for test set:  67%|██████▋   | 181/269 [16:20<08:31,  5.82s/it]Eval bleu for test set:  68%|██████▊   | 182/269 [16:26<08:29,  5.86s/it]Eval bleu for test set:  68%|██████▊   | 183/269 [16:32<08:25,  5.88s/it]Eval bleu for test set:  68%|██████▊   | 184/269 [16:37<08:03,  5.69s/it]Eval bleu for test set:  69%|██████▉   | 185/269 [16:43<07:48,  5.58s/it]Eval bleu for test set:  69%|██████▉   | 186/269 [16:48<07:35,  5.49s/it]Eval bleu for test set:  70%|██████▉   | 187/269 [16:53<07:25,  5.43s/it]Eval bleu for test set:  70%|██████▉   | 188/269 [16:59<07:15,  5.38s/it]Eval bleu for test set:  70%|███████   | 189/269 [17:04<07:08,  5.35s/it]Eval bleu for test set:  71%|███████   | 190/269 [17:09<07:01,  5.33s/it]Eval bleu for test set:  71%|███████   | 191/269 [17:14<06:55,  5.32s/it]Eval bleu for test set:  71%|███████▏  | 192/269 [17:20<06:48,  5.30s/it]Eval bleu for test set:  72%|███████▏  | 193/269 [17:25<06:41,  5.28s/it]Eval bleu for test set:  72%|███████▏  | 194/269 [17:30<06:36,  5.29s/it]Eval bleu for test set:  72%|███████▏  | 195/269 [17:36<06:31,  5.29s/it]Eval bleu for test set:  73%|███████▎  | 196/269 [17:41<06:26,  5.29s/it]Eval bleu for test set:  73%|███████▎  | 197/269 [17:46<06:20,  5.29s/it]Eval bleu for test set:  74%|███████▎  | 198/269 [17:51<06:15,  5.29s/it]Eval bleu for test set:  74%|███████▍  | 199/269 [17:57<06:10,  5.29s/it]Eval bleu for test set:  74%|███████▍  | 200/269 [18:02<06:04,  5.28s/it]Eval bleu for test set:  75%|███████▍  | 201/269 [18:07<05:59,  5.28s/it]Eval bleu for test set:  75%|███████▌  | 202/269 [18:12<05:53,  5.27s/it]Eval bleu for test set:  75%|███████▌  | 203/269 [18:18<05:47,  5.27s/it]Eval bleu for test set:  76%|███████▌  | 204/269 [18:23<05:43,  5.28s/it]Eval bleu for test set:  76%|███████▌  | 205/269 [18:28<05:38,  5.28s/it]Eval bleu for test set:  77%|███████▋  | 206/269 [18:34<05:32,  5.28s/it]Eval bleu for test set:  77%|███████▋  | 207/269 [18:39<05:27,  5.28s/it]Eval bleu for test set:  77%|███████▋  | 208/269 [18:44<05:21,  5.27s/it]Eval bleu for test set:  78%|███████▊  | 209/269 [18:49<05:16,  5.28s/it]Eval bleu for test set:  78%|███████▊  | 210/269 [18:55<05:11,  5.28s/it]Eval bleu for test set:  78%|███████▊  | 211/269 [19:00<05:06,  5.28s/it]Eval bleu for test set:  79%|███████▉  | 212/269 [19:05<05:01,  5.29s/it]Eval bleu for test set:  79%|███████▉  | 213/269 [19:11<04:56,  5.29s/it]Eval bleu for test set:  80%|███████▉  | 214/269 [19:16<04:50,  5.28s/it]Eval bleu for test set:  80%|███████▉  | 215/269 [19:21<04:45,  5.28s/it]Eval bleu for test set:  80%|████████  | 216/269 [19:26<04:39,  5.28s/it]Eval bleu for test set:  81%|████████  | 217/269 [19:32<04:34,  5.27s/it]Eval bleu for test set:  81%|████████  | 218/269 [19:37<04:28,  5.27s/it]Eval bleu for test set:  81%|████████▏ | 219/269 [19:42<04:23,  5.28s/it]Eval bleu for test set:  82%|████████▏ | 220/269 [19:48<04:18,  5.27s/it]Eval bleu for test set:  82%|████████▏ | 221/269 [19:53<04:12,  5.27s/it]Eval bleu for test set:  83%|████████▎ | 222/269 [19:58<04:07,  5.26s/it]Eval bleu for test set:  83%|████████▎ | 223/269 [20:03<04:01,  5.26s/it]Eval bleu for test set:  83%|████████▎ | 224/269 [20:09<03:56,  5.26s/it]Eval bleu for test set:  84%|████████▎ | 225/269 [20:14<03:51,  5.26s/it]Eval bleu for test set:  84%|████████▍ | 226/269 [20:19<03:46,  5.26s/it]Eval bleu for test set:  84%|████████▍ | 227/269 [20:24<03:41,  5.27s/it]Eval bleu for test set:  85%|████████▍ | 228/269 [20:30<03:35,  5.27s/it]Eval bleu for test set:  85%|████████▌ | 229/269 [20:35<03:30,  5.27s/it]Eval bleu for test set:  86%|████████▌ | 230/269 [20:40<03:25,  5.27s/it]Eval bleu for test set:  86%|████████▌ | 231/269 [20:45<03:20,  5.28s/it]Eval bleu for test set:  86%|████████▌ | 232/269 [20:51<03:15,  5.28s/it]Eval bleu for test set:  87%|████████▋ | 233/269 [20:56<03:09,  5.27s/it]Eval bleu for test set:  87%|████████▋ | 234/269 [21:01<03:04,  5.27s/it]Eval bleu for test set:  87%|████████▋ | 235/269 [21:07<02:59,  5.29s/it]Eval bleu for test set:  88%|████████▊ | 236/269 [21:12<02:55,  5.31s/it]Eval bleu for test set:  88%|████████▊ | 237/269 [21:18<02:52,  5.40s/it]Eval bleu for test set:  88%|████████▊ | 238/269 [21:23<02:52,  5.56s/it]Eval bleu for test set:  89%|████████▉ | 239/269 [21:29<02:50,  5.67s/it]Eval bleu for test set:  89%|████████▉ | 240/269 [21:35<02:47,  5.76s/it]Eval bleu for test set:  90%|████████▉ | 241/269 [21:41<02:42,  5.80s/it]Eval bleu for test set:  90%|████████▉ | 242/269 [21:47<02:37,  5.85s/it]Eval bleu for test set:  90%|█████████ | 243/269 [21:53<02:33,  5.89s/it]Eval bleu for test set:  91%|█████████ | 244/269 [21:59<02:28,  5.92s/it]Eval bleu for test set:  91%|█████████ | 245/269 [22:05<02:22,  5.95s/it]Eval bleu for test set:  91%|█████████▏| 246/269 [22:11<02:17,  5.96s/it]Eval bleu for test set:  92%|█████████▏| 247/269 [22:17<02:11,  5.96s/it]Eval bleu for test set:  92%|█████████▏| 248/269 [22:23<02:04,  5.95s/it]Eval bleu for test set:  93%|█████████▎| 249/269 [22:29<01:59,  5.96s/it]Eval bleu for test set:  93%|█████████▎| 250/269 [22:35<01:53,  5.97s/it]Eval bleu for test set:  93%|█████████▎| 251/269 [22:41<01:47,  5.97s/it]Eval bleu for test set:  94%|█████████▎| 252/269 [22:47<01:41,  5.97s/it]Eval bleu for test set:  94%|█████████▍| 253/269 [22:53<01:35,  5.97s/it]Eval bleu for test set:  94%|█████████▍| 254/269 [22:59<01:29,  5.97s/it]Eval bleu for test set:  95%|█████████▍| 255/269 [23:05<01:23,  5.97s/it]Eval bleu for test set:  95%|█████████▌| 256/269 [23:11<01:17,  5.98s/it]Eval bleu for test set:  96%|█████████▌| 257/269 [23:17<01:11,  5.98s/it]Eval bleu for test set:  96%|█████████▌| 258/269 [23:23<01:05,  5.98s/it]Eval bleu for test set:  96%|█████████▋| 259/269 [23:29<00:59,  5.99s/it]Eval bleu for test set:  97%|█████████▋| 260/269 [23:35<00:53,  5.99s/it]Eval bleu for test set:  97%|█████████▋| 261/269 [23:41<00:47,  5.97s/it]Eval bleu for test set:  97%|█████████▋| 262/269 [23:47<00:41,  5.95s/it]Eval bleu for test set:  98%|█████████▊| 263/269 [23:53<00:35,  5.96s/it]Eval bleu for test set:  98%|█████████▊| 264/269 [23:59<00:29,  5.94s/it]Eval bleu for test set:  99%|█████████▊| 265/269 [24:05<00:23,  5.95s/it]Eval bleu for test set:  99%|█████████▉| 266/269 [24:10<00:17,  5.95s/it]Eval bleu for test set:  99%|█████████▉| 267/269 [24:16<00:11,  5.96s/it]Eval bleu for test set: 100%|█████████▉| 268/269 [24:22<00:05,  5.97s/it]Eval bleu for test set: 100%|██████████| 269/269 [24:28<00:00,  5.82s/it]Eval bleu for test set: 100%|██████████| 269/269 [24:28<00:00,  5.46s/it]
11/13/2022 06:54:23 - INFO - __main__ -   ***** Eval results *****
11/13/2022 06:54:23 - INFO - __main__ -     bleu = 68.32
11/13/2022 06:54:23 - INFO - __main__ -     codebleu = 69.6573
11/13/2022 06:54:23 - INFO - __main__ -     em = 4.6258
11/13/2022 06:54:23 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeparameter_renaming + whether_refactoringafter_refactoring :
11/13/2022 06:54:23 - INFO - __main__ -   [best-bleu] bleu-4: 68.32, em: 4.6258, codebleu: 69.6573

11/13/2022 06:54:23 - INFO - __main__ -   Finish and take 6h32m
11/13/2022 06:54:23 - INFO - __main__ -     ***** Testing *****
11/13/2022 06:54:23 - INFO - __main__ -     Batch size = 16
11/13/2022 06:54:23 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:54:24 - INFO - __main__ -   test11111111111
11/13/2022 06:54:24 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:54:24 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/boolean_exchange/before_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/boolean_exchange/before_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 06:54:24 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 06:54:24 - INFO - utils -   Read 146 examples, avg src len: 76, avg trg len: 74, max src len: 123, max trg len: 118
11/13/2022 06:54:24 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/test_src_all.pt
11/13/2022 06:54:24 - INFO - utils -   加载前test666666666666666
ngram match: 0.6831760704953015, weighted ngram match: 0.7083964549648363, syntax_match: 0.7780674576185798, dataflow_match: 0.6166522201646901
  0%|          | 0/146 [00:00<?, ?it/s] 51%|█████     | 74/146 [00:00<00:00, 531.61it/s] 88%|████████▊ | 128/146 [00:00<00:00, 513.34it/s]100%|██████████| 146/146 [00:00<00:00, 588.51it/s]
11/13/2022 06:54:24 - INFO - utils -   加载后test77777777777777
11/13/2022 06:54:24 - INFO - __main__ -   加载成功test2222222222
11/13/2022 06:54:24 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 06:54:24 - INFO - __main__ -     Num examples = 146
11/13/2022 06:54:24 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/10 [00:00<?, ?it/s]Eval bleu for test set:  10%|█         | 1/10 [00:05<00:50,  5.59s/it]Eval bleu for test set:  20%|██        | 2/10 [00:10<00:43,  5.41s/it]Eval bleu for test set:  30%|███       | 3/10 [00:16<00:37,  5.34s/it]Eval bleu for test set:  40%|████      | 4/10 [00:21<00:31,  5.33s/it]Eval bleu for test set:  50%|█████     | 5/10 [00:26<00:26,  5.31s/it]Eval bleu for test set:  60%|██████    | 6/10 [00:32<00:21,  5.30s/it]Eval bleu for test set:  70%|███████   | 7/10 [00:37<00:15,  5.28s/it]Eval bleu for test set:  80%|████████  | 8/10 [00:42<00:10,  5.28s/it]Eval bleu for test set:  90%|█████████ | 9/10 [00:47<00:05,  5.25s/it]Eval bleu for test set: 100%|██████████| 10/10 [00:50<00:00,  4.41s/it]Eval bleu for test set: 100%|██████████| 10/10 [00:50<00:00,  5.03s/it]
11/13/2022 06:55:23 - INFO - __main__ -   ***** Eval results *****
11/13/2022 06:55:23 - INFO - __main__ -     bleu = 72.05
11/13/2022 06:55:23 - INFO - __main__ -     codebleu = 72.352
11/13/2022 06:55:23 - INFO - __main__ -     em = 6.1644
11/13/2022 06:55:23 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeboolean_exchange + whether_refactoringbefore_refactoring :
11/13/2022 06:55:23 - INFO - __main__ -   [best-bleu] bleu-4: 72.05, em: 6.1644, codebleu: 72.3520

11/13/2022 06:55:23 - INFO - __main__ -   Finish and take 6h33m
11/13/2022 06:55:23 - INFO - __main__ -     ***** Testing *****
11/13/2022 06:55:23 - INFO - __main__ -     Batch size = 16
11/13/2022 06:55:23 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:55:23 - INFO - __main__ -   test11111111111
11/13/2022 06:55:23 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:55:23 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/boolean_exchange/after_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/boolean_exchange/after_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 06:55:23 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 06:55:23 - INFO - utils -   Read 146 examples, avg src len: 67, avg trg len: 66, max src len: 111, max trg len: 108
11/13/2022 06:55:23 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/boolean_exchange_20221113_065523/test_src_all.pt
11/13/2022 06:55:23 - INFO - utils -   加载前test666666666666666
ngram match: 0.720450253125755, weighted ngram match: 0.7408083701644109, syntax_match: 0.7764047866805411, dataflow_match: 0.6564163217031342
  0%|          | 0/146 [00:00<?, ?it/s] 51%|█████     | 74/146 [00:00<00:00, 531.32it/s] 88%|████████▊ | 128/146 [00:00<00:00, 511.79it/s]100%|██████████| 146/146 [00:00<00:00, 587.00it/s]
11/13/2022 06:55:24 - INFO - utils -   加载后test77777777777777
11/13/2022 06:55:24 - INFO - __main__ -   加载成功test2222222222
11/13/2022 06:55:24 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 06:55:24 - INFO - __main__ -     Num examples = 146
11/13/2022 06:55:24 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/10 [00:00<?, ?it/s]Eval bleu for test set:  10%|█         | 1/10 [00:05<00:50,  5.61s/it]Eval bleu for test set:  20%|██        | 2/10 [00:10<00:43,  5.42s/it]Eval bleu for test set:  30%|███       | 3/10 [00:16<00:37,  5.35s/it]Eval bleu for test set:  40%|████      | 4/10 [00:21<00:31,  5.32s/it]Eval bleu for test set:  50%|█████     | 5/10 [00:26<00:26,  5.30s/it]Eval bleu for test set:  60%|██████    | 6/10 [00:31<00:21,  5.29s/it]Eval bleu for test set:  70%|███████   | 7/10 [00:37<00:15,  5.27s/it]Eval bleu for test set:  80%|████████  | 8/10 [00:42<00:10,  5.27s/it]Eval bleu for test set:  90%|█████████ | 9/10 [00:47<00:05,  5.25s/it]Eval bleu for test set: 100%|██████████| 10/10 [00:50<00:00,  4.40s/it]Eval bleu for test set: 100%|██████████| 10/10 [00:50<00:00,  5.03s/it]
11/13/2022 06:56:22 - INFO - __main__ -   ***** Eval results *****
11/13/2022 06:56:22 - INFO - __main__ -     bleu = 62.39
11/13/2022 06:56:22 - INFO - __main__ -     codebleu = 66.3829
11/13/2022 06:56:22 - INFO - __main__ -     em = 0.6849
11/13/2022 06:56:22 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeboolean_exchange + whether_refactoringafter_refactoring :
11/13/2022 06:56:22 - INFO - __main__ -   [best-bleu] bleu-4: 62.39, em: 0.6849, codebleu: 66.3829

11/13/2022 06:56:22 - INFO - __main__ -   Finish and take 6h34m
11/13/2022 06:56:22 - INFO - __main__ -     ***** Testing *****
11/13/2022 06:56:22 - INFO - __main__ -     Batch size = 16
11/13/2022 06:56:22 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:56:23 - INFO - __main__ -   test11111111111
11/13/2022 06:56:23 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:56:23 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/convert_switch_to_if/before_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/convert_switch_to_if/before_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 06:56:23 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 06:56:23 - INFO - utils -   Read 166 examples, avg src len: 77, avg trg len: 76, max src len: 292, max trg len: 233
11/13/2022 06:56:23 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/boolean_exchange_20221113_065523/convert_switch_to_if_20221113_065622/test_src_all.pt
11/13/2022 06:56:23 - INFO - utils -   加载前test666666666666666
ngram match: 0.6238360855295815, weighted ngram match: 0.6409587770457926, syntax_match: 0.749138779527559, dataflow_match: 0.6413813459268005
  0%|          | 0/166 [00:00<?, ?it/s] 51%|█████     | 84/166 [00:00<00:00, 595.83it/s] 87%|████████▋ | 144/166 [00:00<00:00, 573.69it/s]100%|██████████| 166/166 [00:00<00:00, 665.08it/s]
11/13/2022 06:56:23 - INFO - utils -   加载后test77777777777777
11/13/2022 06:56:23 - INFO - __main__ -   加载成功test2222222222
11/13/2022 06:56:23 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 06:56:23 - INFO - __main__ -     Num examples = 166
11/13/2022 06:56:23 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/11 [00:00<?, ?it/s]Eval bleu for test set:   9%|▉         | 1/11 [00:05<00:55,  5.59s/it]Eval bleu for test set:  18%|█▊        | 2/11 [00:10<00:48,  5.41s/it]Eval bleu for test set:  27%|██▋       | 3/11 [00:16<00:42,  5.36s/it]Eval bleu for test set:  36%|███▋      | 4/11 [00:21<00:37,  5.33s/it]Eval bleu for test set:  45%|████▌     | 5/11 [00:26<00:31,  5.33s/it]Eval bleu for test set:  55%|█████▍    | 6/11 [00:32<00:26,  5.31s/it]Eval bleu for test set:  64%|██████▎   | 7/11 [00:37<00:21,  5.31s/it]Eval bleu for test set:  73%|███████▎  | 8/11 [00:42<00:15,  5.28s/it]Eval bleu for test set:  82%|████████▏ | 9/11 [00:47<00:10,  5.28s/it]Eval bleu for test set:  91%|█████████ | 10/11 [00:53<00:05,  5.29s/it]Eval bleu for test set: 100%|██████████| 11/11 [00:56<00:00,  4.68s/it]Eval bleu for test set: 100%|██████████| 11/11 [00:56<00:00,  5.14s/it]
11/13/2022 06:57:29 - INFO - __main__ -   ***** Eval results *****
11/13/2022 06:57:29 - INFO - __main__ -     bleu = 71.19
11/13/2022 06:57:29 - INFO - __main__ -     codebleu = 72.7473
11/13/2022 06:57:29 - INFO - __main__ -     em = 3.6145
11/13/2022 06:57:29 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeconvert_switch_to_if + whether_refactoringbefore_refactoring :
11/13/2022 06:57:29 - INFO - __main__ -   [best-bleu] bleu-4: 71.19, em: 3.6145, codebleu: 72.7473

11/13/2022 06:57:29 - INFO - __main__ -   Finish and take 6h36m
11/13/2022 06:57:29 - INFO - __main__ -     ***** Testing *****
11/13/2022 06:57:29 - INFO - __main__ -     Batch size = 16
11/13/2022 06:57:29 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:57:30 - INFO - __main__ -   test11111111111
11/13/2022 06:57:30 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:57:30 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/convert_switch_to_if/after_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/convert_switch_to_if/after_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 06:57:30 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 06:57:30 - INFO - utils -   Read 166 examples, avg src len: 79, avg trg len: 77, max src len: 299, max trg len: 253
11/13/2022 06:57:30 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/boolean_exchange_20221113_065523/convert_switch_to_if_20221113_065622/convert_switch_to_if_20221113_065729/test_src_all.pt
11/13/2022 06:57:30 - INFO - utils -   加载前test666666666666666
ngram match: 0.711920602862068, weighted ngram match: 0.7359793744662364, syntax_match: 0.8147921760391198, dataflow_match: 0.6472012917115177
  0%|          | 0/166 [00:00<?, ?it/s] 51%|█████     | 84/166 [00:00<00:00, 608.80it/s] 87%|████████▋ | 145/166 [00:00<00:00, 589.02it/s]100%|██████████| 166/166 [00:00<00:00, 677.52it/s]
11/13/2022 06:57:30 - INFO - utils -   加载后test77777777777777
11/13/2022 06:57:30 - INFO - __main__ -   加载成功test2222222222
11/13/2022 06:57:30 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 06:57:30 - INFO - __main__ -     Num examples = 166
11/13/2022 06:57:30 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/11 [00:00<?, ?it/s]Eval bleu for test set:   9%|▉         | 1/11 [00:05<00:55,  5.54s/it]Eval bleu for test set:  18%|█▊        | 2/11 [00:10<00:48,  5.39s/it]Eval bleu for test set:  27%|██▋       | 3/11 [00:16<00:42,  5.33s/it]Eval bleu for test set:  36%|███▋      | 4/11 [00:21<00:37,  5.31s/it]Eval bleu for test set:  45%|████▌     | 5/11 [00:26<00:31,  5.30s/it]Eval bleu for test set:  55%|█████▍    | 6/11 [00:31<00:26,  5.30s/it]Eval bleu for test set:  64%|██████▎   | 7/11 [00:37<00:21,  5.29s/it]Eval bleu for test set:  73%|███████▎  | 8/11 [00:42<00:15,  5.27s/it]Eval bleu for test set:  82%|████████▏ | 9/11 [00:47<00:10,  5.28s/it]Eval bleu for test set:  91%|█████████ | 10/11 [00:53<00:05,  5.28s/it]Eval bleu for test set: 100%|██████████| 11/11 [00:56<00:00,  4.66s/it]Eval bleu for test set: 100%|██████████| 11/11 [00:56<00:00,  5.12s/it]
11/13/2022 06:58:36 - INFO - __main__ -   ***** Eval results *****
11/13/2022 06:58:36 - INFO - __main__ -     bleu = 60.23
11/13/2022 06:58:36 - INFO - __main__ -     codebleu = 65.9784
11/13/2022 06:58:36 - INFO - __main__ -     em = 0.6024
11/13/2022 06:58:36 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeconvert_switch_to_if + whether_refactoringafter_refactoring :
11/13/2022 06:58:36 - INFO - __main__ -   [best-bleu] bleu-4: 60.23, em: 0.6024, codebleu: 65.9784

11/13/2022 06:58:36 - INFO - __main__ -   Finish and take 6h37m
11/13/2022 06:58:36 - INFO - __main__ -     ***** Testing *****
11/13/2022 06:58:36 - INFO - __main__ -     Batch size = 16
11/13/2022 06:58:36 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:58:37 - INFO - __main__ -   test11111111111
11/13/2022 06:58:37 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 06:58:37 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/insert_log_statement/before_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/insert_log_statement/before_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 06:58:37 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 06:58:37 - INFO - utils -   Read 6384 examples, avg src len: 74, avg trg len: 72, max src len: 292, max trg len: 233
11/13/2022 06:58:37 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/boolean_exchange_20221113_065523/convert_switch_to_if_20221113_065622/convert_switch_to_if_20221113_065729/insert_log_statement_20221113_065836/test_src_all.pt
11/13/2022 06:58:37 - INFO - utils -   加载前test666666666666666
ngram match: 0.602280819677791, weighted ngram match: 0.6283332345134517, syntax_match: 0.7897050205118187, dataflow_match: 0.6188151041666666
  0%|          | 0/6384 [00:00<?, ?it/s] 50%|█████     | 3192/6384 [00:02<00:02, 1122.39it/s] 75%|███████▌  | 4788/6384 [00:05<00:02, 784.71it/s] 100%|██████████| 6384/6384 [00:08<00:00, 682.13it/s]100%|██████████| 6384/6384 [00:08<00:00, 743.33it/s]
11/13/2022 06:58:48 - INFO - utils -   加载后test77777777777777
11/13/2022 06:58:48 - INFO - __main__ -   加载成功test2222222222
11/13/2022 06:58:48 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 06:58:48 - INFO - __main__ -     Num examples = 6384
11/13/2022 06:58:48 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/399 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/399 [00:05<36:21,  5.48s/it]Eval bleu for test set:   1%|          | 2/399 [00:10<35:31,  5.37s/it]Eval bleu for test set:   1%|          | 3/399 [00:15<34:57,  5.30s/it]Eval bleu for test set:   1%|          | 4/399 [00:21<34:49,  5.29s/it]Eval bleu for test set:   1%|▏         | 5/399 [00:26<34:44,  5.29s/it]Eval bleu for test set:   2%|▏         | 6/399 [00:31<34:37,  5.29s/it]Eval bleu for test set:   2%|▏         | 7/399 [00:37<34:26,  5.27s/it]Eval bleu for test set:   2%|▏         | 8/399 [00:42<34:18,  5.26s/it]Eval bleu for test set:   2%|▏         | 9/399 [00:47<34:15,  5.27s/it]Eval bleu for test set:   3%|▎         | 10/399 [00:52<34:12,  5.28s/it]Eval bleu for test set:   3%|▎         | 11/399 [00:58<34:07,  5.28s/it]Eval bleu for test set:   3%|▎         | 12/399 [01:03<34:02,  5.28s/it]Eval bleu for test set:   3%|▎         | 13/399 [01:08<33:54,  5.27s/it]Eval bleu for test set:   4%|▎         | 14/399 [01:13<33:50,  5.27s/it]Eval bleu for test set:   4%|▍         | 15/399 [01:19<33:46,  5.28s/it]Eval bleu for test set:   4%|▍         | 16/399 [01:24<33:39,  5.27s/it]Eval bleu for test set:   4%|▍         | 17/399 [01:29<33:33,  5.27s/it]Eval bleu for test set:   5%|▍         | 18/399 [01:35<33:26,  5.27s/it]Eval bleu for test set:   5%|▍         | 19/399 [01:40<33:13,  5.25s/it]Eval bleu for test set:   5%|▌         | 20/399 [01:45<33:10,  5.25s/it]Eval bleu for test set:   5%|▌         | 21/399 [01:50<33:05,  5.25s/it]Eval bleu for test set:   6%|▌         | 22/399 [01:56<33:05,  5.27s/it]Eval bleu for test set:   6%|▌         | 23/399 [02:01<33:00,  5.27s/it]Eval bleu for test set:   6%|▌         | 24/399 [02:06<32:57,  5.27s/it]Eval bleu for test set:   6%|▋         | 25/399 [02:11<32:54,  5.28s/it]Eval bleu for test set:   7%|▋         | 26/399 [02:17<32:48,  5.28s/it]Eval bleu for test set:   7%|▋         | 27/399 [02:22<32:44,  5.28s/it]Eval bleu for test set:   7%|▋         | 28/399 [02:27<32:41,  5.29s/it]Eval bleu for test set:   7%|▋         | 29/399 [02:33<32:34,  5.28s/it]Eval bleu for test set:   8%|▊         | 30/399 [02:38<32:25,  5.27s/it]Eval bleu for test set:   8%|▊         | 31/399 [02:43<32:21,  5.27s/it]Eval bleu for test set:   8%|▊         | 32/399 [02:48<32:12,  5.27s/it]Eval bleu for test set:   8%|▊         | 33/399 [02:54<32:08,  5.27s/it]Eval bleu for test set:   9%|▊         | 34/399 [02:59<32:02,  5.27s/it]Eval bleu for test set:   9%|▉         | 35/399 [03:04<31:52,  5.25s/it]Eval bleu for test set:   9%|▉         | 36/399 [03:09<31:47,  5.25s/it]Eval bleu for test set:   9%|▉         | 37/399 [03:15<31:41,  5.25s/it]Eval bleu for test set:  10%|▉         | 38/399 [03:20<31:39,  5.26s/it]Eval bleu for test set:  10%|▉         | 39/399 [03:25<31:37,  5.27s/it]Eval bleu for test set:  10%|█         | 40/399 [03:30<31:29,  5.26s/it]Eval bleu for test set:  10%|█         | 41/399 [03:36<31:25,  5.27s/it]Eval bleu for test set:  11%|█         | 42/399 [03:41<31:21,  5.27s/it]Eval bleu for test set:  11%|█         | 43/399 [03:46<31:17,  5.27s/it]Eval bleu for test set:  11%|█         | 44/399 [03:52<31:12,  5.27s/it]Eval bleu for test set:  11%|█▏        | 45/399 [03:57<30:57,  5.25s/it]Eval bleu for test set:  12%|█▏        | 46/399 [04:02<30:50,  5.24s/it]Eval bleu for test set:  12%|█▏        | 47/399 [04:07<30:49,  5.25s/it]Eval bleu for test set:  12%|█▏        | 48/399 [04:13<30:48,  5.27s/it]Eval bleu for test set:  12%|█▏        | 49/399 [04:18<30:39,  5.25s/it]Eval bleu for test set:  13%|█▎        | 50/399 [04:23<30:33,  5.25s/it]Eval bleu for test set:  13%|█▎        | 51/399 [04:28<30:29,  5.26s/it]Eval bleu for test set:  13%|█▎        | 52/399 [04:34<30:27,  5.27s/it]Eval bleu for test set:  13%|█▎        | 53/399 [04:39<30:23,  5.27s/it]Eval bleu for test set:  14%|█▎        | 54/399 [04:44<30:18,  5.27s/it]Eval bleu for test set:  14%|█▍        | 55/399 [04:49<30:12,  5.27s/it]Eval bleu for test set:  14%|█▍        | 56/399 [04:55<30:07,  5.27s/it]Eval bleu for test set:  14%|█▍        | 57/399 [05:00<29:57,  5.26s/it]Eval bleu for test set:  15%|█▍        | 58/399 [05:05<29:52,  5.26s/it]Eval bleu for test set:  15%|█▍        | 59/399 [05:10<29:49,  5.26s/it]Eval bleu for test set:  15%|█▌        | 60/399 [05:16<29:47,  5.27s/it]Eval bleu for test set:  15%|█▌        | 61/399 [05:21<29:36,  5.26s/it]Eval bleu for test set:  16%|█▌        | 62/399 [05:26<29:33,  5.26s/it]Eval bleu for test set:  16%|█▌        | 63/399 [05:31<29:24,  5.25s/it]Eval bleu for test set:  16%|█▌        | 64/399 [05:37<29:20,  5.25s/it]Eval bleu for test set:  16%|█▋        | 65/399 [05:42<29:16,  5.26s/it]Eval bleu for test set:  17%|█▋        | 66/399 [05:47<29:14,  5.27s/it]Eval bleu for test set:  17%|█▋        | 67/399 [05:53<29:12,  5.28s/it]Eval bleu for test set:  17%|█▋        | 68/399 [05:58<29:08,  5.28s/it]Eval bleu for test set:  17%|█▋        | 69/399 [06:03<29:01,  5.28s/it]Eval bleu for test set:  18%|█▊        | 70/399 [06:08<28:54,  5.27s/it]Eval bleu for test set:  18%|█▊        | 71/399 [06:14<28:44,  5.26s/it]Eval bleu for test set:  18%|█▊        | 72/399 [06:19<28:43,  5.27s/it]Eval bleu for test set:  18%|█▊        | 73/399 [06:24<28:40,  5.28s/it]Eval bleu for test set:  19%|█▊        | 74/399 [06:29<28:33,  5.27s/it]Eval bleu for test set:  19%|█▉        | 75/399 [06:35<28:29,  5.28s/it]Eval bleu for test set:  19%|█▉        | 76/399 [06:40<28:22,  5.27s/it]Eval bleu for test set:  19%|█▉        | 77/399 [06:45<28:19,  5.28s/it]Eval bleu for test set:  20%|█▉        | 78/399 [06:51<28:41,  5.36s/it]Eval bleu for test set:  20%|█▉        | 79/399 [06:57<29:40,  5.56s/it]Eval bleu for test set:  20%|██        | 80/399 [07:02<29:34,  5.56s/it]Eval bleu for test set:  20%|██        | 81/399 [07:08<29:04,  5.48s/it]Eval bleu for test set:  21%|██        | 82/399 [07:13<28:39,  5.42s/it]Eval bleu for test set:  21%|██        | 83/399 [07:18<28:19,  5.38s/it]Eval bleu for test set:  21%|██        | 84/399 [07:24<28:04,  5.35s/it]Eval bleu for test set:  21%|██▏       | 85/399 [07:29<27:47,  5.31s/it]Eval bleu for test set:  22%|██▏       | 86/399 [07:34<27:39,  5.30s/it]Eval bleu for test set:  22%|██▏       | 87/399 [07:39<27:30,  5.29s/it]Eval bleu for test set:  22%|██▏       | 88/399 [07:45<27:25,  5.29s/it]Eval bleu for test set:  22%|██▏       | 89/399 [07:50<27:21,  5.30s/it]Eval bleu for test set:  23%|██▎       | 90/399 [07:55<27:10,  5.28s/it]Eval bleu for test set:  23%|██▎       | 91/399 [08:00<27:08,  5.29s/it]Eval bleu for test set:  23%|██▎       | 92/399 [08:06<27:04,  5.29s/it]Eval bleu for test set:  23%|██▎       | 93/399 [08:11<26:56,  5.28s/it]Eval bleu for test set:  24%|██▎       | 94/399 [08:16<26:51,  5.28s/it]Eval bleu for test set:  24%|██▍       | 95/399 [08:22<26:43,  5.27s/it]Eval bleu for test set:  24%|██▍       | 96/399 [08:27<26:32,  5.26s/it]Eval bleu for test set:  24%|██▍       | 97/399 [08:32<26:25,  5.25s/it]Eval bleu for test set:  25%|██▍       | 98/399 [08:37<26:22,  5.26s/it]Eval bleu for test set:  25%|██▍       | 99/399 [08:43<26:18,  5.26s/it]Eval bleu for test set:  25%|██▌       | 100/399 [08:48<26:11,  5.25s/it]Eval bleu for test set:  25%|██▌       | 101/399 [08:53<26:07,  5.26s/it]Eval bleu for test set:  26%|██▌       | 102/399 [08:58<25:58,  5.25s/it]Eval bleu for test set:  26%|██▌       | 103/399 [09:04<25:56,  5.26s/it]Eval bleu for test set:  26%|██▌       | 104/399 [09:09<25:55,  5.27s/it]Eval bleu for test set:  26%|██▋       | 105/399 [09:14<25:49,  5.27s/it]Eval bleu for test set:  27%|██▋       | 106/399 [09:19<25:39,  5.25s/it]Eval bleu for test set:  27%|██▋       | 107/399 [09:25<25:34,  5.25s/it]Eval bleu for test set:  27%|██▋       | 108/399 [09:30<25:29,  5.26s/it]Eval bleu for test set:  27%|██▋       | 109/399 [09:35<25:28,  5.27s/it]Eval bleu for test set:  28%|██▊       | 110/399 [09:41<25:25,  5.28s/it]Eval bleu for test set:  28%|██▊       | 111/399 [09:46<25:23,  5.29s/it]Eval bleu for test set:  28%|██▊       | 112/399 [09:51<25:14,  5.28s/it]Eval bleu for test set:  28%|██▊       | 113/399 [09:56<25:10,  5.28s/it]Eval bleu for test set:  29%|██▊       | 114/399 [10:02<25:00,  5.26s/it]Eval bleu for test set:  29%|██▉       | 115/399 [10:07<24:56,  5.27s/it]Eval bleu for test set:  29%|██▉       | 116/399 [10:12<24:53,  5.28s/it]Eval bleu for test set:  29%|██▉       | 117/399 [10:17<24:48,  5.28s/it]Eval bleu for test set:  30%|██▉       | 118/399 [10:23<24:45,  5.29s/it]Eval bleu for test set:  30%|██▉       | 119/399 [10:28<24:35,  5.27s/it]Eval bleu for test set:  30%|███       | 120/399 [10:33<24:32,  5.28s/it]Eval bleu for test set:  30%|███       | 121/399 [10:38<24:21,  5.26s/it]Eval bleu for test set:  31%|███       | 122/399 [10:44<24:14,  5.25s/it]Eval bleu for test set:  31%|███       | 123/399 [10:49<24:10,  5.25s/it]Eval bleu for test set:  31%|███       | 124/399 [10:54<24:12,  5.28s/it]Eval bleu for test set:  31%|███▏      | 125/399 [11:00<24:13,  5.30s/it]Eval bleu for test set:  32%|███▏      | 126/399 [11:05<24:14,  5.33s/it]Eval bleu for test set:  32%|███▏      | 127/399 [11:10<24:03,  5.31s/it]Eval bleu for test set:  32%|███▏      | 128/399 [11:16<23:56,  5.30s/it]Eval bleu for test set:  32%|███▏      | 129/399 [11:21<23:58,  5.33s/it]Eval bleu for test set:  33%|███▎      | 130/399 [11:26<23:47,  5.31s/it]Eval bleu for test set:  33%|███▎      | 131/399 [11:32<23:38,  5.29s/it]Eval bleu for test set:  33%|███▎      | 132/399 [11:37<23:31,  5.29s/it]Eval bleu for test set:  33%|███▎      | 133/399 [11:42<23:28,  5.29s/it]Eval bleu for test set:  34%|███▎      | 134/399 [11:47<23:25,  5.30s/it]Eval bleu for test set:  34%|███▍      | 135/399 [11:53<23:21,  5.31s/it]Eval bleu for test set:  34%|███▍      | 136/399 [11:58<23:16,  5.31s/it]Eval bleu for test set:  34%|███▍      | 137/399 [12:03<23:10,  5.31s/it]Eval bleu for test set:  35%|███▍      | 138/399 [12:09<23:06,  5.31s/it]Eval bleu for test set:  35%|███▍      | 139/399 [12:14<23:02,  5.32s/it]Eval bleu for test set:  35%|███▌      | 140/399 [12:19<22:54,  5.31s/it]Eval bleu for test set:  35%|███▌      | 141/399 [12:25<22:51,  5.32s/it]Eval bleu for test set:  36%|███▌      | 142/399 [12:30<22:46,  5.32s/it]Eval bleu for test set:  36%|███▌      | 143/399 [12:35<22:34,  5.29s/it]Eval bleu for test set:  36%|███▌      | 144/399 [12:40<22:28,  5.29s/it]Eval bleu for test set:  36%|███▋      | 145/399 [12:46<22:21,  5.28s/it]Eval bleu for test set:  37%|███▋      | 146/399 [12:51<22:19,  5.30s/it]Eval bleu for test set:  37%|███▋      | 147/399 [12:56<22:15,  5.30s/it]Eval bleu for test set:  37%|███▋      | 148/399 [13:02<22:09,  5.30s/it]Eval bleu for test set:  37%|███▋      | 149/399 [13:07<22:02,  5.29s/it]Eval bleu for test set:  38%|███▊      | 150/399 [13:12<21:59,  5.30s/it]Eval bleu for test set:  38%|███▊      | 151/399 [13:18<21:55,  5.30s/it]Eval bleu for test set:  38%|███▊      | 152/399 [13:23<21:50,  5.30s/it]Eval bleu for test set:  38%|███▊      | 153/399 [13:28<21:45,  5.31s/it]Eval bleu for test set:  39%|███▊      | 154/399 [13:34<21:41,  5.31s/it]Eval bleu for test set:  39%|███▉      | 155/399 [13:39<21:34,  5.31s/it]Eval bleu for test set:  39%|███▉      | 156/399 [13:44<21:30,  5.31s/it]Eval bleu for test set:  39%|███▉      | 157/399 [13:49<21:20,  5.29s/it]Eval bleu for test set:  40%|███▉      | 158/399 [13:55<21:17,  5.30s/it]Eval bleu for test set:  40%|███▉      | 159/399 [14:00<21:11,  5.30s/it]Eval bleu for test set:  40%|████      | 160/399 [14:05<21:05,  5.29s/it]Eval bleu for test set:  40%|████      | 161/399 [14:11<21:01,  5.30s/it]Eval bleu for test set:  41%|████      | 162/399 [14:16<20:55,  5.30s/it]Eval bleu for test set:  41%|████      | 163/399 [14:21<20:50,  5.30s/it]Eval bleu for test set:  41%|████      | 164/399 [14:26<20:41,  5.28s/it]Eval bleu for test set:  41%|████▏     | 165/399 [14:32<20:37,  5.29s/it]Eval bleu for test set:  42%|████▏     | 166/399 [14:37<20:33,  5.30s/it]Eval bleu for test set:  42%|████▏     | 167/399 [14:42<20:29,  5.30s/it]Eval bleu for test set:  42%|████▏     | 168/399 [14:48<20:25,  5.31s/it]Eval bleu for test set:  42%|████▏     | 169/399 [14:53<20:21,  5.31s/it]Eval bleu for test set:  43%|████▎     | 170/399 [14:58<20:15,  5.31s/it]Eval bleu for test set:  43%|████▎     | 171/399 [15:04<20:08,  5.30s/it]Eval bleu for test set:  43%|████▎     | 172/399 [15:09<20:03,  5.30s/it]Eval bleu for test set:  43%|████▎     | 173/399 [15:14<19:57,  5.30s/it]Eval bleu for test set:  44%|████▎     | 174/399 [15:19<19:49,  5.29s/it]Eval bleu for test set:  44%|████▍     | 175/399 [15:25<19:45,  5.29s/it]Eval bleu for test set:  44%|████▍     | 176/399 [15:30<19:38,  5.28s/it]Eval bleu for test set:  44%|████▍     | 177/399 [15:35<19:33,  5.28s/it]Eval bleu for test set:  45%|████▍     | 178/399 [15:41<19:23,  5.27s/it]Eval bleu for test set:  45%|████▍     | 179/399 [15:46<19:16,  5.26s/it]Eval bleu for test set:  45%|████▌     | 180/399 [15:51<19:12,  5.26s/it]Eval bleu for test set:  45%|████▌     | 181/399 [15:56<19:09,  5.27s/it]Eval bleu for test set:  46%|████▌     | 182/399 [16:02<19:05,  5.28s/it]Eval bleu for test set:  46%|████▌     | 183/399 [16:07<19:02,  5.29s/it]Eval bleu for test set:  46%|████▌     | 184/399 [16:12<18:53,  5.27s/it]Eval bleu for test set:  46%|████▋     | 185/399 [16:17<18:49,  5.28s/it]Eval bleu for test set:  47%|████▋     | 186/399 [16:23<18:41,  5.26s/it]Eval bleu for test set:  47%|████▋     | 187/399 [16:28<18:38,  5.28s/it]Eval bleu for test set:  47%|████▋     | 188/399 [16:33<18:31,  5.27s/it]Eval bleu for test set:  47%|████▋     | 189/399 [16:39<18:27,  5.28s/it]Eval bleu for test set:  48%|████▊     | 190/399 [16:44<18:21,  5.27s/it]Eval bleu for test set:  48%|████▊     | 191/399 [16:49<18:17,  5.28s/it]Eval bleu for test set:  48%|████▊     | 192/399 [16:54<18:13,  5.28s/it]Eval bleu for test set:  48%|████▊     | 193/399 [17:00<18:06,  5.28s/it]Eval bleu for test set:  49%|████▊     | 194/399 [17:05<17:58,  5.26s/it]Eval bleu for test set:  49%|████▉     | 195/399 [17:10<17:54,  5.27s/it]Eval bleu for test set:  49%|████▉     | 196/399 [17:15<17:50,  5.27s/it]Eval bleu for test set:  49%|████▉     | 197/399 [17:21<17:46,  5.28s/it]Eval bleu for test set:  50%|████▉     | 198/399 [17:26<17:38,  5.26s/it]Eval bleu for test set:  50%|████▉     | 199/399 [17:31<17:34,  5.27s/it]Eval bleu for test set:  50%|█████     | 200/399 [17:37<17:31,  5.29s/it]Eval bleu for test set:  50%|█████     | 201/399 [17:42<17:25,  5.28s/it]Eval bleu for test set:  51%|█████     | 202/399 [17:47<17:20,  5.28s/it]Eval bleu for test set:  51%|█████     | 203/399 [17:52<17:13,  5.28s/it]Eval bleu for test set:  51%|█████     | 204/399 [17:58<17:07,  5.27s/it]Eval bleu for test set:  51%|█████▏    | 205/399 [18:03<17:02,  5.27s/it]Eval bleu for test set:  52%|█████▏    | 206/399 [18:08<16:58,  5.28s/it]Eval bleu for test set:  52%|█████▏    | 207/399 [18:13<16:53,  5.28s/it]Eval bleu for test set:  52%|█████▏    | 208/399 [18:19<16:48,  5.28s/it]Eval bleu for test set:  52%|█████▏    | 209/399 [18:24<16:42,  5.28s/it]Eval bleu for test set:  53%|█████▎    | 210/399 [18:29<16:39,  5.29s/it]Eval bleu for test set:  53%|█████▎    | 211/399 [18:35<16:33,  5.29s/it]Eval bleu for test set:  53%|█████▎    | 212/399 [18:40<16:29,  5.29s/it]Eval bleu for test set:  53%|█████▎    | 213/399 [18:45<16:23,  5.29s/it]Eval bleu for test set:  54%|█████▎    | 214/399 [18:50<16:15,  5.27s/it]Eval bleu for test set:  54%|█████▍    | 215/399 [18:56<16:10,  5.27s/it]Eval bleu for test set:  54%|█████▍    | 216/399 [19:01<16:05,  5.28s/it]Eval bleu for test set:  54%|█████▍    | 217/399 [19:06<16:01,  5.28s/it]Eval bleu for test set:  55%|█████▍    | 218/399 [19:12<15:55,  5.28s/it]Eval bleu for test set:  55%|█████▍    | 219/399 [19:17<15:51,  5.28s/it]Eval bleu for test set:  55%|█████▌    | 220/399 [19:22<15:42,  5.27s/it]Eval bleu for test set:  55%|█████▌    | 221/399 [19:27<15:38,  5.27s/it]Eval bleu for test set:  56%|█████▌    | 222/399 [19:33<15:34,  5.28s/it]Eval bleu for test set:  56%|█████▌    | 223/399 [19:38<15:27,  5.27s/it]Eval bleu for test set:  56%|█████▌    | 224/399 [19:43<15:24,  5.28s/it]Eval bleu for test set:  56%|█████▋    | 225/399 [19:49<15:17,  5.28s/it]Eval bleu for test set:  57%|█████▋    | 226/399 [19:54<15:14,  5.29s/it]Eval bleu for test set:  57%|█████▋    | 227/399 [19:59<15:09,  5.29s/it]Eval bleu for test set:  57%|█████▋    | 228/399 [20:04<15:05,  5.29s/it]Eval bleu for test set:  57%|█████▋    | 229/399 [20:10<15:01,  5.30s/it]Eval bleu for test set:  58%|█████▊    | 230/399 [20:15<14:55,  5.30s/it]Eval bleu for test set:  58%|█████▊    | 231/399 [20:20<14:51,  5.30s/it]Eval bleu for test set:  58%|█████▊    | 232/399 [20:26<14:44,  5.29s/it]Eval bleu for test set:  58%|█████▊    | 233/399 [20:31<14:39,  5.30s/it]Eval bleu for test set:  59%|█████▊    | 234/399 [20:36<14:34,  5.30s/it]Eval bleu for test set:  59%|█████▉    | 235/399 [20:41<14:27,  5.29s/it]Eval bleu for test set:  59%|█████▉    | 236/399 [20:47<14:23,  5.30s/it]Eval bleu for test set:  59%|█████▉    | 237/399 [20:52<14:19,  5.31s/it]Eval bleu for test set:  60%|█████▉    | 238/399 [20:57<14:10,  5.29s/it]Eval bleu for test set:  60%|█████▉    | 239/399 [21:03<14:06,  5.29s/it]Eval bleu for test set:  60%|██████    | 240/399 [21:08<14:02,  5.30s/it]Eval bleu for test set:  60%|██████    | 241/399 [21:13<13:55,  5.29s/it]Eval bleu for test set:  61%|██████    | 242/399 [21:19<13:50,  5.29s/it]Eval bleu for test set:  61%|██████    | 243/399 [21:24<13:46,  5.30s/it]Eval bleu for test set:  61%|██████    | 244/399 [21:29<13:42,  5.30s/it]Eval bleu for test set:  61%|██████▏   | 245/399 [21:34<13:36,  5.30s/it]Eval bleu for test set:  62%|██████▏   | 246/399 [21:40<13:32,  5.31s/it]Eval bleu for test set:  62%|██████▏   | 247/399 [21:45<13:26,  5.30s/it]Eval bleu for test set:  62%|██████▏   | 248/399 [21:50<13:18,  5.29s/it]Eval bleu for test set:  62%|██████▏   | 249/399 [21:56<13:13,  5.29s/it]Eval bleu for test set:  63%|██████▎   | 250/399 [22:01<13:10,  5.30s/it]Eval bleu for test set:  63%|██████▎   | 251/399 [22:06<13:03,  5.30s/it]Eval bleu for test set:  63%|██████▎   | 252/399 [22:12<12:59,  5.30s/it]Eval bleu for test set:  63%|██████▎   | 253/399 [22:17<12:53,  5.30s/it]Eval bleu for test set:  64%|██████▎   | 254/399 [22:22<12:48,  5.30s/it]Eval bleu for test set:  64%|██████▍   | 255/399 [22:27<12:42,  5.30s/it]Eval bleu for test set:  64%|██████▍   | 256/399 [22:33<12:37,  5.29s/it]Eval bleu for test set:  64%|██████▍   | 257/399 [22:38<12:33,  5.31s/it]Eval bleu for test set:  65%|██████▍   | 258/399 [22:43<12:28,  5.31s/it]Eval bleu for test set:  65%|██████▍   | 259/399 [22:49<12:22,  5.30s/it]Eval bleu for test set:  65%|██████▌   | 260/399 [22:54<12:16,  5.30s/it]Eval bleu for test set:  65%|██████▌   | 261/399 [22:59<12:12,  5.30s/it]Eval bleu for test set:  66%|██████▌   | 262/399 [23:05<12:06,  5.31s/it]Eval bleu for test set:  66%|██████▌   | 263/399 [23:10<12:01,  5.30s/it]Eval bleu for test set:  66%|██████▌   | 264/399 [23:15<11:54,  5.29s/it]Eval bleu for test set:  66%|██████▋   | 265/399 [23:20<11:48,  5.29s/it]Eval bleu for test set:  67%|██████▋   | 266/399 [23:26<11:45,  5.30s/it]Eval bleu for test set:  67%|██████▋   | 267/399 [23:31<11:40,  5.31s/it]Eval bleu for test set:  67%|██████▋   | 268/399 [23:36<11:32,  5.29s/it]Eval bleu for test set:  67%|██████▋   | 269/399 [23:42<11:27,  5.29s/it]Eval bleu for test set:  68%|██████▊   | 270/399 [23:47<11:21,  5.29s/it]Eval bleu for test set:  68%|██████▊   | 271/399 [23:52<11:15,  5.28s/it]Eval bleu for test set:  68%|██████▊   | 272/399 [23:57<11:11,  5.28s/it]Eval bleu for test set:  68%|██████▊   | 273/399 [24:03<11:03,  5.26s/it]Eval bleu for test set:  69%|██████▊   | 274/399 [24:08<10:58,  5.27s/it]Eval bleu for test set:  69%|██████▉   | 275/399 [24:13<10:54,  5.28s/it]Eval bleu for test set:  69%|██████▉   | 276/399 [24:19<10:50,  5.29s/it]Eval bleu for test set:  69%|██████▉   | 277/399 [24:24<10:45,  5.29s/it]Eval bleu for test set:  70%|██████▉   | 278/399 [24:29<10:37,  5.27s/it]Eval bleu for test set:  70%|██████▉   | 279/399 [24:34<10:33,  5.28s/it]Eval bleu for test set:  70%|███████   | 280/399 [24:40<10:29,  5.29s/it]Eval bleu for test set:  70%|███████   | 281/399 [24:45<10:24,  5.29s/it]Eval bleu for test set:  71%|███████   | 282/399 [24:50<10:18,  5.29s/it]Eval bleu for test set:  71%|███████   | 283/399 [24:56<10:13,  5.29s/it]Eval bleu for test set:  71%|███████   | 284/399 [25:01<10:10,  5.31s/it]Eval bleu for test set:  71%|███████▏  | 285/399 [25:06<10:04,  5.30s/it]Eval bleu for test set:  72%|███████▏  | 286/399 [25:12<09:58,  5.30s/it]Eval bleu for test set:  72%|███████▏  | 287/399 [25:17<09:50,  5.28s/it]Eval bleu for test set:  72%|███████▏  | 288/399 [25:22<09:46,  5.28s/it]Eval bleu for test set:  72%|███████▏  | 289/399 [25:27<09:42,  5.29s/it]Eval bleu for test set:  73%|███████▎  | 290/399 [25:33<09:36,  5.29s/it]Eval bleu for test set:  73%|███████▎  | 291/399 [25:38<09:30,  5.29s/it]Eval bleu for test set:  73%|███████▎  | 292/399 [25:43<09:24,  5.28s/it]Eval bleu for test set:  73%|███████▎  | 293/399 [25:49<09:21,  5.29s/it]Eval bleu for test set:  74%|███████▎  | 294/399 [25:54<09:14,  5.28s/it]Eval bleu for test set:  74%|███████▍  | 295/399 [25:59<09:10,  5.29s/it]Eval bleu for test set:  74%|███████▍  | 296/399 [26:04<09:03,  5.27s/it]Eval bleu for test set:  74%|███████▍  | 297/399 [26:10<08:59,  5.29s/it]Eval bleu for test set:  75%|███████▍  | 298/399 [26:15<08:52,  5.27s/it]Eval bleu for test set:  75%|███████▍  | 299/399 [26:20<08:45,  5.25s/it]Eval bleu for test set:  75%|███████▌  | 300/399 [26:25<08:42,  5.27s/it]Eval bleu for test set:  75%|███████▌  | 301/399 [26:31<08:37,  5.28s/it]Eval bleu for test set:  76%|███████▌  | 302/399 [26:36<08:32,  5.28s/it]Eval bleu for test set:  76%|███████▌  | 303/399 [26:41<08:28,  5.30s/it]Eval bleu for test set:  76%|███████▌  | 304/399 [26:47<08:37,  5.44s/it]Eval bleu for test set:  76%|███████▋  | 305/399 [26:53<08:46,  5.61s/it]Eval bleu for test set:  77%|███████▋  | 306/399 [26:59<08:53,  5.74s/it]Eval bleu for test set:  77%|███████▋  | 307/399 [27:05<08:55,  5.82s/it]Eval bleu for test set:  77%|███████▋  | 308/399 [27:11<08:54,  5.87s/it]Eval bleu for test set:  77%|███████▋  | 309/399 [27:17<08:53,  5.92s/it]Eval bleu for test set:  78%|███████▊  | 310/399 [27:23<08:48,  5.94s/it]Eval bleu for test set:  78%|███████▊  | 311/399 [27:29<08:45,  5.98s/it]Eval bleu for test set:  78%|███████▊  | 312/399 [27:35<08:42,  6.01s/it]Eval bleu for test set:  78%|███████▊  | 313/399 [27:41<08:37,  6.02s/it]Eval bleu for test set:  79%|███████▊  | 314/399 [27:47<08:32,  6.03s/it]Eval bleu for test set:  79%|███████▉  | 315/399 [27:53<08:25,  6.02s/it]Eval bleu for test set:  79%|███████▉  | 316/399 [27:59<08:19,  6.02s/it]Eval bleu for test set:  79%|███████▉  | 317/399 [28:05<08:11,  6.00s/it]Eval bleu for test set:  80%|███████▉  | 318/399 [28:11<08:08,  6.03s/it]Eval bleu for test set:  80%|███████▉  | 319/399 [28:17<08:02,  6.03s/it]Eval bleu for test set:  80%|████████  | 320/399 [28:24<07:56,  6.03s/it]Eval bleu for test set:  80%|████████  | 321/399 [28:30<07:51,  6.04s/it]Eval bleu for test set:  81%|████████  | 322/399 [28:36<07:46,  6.05s/it]Eval bleu for test set:  81%|████████  | 323/399 [28:42<07:38,  6.03s/it]Eval bleu for test set:  81%|████████  | 324/399 [28:48<07:31,  6.02s/it]Eval bleu for test set:  81%|████████▏ | 325/399 [28:54<07:24,  6.01s/it]Eval bleu for test set:  82%|████████▏ | 326/399 [29:00<07:17,  5.99s/it]Eval bleu for test set:  82%|████████▏ | 327/399 [29:06<07:12,  6.00s/it]Eval bleu for test set:  82%|████████▏ | 328/399 [29:12<07:04,  5.98s/it]Eval bleu for test set:  82%|████████▏ | 329/399 [29:17<06:58,  5.97s/it]Eval bleu for test set:  83%|████████▎ | 330/399 [29:24<06:54,  6.00s/it]Eval bleu for test set:  83%|████████▎ | 331/399 [29:30<06:48,  6.01s/it]Eval bleu for test set:  83%|████████▎ | 332/399 [29:36<06:43,  6.02s/it]Eval bleu for test set:  83%|████████▎ | 333/399 [29:42<06:38,  6.03s/it]Eval bleu for test set:  84%|████████▎ | 334/399 [29:48<06:32,  6.04s/it]Eval bleu for test set:  84%|████████▍ | 335/399 [29:54<06:26,  6.04s/it]Eval bleu for test set:  84%|████████▍ | 336/399 [30:00<06:19,  6.02s/it]Eval bleu for test set:  84%|████████▍ | 337/399 [30:06<06:13,  6.03s/it]Eval bleu for test set:  85%|████████▍ | 338/399 [30:12<06:08,  6.04s/it]Eval bleu for test set:  85%|████████▍ | 339/399 [30:18<06:03,  6.05s/it]Eval bleu for test set:  85%|████████▌ | 340/399 [30:24<05:55,  6.03s/it]Eval bleu for test set:  85%|████████▌ | 341/399 [30:30<05:50,  6.05s/it]Eval bleu for test set:  86%|████████▌ | 342/399 [30:36<05:44,  6.04s/it]Eval bleu for test set:  86%|████████▌ | 343/399 [30:42<05:38,  6.04s/it]Eval bleu for test set:  86%|████████▌ | 344/399 [30:48<05:32,  6.05s/it]Eval bleu for test set:  86%|████████▋ | 345/399 [30:54<05:26,  6.04s/it]Eval bleu for test set:  87%|████████▋ | 346/399 [31:00<05:20,  6.04s/it]Eval bleu for test set:  87%|████████▋ | 347/399 [31:06<05:13,  6.03s/it]Eval bleu for test set:  87%|████████▋ | 348/399 [31:12<05:06,  6.00s/it]Eval bleu for test set:  87%|████████▋ | 349/399 [31:18<05:00,  6.00s/it]Eval bleu for test set:  88%|████████▊ | 350/399 [31:24<04:53,  5.99s/it]Eval bleu for test set:  88%|████████▊ | 351/399 [31:30<04:48,  6.00s/it]Eval bleu for test set:  88%|████████▊ | 352/399 [31:36<04:42,  6.01s/it]Eval bleu for test set:  88%|████████▊ | 353/399 [31:42<04:35,  5.99s/it]Eval bleu for test set:  89%|████████▊ | 354/399 [31:48<04:30,  6.00s/it]Eval bleu for test set:  89%|████████▉ | 355/399 [31:54<04:24,  6.00s/it]Eval bleu for test set:  89%|████████▉ | 356/399 [32:00<04:18,  6.01s/it]Eval bleu for test set:  89%|████████▉ | 357/399 [32:06<04:12,  6.02s/it]Eval bleu for test set:  90%|████████▉ | 358/399 [32:12<04:07,  6.03s/it]Eval bleu for test set:  90%|████████▉ | 359/399 [32:18<04:01,  6.03s/it]Eval bleu for test set:  90%|█████████ | 360/399 [32:24<03:53,  6.00s/it]Eval bleu for test set:  90%|█████████ | 361/399 [32:29<03:38,  5.76s/it]Eval bleu for test set:  91%|█████████ | 362/399 [32:35<03:28,  5.63s/it]Eval bleu for test set:  91%|█████████ | 363/399 [32:40<03:18,  5.52s/it]Eval bleu for test set:  91%|█████████ | 364/399 [32:45<03:10,  5.45s/it]Eval bleu for test set:  91%|█████████▏| 365/399 [32:51<03:03,  5.40s/it]Eval bleu for test set:  92%|█████████▏| 366/399 [32:56<02:57,  5.37s/it]Eval bleu for test set:  92%|█████████▏| 367/399 [33:01<02:50,  5.34s/it]Eval bleu for test set:  92%|█████████▏| 368/399 [33:07<02:45,  5.34s/it]Eval bleu for test set:  92%|█████████▏| 369/399 [33:12<02:39,  5.32s/it]Eval bleu for test set:  93%|█████████▎| 370/399 [33:17<02:33,  5.30s/it]Eval bleu for test set:  93%|█████████▎| 371/399 [33:22<02:28,  5.31s/it]Eval bleu for test set:  93%|█████████▎| 372/399 [33:28<02:23,  5.31s/it]Eval bleu for test set:  93%|█████████▎| 373/399 [33:33<02:17,  5.30s/it]Eval bleu for test set:  94%|█████████▎| 374/399 [33:38<02:12,  5.30s/it]Eval bleu for test set:  94%|█████████▍| 375/399 [33:44<02:07,  5.30s/it]Eval bleu for test set:  94%|█████████▍| 376/399 [33:49<02:01,  5.30s/it]Eval bleu for test set:  94%|█████████▍| 377/399 [33:54<01:56,  5.29s/it]Eval bleu for test set:  95%|█████████▍| 378/399 [33:59<01:51,  5.30s/it]Eval bleu for test set:  95%|█████████▍| 379/399 [34:05<01:46,  5.30s/it]Eval bleu for test set:  95%|█████████▌| 380/399 [34:10<01:40,  5.30s/it]Eval bleu for test set:  95%|█████████▌| 381/399 [34:15<01:35,  5.28s/it]Eval bleu for test set:  96%|█████████▌| 382/399 [34:21<01:30,  5.30s/it]Eval bleu for test set:  96%|█████████▌| 383/399 [34:26<01:24,  5.30s/it]Eval bleu for test set:  96%|█████████▌| 384/399 [34:31<01:19,  5.29s/it]Eval bleu for test set:  96%|█████████▋| 385/399 [34:37<01:14,  5.30s/it]Eval bleu for test set:  97%|█████████▋| 386/399 [34:42<01:08,  5.30s/it]Eval bleu for test set:  97%|█████████▋| 387/399 [34:47<01:03,  5.28s/it]Eval bleu for test set:  97%|█████████▋| 388/399 [34:52<00:58,  5.29s/it]Eval bleu for test set:  97%|█████████▋| 389/399 [34:58<00:52,  5.28s/it]Eval bleu for test set:  98%|█████████▊| 390/399 [35:03<00:47,  5.29s/it]Eval bleu for test set:  98%|█████████▊| 391/399 [35:08<00:42,  5.28s/it]Eval bleu for test set:  98%|█████████▊| 392/399 [35:14<00:37,  5.29s/it]Eval bleu for test set:  98%|█████████▊| 393/399 [35:19<00:31,  5.30s/it]Eval bleu for test set:  99%|█████████▊| 394/399 [35:24<00:26,  5.28s/it]Eval bleu for test set:  99%|█████████▉| 395/399 [35:29<00:21,  5.28s/it]Eval bleu for test set:  99%|█████████▉| 396/399 [35:35<00:15,  5.28s/it]Eval bleu for test set:  99%|█████████▉| 397/399 [35:40<00:10,  5.28s/it]Eval bleu for test set: 100%|█████████▉| 398/399 [35:45<00:05,  5.28s/it]Eval bleu for test set: 100%|██████████| 399/399 [35:51<00:00,  5.29s/it]Eval bleu for test set: 100%|██████████| 399/399 [35:51<00:00,  5.39s/it]
11/13/2022 07:40:53 - INFO - __main__ -   ***** Eval results *****
11/13/2022 07:40:53 - INFO - __main__ -     bleu = 71.11
11/13/2022 07:40:53 - INFO - __main__ -     codebleu = 71.8556
11/13/2022 07:40:53 - INFO - __main__ -     em = 5.9994
11/13/2022 07:40:53 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeinsert_log_statement + whether_refactoringbefore_refactoring :
11/13/2022 07:40:53 - INFO - __main__ -   [best-bleu] bleu-4: 71.11, em: 5.9994, codebleu: 71.8556

11/13/2022 07:40:53 - INFO - __main__ -   Finish and take 7h19m
11/13/2022 07:40:53 - INFO - __main__ -     ***** Testing *****
11/13/2022 07:40:53 - INFO - __main__ -     Batch size = 16
11/13/2022 07:40:53 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 07:40:53 - INFO - __main__ -   test11111111111
11/13/2022 07:40:53 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 07:40:53 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/insert_log_statement/after_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/insert_log_statement/after_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 07:40:53 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 07:40:53 - INFO - utils -   Read 6384 examples, avg src len: 65, avg trg len: 64, max src len: 269, max trg len: 223
11/13/2022 07:40:53 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/boolean_exchange_20221113_065523/convert_switch_to_if_20221113_065622/convert_switch_to_if_20221113_065729/insert_log_statement_20221113_065836/insert_log_statement_20221113_074053/test_src_all.pt
11/13/2022 07:40:53 - INFO - utils -   加载前test666666666666666
ngram match: 0.7110975864735675, weighted ngram match: 0.7313881806002096, syntax_match: 0.7942524294076396, dataflow_match: 0.6374869027143507
  0%|          | 0/6384 [00:00<?, ?it/s] 50%|█████     | 3192/6384 [00:02<00:02, 1071.54it/s] 75%|███████▌  | 4788/6384 [00:06<00:02, 745.32it/s] 100%|██████████| 6384/6384 [00:08<00:00, 653.62it/s]100%|██████████| 6384/6384 [00:08<00:00, 710.94it/s]
11/13/2022 07:41:05 - INFO - utils -   加载后test77777777777777
11/13/2022 07:41:06 - INFO - __main__ -   加载成功test2222222222
11/13/2022 07:41:06 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 07:41:06 - INFO - __main__ -     Num examples = 6384
11/13/2022 07:41:06 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/399 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/399 [00:05<36:50,  5.55s/it]Eval bleu for test set:   1%|          | 2/399 [00:10<35:47,  5.41s/it]Eval bleu for test set:   1%|          | 3/399 [00:16<35:08,  5.32s/it]Eval bleu for test set:   1%|          | 4/399 [00:21<34:54,  5.30s/it]Eval bleu for test set:   1%|▏         | 5/399 [00:26<34:49,  5.30s/it]Eval bleu for test set:   2%|▏         | 6/399 [00:31<34:42,  5.30s/it]Eval bleu for test set:   2%|▏         | 7/399 [00:37<34:30,  5.28s/it]Eval bleu for test set:   2%|▏         | 8/399 [00:42<34:19,  5.27s/it]Eval bleu for test set:   2%|▏         | 9/399 [00:47<34:19,  5.28s/it]Eval bleu for test set:   3%|▎         | 10/399 [00:53<34:18,  5.29s/it]Eval bleu for test set:   3%|▎         | 11/399 [00:58<34:10,  5.28s/it]Eval bleu for test set:   3%|▎         | 12/399 [01:03<34:05,  5.29s/it]Eval bleu for test set:   3%|▎         | 13/399 [01:08<33:56,  5.28s/it]Eval bleu for test set:   4%|▎         | 14/399 [01:14<33:54,  5.29s/it]Eval bleu for test set:   4%|▍         | 15/399 [01:19<33:52,  5.29s/it]Eval bleu for test set:   4%|▍         | 16/399 [01:24<33:42,  5.28s/it]Eval bleu for test set:   4%|▍         | 17/399 [01:30<33:38,  5.28s/it]Eval bleu for test set:   5%|▍         | 18/399 [01:35<34:07,  5.37s/it]Eval bleu for test set:   5%|▍         | 19/399 [01:41<34:57,  5.52s/it]Eval bleu for test set:   5%|▌         | 20/399 [01:47<35:36,  5.64s/it]Eval bleu for test set:   5%|▌         | 21/399 [01:53<36:04,  5.73s/it]Eval bleu for test set:   6%|▌         | 22/399 [01:59<36:32,  5.82s/it]Eval bleu for test set:   6%|▌         | 23/399 [02:05<36:47,  5.87s/it]Eval bleu for test set:   6%|▌         | 24/399 [02:11<36:54,  5.91s/it]Eval bleu for test set:   6%|▋         | 25/399 [02:17<37:02,  5.94s/it]Eval bleu for test set:   7%|▋         | 26/399 [02:23<37:03,  5.96s/it]Eval bleu for test set:   7%|▋         | 27/399 [02:29<37:05,  5.98s/it]Eval bleu for test set:   7%|▋         | 28/399 [02:35<36:56,  5.97s/it]Eval bleu for test set:   7%|▋         | 29/399 [02:41<36:52,  5.98s/it]Eval bleu for test set:   8%|▊         | 30/399 [02:47<36:48,  5.98s/it]Eval bleu for test set:   8%|▊         | 31/399 [02:53<36:42,  5.99s/it]Eval bleu for test set:   8%|▊         | 32/399 [02:59<36:38,  5.99s/it]Eval bleu for test set:   8%|▊         | 33/399 [03:05<36:36,  6.00s/it]Eval bleu for test set:   9%|▊         | 34/399 [03:11<36:34,  6.01s/it]Eval bleu for test set:   9%|▉         | 35/399 [03:17<36:22,  5.99s/it]Eval bleu for test set:   9%|▉         | 36/399 [03:23<36:13,  5.99s/it]Eval bleu for test set:   9%|▉         | 37/399 [03:29<36:02,  5.97s/it]Eval bleu for test set:  10%|▉         | 38/399 [03:35<35:54,  5.97s/it]Eval bleu for test set:  10%|▉         | 39/399 [03:41<35:56,  5.99s/it]Eval bleu for test set:  10%|█         | 40/399 [03:47<35:45,  5.98s/it]Eval bleu for test set:  10%|█         | 41/399 [03:53<35:38,  5.97s/it]Eval bleu for test set:  11%|█         | 42/399 [03:59<35:35,  5.98s/it]Eval bleu for test set:  11%|█         | 43/399 [04:05<35:35,  6.00s/it]Eval bleu for test set:  11%|█         | 44/399 [04:11<35:27,  5.99s/it]Eval bleu for test set:  11%|█▏        | 45/399 [04:16<34:01,  5.77s/it]Eval bleu for test set:  12%|█▏        | 46/399 [04:21<33:07,  5.63s/it]Eval bleu for test set:  12%|█▏        | 47/399 [04:27<32:27,  5.53s/it]Eval bleu for test set:  12%|█▏        | 48/399 [04:32<32:05,  5.48s/it]Eval bleu for test set:  12%|█▏        | 49/399 [04:37<31:31,  5.41s/it]Eval bleu for test set:  13%|█▎        | 50/399 [04:42<31:14,  5.37s/it]Eval bleu for test set:  13%|█▎        | 51/399 [04:48<30:55,  5.33s/it]Eval bleu for test set:  13%|█▎        | 52/399 [04:53<30:45,  5.32s/it]Eval bleu for test set:  13%|█▎        | 53/399 [04:58<30:39,  5.32s/it]Eval bleu for test set:  14%|█▎        | 54/399 [05:04<30:32,  5.31s/it]Eval bleu for test set:  14%|█▍        | 55/399 [05:09<30:24,  5.30s/it]Eval bleu for test set:  14%|█▍        | 56/399 [05:14<30:16,  5.30s/it]Eval bleu for test set:  14%|█▍        | 57/399 [05:19<30:03,  5.27s/it]Eval bleu for test set:  15%|█▍        | 58/399 [05:25<29:56,  5.27s/it]Eval bleu for test set:  15%|█▍        | 59/399 [05:30<29:55,  5.28s/it]Eval bleu for test set:  15%|█▌        | 60/399 [05:35<29:49,  5.28s/it]Eval bleu for test set:  15%|█▌        | 61/399 [05:40<29:39,  5.27s/it]Eval bleu for test set:  16%|█▌        | 62/399 [05:46<29:36,  5.27s/it]Eval bleu for test set:  16%|█▌        | 63/399 [05:51<29:30,  5.27s/it]Eval bleu for test set:  16%|█▌        | 64/399 [05:56<29:26,  5.27s/it]Eval bleu for test set:  16%|█▋        | 65/399 [06:02<29:21,  5.27s/it]Eval bleu for test set:  17%|█▋        | 66/399 [06:07<29:19,  5.28s/it]Eval bleu for test set:  17%|█▋        | 67/399 [06:12<29:16,  5.29s/it]Eval bleu for test set:  17%|█▋        | 68/399 [06:17<29:13,  5.30s/it]Eval bleu for test set:  17%|█▋        | 69/399 [06:23<29:05,  5.29s/it]Eval bleu for test set:  18%|█▊        | 70/399 [06:28<28:59,  5.29s/it]Eval bleu for test set:  18%|█▊        | 71/399 [06:33<28:48,  5.27s/it]Eval bleu for test set:  18%|█▊        | 72/399 [06:39<28:46,  5.28s/it]Eval bleu for test set:  18%|█▊        | 73/399 [06:44<28:41,  5.28s/it]Eval bleu for test set:  19%|█▊        | 74/399 [06:49<28:33,  5.27s/it]Eval bleu for test set:  19%|█▉        | 75/399 [06:54<28:30,  5.28s/it]Eval bleu for test set:  19%|█▉        | 76/399 [07:00<28:21,  5.27s/it]Eval bleu for test set:  19%|█▉        | 77/399 [07:05<28:19,  5.28s/it]Eval bleu for test set:  20%|█▉        | 78/399 [07:10<28:16,  5.29s/it]Eval bleu for test set:  20%|█▉        | 79/399 [07:15<28:08,  5.28s/it]Eval bleu for test set:  20%|██        | 80/399 [07:21<27:55,  5.25s/it]Eval bleu for test set:  20%|██        | 81/399 [07:26<27:51,  5.26s/it]Eval bleu for test set:  21%|██        | 82/399 [07:31<27:45,  5.25s/it]Eval bleu for test set:  21%|██        | 83/399 [07:36<27:37,  5.24s/it]Eval bleu for test set:  21%|██        | 84/399 [07:42<27:32,  5.24s/it]Eval bleu for test set:  21%|██▏       | 85/399 [07:47<27:19,  5.22s/it]Eval bleu for test set:  22%|██▏       | 86/399 [07:52<27:20,  5.24s/it]Eval bleu for test set:  22%|██▏       | 87/399 [07:57<27:13,  5.24s/it]Eval bleu for test set:  22%|██▏       | 88/399 [08:03<27:11,  5.25s/it]Eval bleu for test set:  22%|██▏       | 89/399 [08:08<27:10,  5.26s/it]Eval bleu for test set:  23%|██▎       | 90/399 [08:13<26:58,  5.24s/it]Eval bleu for test set:  23%|██▎       | 91/399 [08:18<26:58,  5.25s/it]Eval bleu for test set:  23%|██▎       | 92/399 [08:24<27:28,  5.37s/it]Eval bleu for test set:  23%|██▎       | 93/399 [08:30<28:13,  5.53s/it]Eval bleu for test set:  24%|██▎       | 94/399 [08:36<28:52,  5.68s/it]Eval bleu for test set:  24%|██▍       | 95/399 [08:42<29:08,  5.75s/it]Eval bleu for test set:  24%|██▍       | 96/399 [08:48<29:13,  5.79s/it]Eval bleu for test set:  24%|██▍       | 97/399 [08:54<29:18,  5.82s/it]Eval bleu for test set:  25%|██▍       | 98/399 [09:00<29:21,  5.85s/it]Eval bleu for test set:  25%|██▍       | 99/399 [09:06<29:27,  5.89s/it]Eval bleu for test set:  25%|██▌       | 100/399 [09:11<29:25,  5.90s/it]Eval bleu for test set:  25%|██▌       | 101/399 [09:17<29:21,  5.91s/it]Eval bleu for test set:  26%|██▌       | 102/399 [09:23<29:13,  5.90s/it]Eval bleu for test set:  26%|██▌       | 103/399 [09:29<29:09,  5.91s/it]Eval bleu for test set:  26%|██▌       | 104/399 [09:35<29:08,  5.93s/it]Eval bleu for test set:  26%|██▋       | 105/399 [09:41<29:03,  5.93s/it]Eval bleu for test set:  27%|██▋       | 106/399 [09:47<28:52,  5.91s/it]Eval bleu for test set:  27%|██▋       | 107/399 [09:53<28:48,  5.92s/it]Eval bleu for test set:  27%|██▋       | 108/399 [09:59<28:42,  5.92s/it]Eval bleu for test set:  27%|██▋       | 109/399 [10:05<28:45,  5.95s/it]Eval bleu for test set:  28%|██▊       | 110/399 [10:11<28:36,  5.94s/it]Eval bleu for test set:  28%|██▊       | 111/399 [10:17<28:33,  5.95s/it]Eval bleu for test set:  28%|██▊       | 112/399 [10:23<28:19,  5.92s/it]Eval bleu for test set:  28%|██▊       | 113/399 [10:29<28:17,  5.94s/it]Eval bleu for test set:  29%|██▊       | 114/399 [10:34<28:06,  5.92s/it]Eval bleu for test set:  29%|██▉       | 115/399 [10:40<28:06,  5.94s/it]Eval bleu for test set:  29%|██▉       | 116/399 [10:46<27:59,  5.94s/it]Eval bleu for test set:  29%|██▉       | 117/399 [10:52<27:57,  5.95s/it]Eval bleu for test set:  30%|██▉       | 118/399 [10:58<27:53,  5.96s/it]Eval bleu for test set:  30%|██▉       | 119/399 [11:04<27:42,  5.94s/it]Eval bleu for test set:  30%|███       | 120/399 [11:10<27:39,  5.95s/it]Eval bleu for test set:  30%|███       | 121/399 [11:16<27:30,  5.94s/it]Eval bleu for test set:  31%|███       | 122/399 [11:22<27:20,  5.92s/it]Eval bleu for test set:  31%|███       | 123/399 [11:28<27:14,  5.92s/it]Eval bleu for test set:  31%|███       | 124/399 [11:34<27:11,  5.93s/it]Eval bleu for test set:  31%|███▏      | 125/399 [11:40<27:11,  5.96s/it]Eval bleu for test set:  32%|███▏      | 126/399 [11:46<27:07,  5.96s/it]Eval bleu for test set:  32%|███▏      | 127/399 [11:52<27:00,  5.96s/it]Eval bleu for test set:  32%|███▏      | 128/399 [11:58<26:54,  5.96s/it]Eval bleu for test set:  32%|███▏      | 129/399 [12:04<26:46,  5.95s/it]Eval bleu for test set:  33%|███▎      | 130/399 [12:10<26:44,  5.97s/it]Eval bleu for test set:  33%|███▎      | 131/399 [12:16<26:34,  5.95s/it]Eval bleu for test set:  33%|███▎      | 132/399 [12:22<26:27,  5.94s/it]Eval bleu for test set:  33%|███▎      | 133/399 [12:27<26:19,  5.94s/it]Eval bleu for test set:  34%|███▎      | 134/399 [12:33<26:14,  5.94s/it]Eval bleu for test set:  34%|███▍      | 135/399 [12:39<26:13,  5.96s/it]Eval bleu for test set:  34%|███▍      | 136/399 [12:45<26:09,  5.97s/it]Eval bleu for test set:  34%|███▍      | 137/399 [12:51<25:19,  5.80s/it]Eval bleu for test set:  35%|███▍      | 138/399 [12:56<24:34,  5.65s/it]Eval bleu for test set:  35%|███▍      | 139/399 [13:01<23:59,  5.54s/it]Eval bleu for test set:  35%|███▌      | 140/399 [13:07<23:32,  5.45s/it]Eval bleu for test set:  35%|███▌      | 141/399 [13:12<23:13,  5.40s/it]Eval bleu for test set:  36%|███▌      | 142/399 [13:17<22:59,  5.37s/it]Eval bleu for test set:  36%|███▌      | 143/399 [13:22<22:41,  5.32s/it]Eval bleu for test set:  36%|███▌      | 144/399 [13:28<22:30,  5.30s/it]Eval bleu for test set:  36%|███▋      | 145/399 [13:33<22:19,  5.27s/it]Eval bleu for test set:  37%|███▋      | 146/399 [13:38<22:15,  5.28s/it]Eval bleu for test set:  37%|███▋      | 147/399 [13:43<22:09,  5.28s/it]Eval bleu for test set:  37%|███▋      | 148/399 [13:49<22:03,  5.27s/it]Eval bleu for test set:  37%|███▋      | 149/399 [13:54<21:58,  5.27s/it]Eval bleu for test set:  38%|███▊      | 150/399 [13:59<21:52,  5.27s/it]Eval bleu for test set:  38%|███▊      | 151/399 [14:04<21:44,  5.26s/it]Eval bleu for test set:  38%|███▊      | 152/399 [14:10<21:41,  5.27s/it]Eval bleu for test set:  38%|███▊      | 153/399 [14:15<21:31,  5.25s/it]Eval bleu for test set:  39%|███▊      | 154/399 [14:20<21:27,  5.26s/it]Eval bleu for test set:  39%|███▉      | 155/399 [14:25<21:21,  5.25s/it]Eval bleu for test set:  39%|███▉      | 156/399 [14:31<21:19,  5.26s/it]Eval bleu for test set:  39%|███▉      | 157/399 [14:36<21:10,  5.25s/it]Eval bleu for test set:  40%|███▉      | 158/399 [14:41<21:09,  5.27s/it]Eval bleu for test set:  40%|███▉      | 159/399 [14:47<21:01,  5.26s/it]Eval bleu for test set:  40%|████      | 160/399 [14:52<20:54,  5.25s/it]Eval bleu for test set:  40%|████      | 161/399 [14:57<20:51,  5.26s/it]Eval bleu for test set:  41%|████      | 162/399 [15:02<20:44,  5.25s/it]Eval bleu for test set:  41%|████      | 163/399 [15:08<20:38,  5.25s/it]Eval bleu for test set:  41%|████      | 164/399 [15:13<20:29,  5.23s/it]Eval bleu for test set:  41%|████▏     | 165/399 [15:18<20:24,  5.23s/it]Eval bleu for test set:  42%|████▏     | 166/399 [15:23<20:19,  5.23s/it]Eval bleu for test set:  42%|████▏     | 167/399 [15:28<20:16,  5.24s/it]Eval bleu for test set:  42%|████▏     | 168/399 [15:34<20:12,  5.25s/it]Eval bleu for test set:  42%|████▏     | 169/399 [15:39<20:08,  5.25s/it]Eval bleu for test set:  43%|████▎     | 170/399 [15:44<19:59,  5.24s/it]Eval bleu for test set:  43%|████▎     | 171/399 [15:49<19:53,  5.24s/it]Eval bleu for test set:  43%|████▎     | 172/399 [15:55<19:50,  5.25s/it]Eval bleu for test set:  43%|████▎     | 173/399 [16:00<19:45,  5.25s/it]Eval bleu for test set:  44%|████▎     | 174/399 [16:05<19:38,  5.24s/it]Eval bleu for test set:  44%|████▍     | 175/399 [16:10<19:38,  5.26s/it]Eval bleu for test set:  44%|████▍     | 176/399 [16:16<19:32,  5.26s/it]Eval bleu for test set:  44%|████▍     | 177/399 [16:21<19:27,  5.26s/it]Eval bleu for test set:  45%|████▍     | 178/399 [16:26<19:17,  5.24s/it]Eval bleu for test set:  45%|████▍     | 179/399 [16:31<19:10,  5.23s/it]Eval bleu for test set:  45%|████▌     | 180/399 [16:37<19:07,  5.24s/it]Eval bleu for test set:  45%|████▌     | 181/399 [16:42<19:05,  5.26s/it]Eval bleu for test set:  46%|████▌     | 182/399 [16:47<18:59,  5.25s/it]Eval bleu for test set:  46%|████▌     | 183/399 [16:52<18:56,  5.26s/it]Eval bleu for test set:  46%|████▌     | 184/399 [16:58<18:46,  5.24s/it]Eval bleu for test set:  46%|████▋     | 185/399 [17:03<18:42,  5.25s/it]Eval bleu for test set:  47%|████▋     | 186/399 [17:08<18:36,  5.24s/it]Eval bleu for test set:  47%|████▋     | 187/399 [17:13<18:33,  5.25s/it]Eval bleu for test set:  47%|████▋     | 188/399 [17:19<18:24,  5.23s/it]Eval bleu for test set:  47%|████▋     | 189/399 [17:24<18:24,  5.26s/it]Eval bleu for test set:  48%|████▊     | 190/399 [17:29<18:16,  5.25s/it]Eval bleu for test set:  48%|████▊     | 191/399 [17:34<18:11,  5.25s/it]Eval bleu for test set:  48%|████▊     | 192/399 [17:40<18:09,  5.26s/it]Eval bleu for test set:  48%|████▊     | 193/399 [17:45<18:03,  5.26s/it]Eval bleu for test set:  49%|████▊     | 194/399 [17:50<17:53,  5.24s/it]Eval bleu for test set:  49%|████▉     | 195/399 [17:55<17:49,  5.24s/it]Eval bleu for test set:  49%|████▉     | 196/399 [18:01<17:44,  5.25s/it]Eval bleu for test set:  49%|████▉     | 197/399 [18:06<17:41,  5.26s/it]Eval bleu for test set:  50%|████▉     | 198/399 [18:11<17:32,  5.24s/it]Eval bleu for test set:  50%|████▉     | 199/399 [18:16<17:28,  5.24s/it]Eval bleu for test set:  50%|█████     | 200/399 [18:22<17:25,  5.26s/it]Eval bleu for test set:  50%|█████     | 201/399 [18:27<17:19,  5.25s/it]Eval bleu for test set:  51%|█████     | 202/399 [18:32<17:14,  5.25s/it]Eval bleu for test set:  51%|█████     | 203/399 [18:37<17:11,  5.26s/it]Eval bleu for test set:  51%|█████     | 204/399 [18:43<17:06,  5.26s/it]Eval bleu for test set:  51%|█████▏    | 205/399 [18:48<16:59,  5.26s/it]Eval bleu for test set:  52%|█████▏    | 206/399 [18:53<16:53,  5.25s/it]Eval bleu for test set:  52%|█████▏    | 207/399 [18:58<16:43,  5.23s/it]Eval bleu for test set:  52%|█████▏    | 208/399 [19:04<16:40,  5.24s/it]Eval bleu for test set:  52%|█████▏    | 209/399 [19:09<16:35,  5.24s/it]Eval bleu for test set:  53%|█████▎    | 210/399 [19:14<16:33,  5.25s/it]Eval bleu for test set:  53%|█████▎    | 211/399 [19:19<16:26,  5.25s/it]Eval bleu for test set:  53%|█████▎    | 212/399 [19:25<16:22,  5.25s/it]Eval bleu for test set:  53%|█████▎    | 213/399 [19:30<16:16,  5.25s/it]Eval bleu for test set:  54%|█████▎    | 214/399 [19:35<16:08,  5.23s/it]Eval bleu for test set:  54%|█████▍    | 215/399 [19:40<16:05,  5.25s/it]Eval bleu for test set:  54%|█████▍    | 216/399 [19:46<16:02,  5.26s/it]Eval bleu for test set:  54%|█████▍    | 217/399 [19:51<15:58,  5.27s/it]Eval bleu for test set:  55%|█████▍    | 218/399 [19:56<15:52,  5.26s/it]Eval bleu for test set:  55%|█████▍    | 219/399 [20:01<15:47,  5.27s/it]Eval bleu for test set:  55%|█████▌    | 220/399 [20:07<15:37,  5.24s/it]Eval bleu for test set:  55%|█████▌    | 221/399 [20:12<15:32,  5.24s/it]Eval bleu for test set:  56%|█████▌    | 222/399 [20:17<15:28,  5.25s/it]Eval bleu for test set:  56%|█████▌    | 223/399 [20:22<15:22,  5.24s/it]Eval bleu for test set:  56%|█████▌    | 224/399 [20:28<15:18,  5.25s/it]Eval bleu for test set:  56%|█████▋    | 225/399 [20:33<15:12,  5.24s/it]Eval bleu for test set:  57%|█████▋    | 226/399 [20:38<15:09,  5.26s/it]Eval bleu for test set:  57%|█████▋    | 227/399 [20:43<15:02,  5.25s/it]Eval bleu for test set:  57%|█████▋    | 228/399 [20:49<14:58,  5.25s/it]Eval bleu for test set:  57%|█████▋    | 229/399 [20:54<14:52,  5.25s/it]Eval bleu for test set:  58%|█████▊    | 230/399 [20:59<14:47,  5.25s/it]Eval bleu for test set:  58%|█████▊    | 231/399 [21:04<14:44,  5.26s/it]Eval bleu for test set:  58%|█████▊    | 232/399 [21:10<14:36,  5.25s/it]Eval bleu for test set:  58%|█████▊    | 233/399 [21:15<14:31,  5.25s/it]Eval bleu for test set:  59%|█████▊    | 234/399 [21:20<14:27,  5.25s/it]Eval bleu for test set:  59%|█████▉    | 235/399 [21:25<14:22,  5.26s/it]Eval bleu for test set:  59%|█████▉    | 236/399 [21:31<14:18,  5.27s/it]Eval bleu for test set:  59%|█████▉    | 237/399 [21:36<14:14,  5.27s/it]Eval bleu for test set:  60%|█████▉    | 238/399 [21:41<14:07,  5.26s/it]Eval bleu for test set:  60%|█████▉    | 239/399 [21:46<14:01,  5.26s/it]Eval bleu for test set:  60%|██████    | 240/399 [21:52<13:56,  5.26s/it]Eval bleu for test set:  60%|██████    | 241/399 [21:57<13:48,  5.25s/it]Eval bleu for test set:  61%|██████    | 242/399 [22:02<13:44,  5.25s/it]Eval bleu for test set:  61%|██████    | 243/399 [22:08<13:41,  5.27s/it]Eval bleu for test set:  61%|██████    | 244/399 [22:13<13:34,  5.25s/it]Eval bleu for test set:  61%|██████▏   | 245/399 [22:18<13:29,  5.25s/it]Eval bleu for test set:  62%|██████▏   | 246/399 [22:23<13:25,  5.26s/it]Eval bleu for test set:  62%|██████▏   | 247/399 [22:29<13:18,  5.25s/it]Eval bleu for test set:  62%|██████▏   | 248/399 [22:34<13:09,  5.23s/it]Eval bleu for test set:  62%|██████▏   | 249/399 [22:39<13:03,  5.22s/it]Eval bleu for test set:  63%|██████▎   | 250/399 [22:44<13:01,  5.25s/it]Eval bleu for test set:  63%|██████▎   | 251/399 [22:49<12:55,  5.24s/it]Eval bleu for test set:  63%|██████▎   | 252/399 [22:55<12:51,  5.25s/it]Eval bleu for test set:  63%|██████▎   | 253/399 [23:00<12:47,  5.26s/it]Eval bleu for test set:  64%|██████▎   | 254/399 [23:05<12:44,  5.27s/it]Eval bleu for test set:  64%|██████▍   | 255/399 [23:11<12:38,  5.27s/it]Eval bleu for test set:  64%|██████▍   | 256/399 [23:16<12:32,  5.27s/it]Eval bleu for test set:  64%|██████▍   | 257/399 [23:21<12:28,  5.27s/it]Eval bleu for test set:  65%|██████▍   | 258/399 [23:26<12:21,  5.26s/it]Eval bleu for test set:  65%|██████▍   | 259/399 [23:32<12:15,  5.25s/it]Eval bleu for test set:  65%|██████▌   | 260/399 [23:37<12:10,  5.26s/it]Eval bleu for test set:  65%|██████▌   | 261/399 [23:42<12:04,  5.25s/it]Eval bleu for test set:  66%|██████▌   | 262/399 [23:47<12:00,  5.26s/it]Eval bleu for test set:  66%|██████▌   | 263/399 [23:53<11:55,  5.26s/it]Eval bleu for test set:  66%|██████▌   | 264/399 [23:58<11:50,  5.27s/it]Eval bleu for test set:  66%|██████▋   | 265/399 [24:03<11:45,  5.26s/it]Eval bleu for test set:  67%|██████▋   | 266/399 [24:08<11:40,  5.27s/it]Eval bleu for test set:  67%|██████▋   | 267/399 [24:14<11:34,  5.26s/it]Eval bleu for test set:  67%|██████▋   | 268/399 [24:19<11:27,  5.25s/it]Eval bleu for test set:  67%|██████▋   | 269/399 [24:24<11:23,  5.26s/it]Eval bleu for test set:  68%|██████▊   | 270/399 [24:29<11:17,  5.25s/it]Eval bleu for test set:  68%|██████▊   | 271/399 [24:35<11:10,  5.24s/it]Eval bleu for test set:  68%|██████▊   | 272/399 [24:40<11:06,  5.25s/it]Eval bleu for test set:  68%|██████▊   | 273/399 [24:45<10:57,  5.22s/it]Eval bleu for test set:  69%|██████▊   | 274/399 [24:50<10:50,  5.21s/it]Eval bleu for test set:  69%|██████▉   | 275/399 [24:55<10:47,  5.22s/it]Eval bleu for test set:  69%|██████▉   | 276/399 [25:01<10:43,  5.24s/it]Eval bleu for test set:  69%|██████▉   | 277/399 [25:06<10:40,  5.25s/it]Eval bleu for test set:  70%|██████▉   | 278/399 [25:11<10:33,  5.24s/it]Eval bleu for test set:  70%|██████▉   | 279/399 [25:16<10:29,  5.25s/it]Eval bleu for test set:  70%|███████   | 280/399 [25:22<10:25,  5.25s/it]Eval bleu for test set:  70%|███████   | 281/399 [25:27<10:19,  5.25s/it]Eval bleu for test set:  71%|███████   | 282/399 [25:32<10:14,  5.25s/it]Eval bleu for test set:  71%|███████   | 283/399 [25:38<10:09,  5.26s/it]Eval bleu for test set:  71%|███████   | 284/399 [25:43<10:04,  5.26s/it]Eval bleu for test set:  71%|███████▏  | 285/399 [25:48<09:57,  5.24s/it]Eval bleu for test set:  72%|███████▏  | 286/399 [25:53<09:52,  5.25s/it]Eval bleu for test set:  72%|███████▏  | 287/399 [25:58<09:45,  5.22s/it]Eval bleu for test set:  72%|███████▏  | 288/399 [26:04<09:39,  5.22s/it]Eval bleu for test set:  72%|███████▏  | 289/399 [26:09<09:36,  5.24s/it]Eval bleu for test set:  73%|███████▎  | 290/399 [26:14<09:30,  5.24s/it]Eval bleu for test set:  73%|███████▎  | 291/399 [26:19<09:24,  5.22s/it]Eval bleu for test set:  73%|███████▎  | 292/399 [26:25<09:19,  5.23s/it]Eval bleu for test set:  73%|███████▎  | 293/399 [26:30<09:15,  5.24s/it]Eval bleu for test set:  74%|███████▎  | 294/399 [26:35<09:08,  5.22s/it]Eval bleu for test set:  74%|███████▍  | 295/399 [26:40<09:05,  5.24s/it]Eval bleu for test set:  74%|███████▍  | 296/399 [26:45<08:57,  5.22s/it]Eval bleu for test set:  74%|███████▍  | 297/399 [26:51<08:53,  5.23s/it]Eval bleu for test set:  75%|███████▍  | 298/399 [26:56<08:46,  5.21s/it]Eval bleu for test set:  75%|███████▍  | 299/399 [27:01<08:39,  5.20s/it]Eval bleu for test set:  75%|███████▌  | 300/399 [27:06<08:37,  5.23s/it]Eval bleu for test set:  75%|███████▌  | 301/399 [27:12<08:30,  5.21s/it]Eval bleu for test set:  76%|███████▌  | 302/399 [27:17<08:26,  5.22s/it]Eval bleu for test set:  76%|███████▌  | 303/399 [27:22<08:22,  5.24s/it]Eval bleu for test set:  76%|███████▌  | 304/399 [27:27<08:18,  5.25s/it]Eval bleu for test set:  76%|███████▋  | 305/399 [27:33<08:12,  5.23s/it]Eval bleu for test set:  77%|███████▋  | 306/399 [27:38<08:07,  5.24s/it]Eval bleu for test set:  77%|███████▋  | 307/399 [27:43<08:02,  5.25s/it]Eval bleu for test set:  77%|███████▋  | 308/399 [27:48<07:58,  5.26s/it]Eval bleu for test set:  77%|███████▋  | 309/399 [27:54<07:53,  5.27s/it]Eval bleu for test set:  78%|███████▊  | 310/399 [27:59<07:48,  5.26s/it]Eval bleu for test set:  78%|███████▊  | 311/399 [28:04<07:43,  5.26s/it]Eval bleu for test set:  78%|███████▊  | 312/399 [28:09<07:38,  5.27s/it]Eval bleu for test set:  78%|███████▊  | 313/399 [28:15<07:32,  5.26s/it]Eval bleu for test set:  79%|███████▊  | 314/399 [28:20<07:26,  5.25s/it]Eval bleu for test set:  79%|███████▉  | 315/399 [28:25<07:19,  5.23s/it]Eval bleu for test set:  79%|███████▉  | 316/399 [28:30<07:13,  5.23s/it]Eval bleu for test set:  79%|███████▉  | 317/399 [28:35<07:06,  5.21s/it]Eval bleu for test set:  80%|███████▉  | 318/399 [28:41<07:02,  5.22s/it]Eval bleu for test set:  80%|███████▉  | 319/399 [28:46<06:57,  5.22s/it]Eval bleu for test set:  80%|████████  | 320/399 [28:51<06:53,  5.23s/it]Eval bleu for test set:  80%|████████  | 321/399 [28:56<06:48,  5.24s/it]Eval bleu for test set:  81%|████████  | 322/399 [29:02<06:43,  5.24s/it]Eval bleu for test set:  81%|████████  | 323/399 [29:07<06:37,  5.24s/it]Eval bleu for test set:  81%|████████  | 324/399 [29:12<06:32,  5.23s/it]Eval bleu for test set:  81%|████████▏ | 325/399 [29:17<06:27,  5.23s/it]Eval bleu for test set:  82%|████████▏ | 326/399 [29:23<06:21,  5.22s/it]Eval bleu for test set:  82%|████████▏ | 327/399 [29:28<06:16,  5.23s/it]Eval bleu for test set:  82%|████████▏ | 328/399 [29:33<06:09,  5.21s/it]Eval bleu for test set:  82%|████████▏ | 329/399 [29:38<06:02,  5.18s/it]Eval bleu for test set:  83%|████████▎ | 330/399 [29:43<05:59,  5.21s/it]Eval bleu for test set:  83%|████████▎ | 331/399 [29:49<05:54,  5.21s/it]Eval bleu for test set:  83%|████████▎ | 332/399 [29:54<05:49,  5.21s/it]Eval bleu for test set:  83%|████████▎ | 333/399 [29:59<05:45,  5.24s/it]Eval bleu for test set:  84%|████████▎ | 334/399 [30:04<05:40,  5.24s/it]Eval bleu for test set:  84%|████████▍ | 335/399 [30:10<05:34,  5.23s/it]Eval bleu for test set:  84%|████████▍ | 336/399 [30:15<05:29,  5.23s/it]Eval bleu for test set:  84%|████████▍ | 337/399 [30:20<05:24,  5.23s/it]Eval bleu for test set:  85%|████████▍ | 338/399 [30:25<05:19,  5.24s/it]Eval bleu for test set:  85%|████████▍ | 339/399 [30:31<05:14,  5.25s/it]Eval bleu for test set:  85%|████████▌ | 340/399 [30:36<05:08,  5.24s/it]Eval bleu for test set:  85%|████████▌ | 341/399 [30:41<05:04,  5.25s/it]Eval bleu for test set:  86%|████████▌ | 342/399 [30:46<04:58,  5.24s/it]Eval bleu for test set:  86%|████████▌ | 343/399 [30:51<04:53,  5.23s/it]Eval bleu for test set:  86%|████████▌ | 344/399 [30:57<04:48,  5.24s/it]Eval bleu for test set:  86%|████████▋ | 345/399 [31:02<04:43,  5.25s/it]Eval bleu for test set:  87%|████████▋ | 346/399 [31:07<04:38,  5.25s/it]Eval bleu for test set:  87%|████████▋ | 347/399 [31:12<04:32,  5.24s/it]Eval bleu for test set:  87%|████████▋ | 348/399 [31:18<04:26,  5.23s/it]Eval bleu for test set:  87%|████████▋ | 349/399 [31:23<04:21,  5.23s/it]Eval bleu for test set:  88%|████████▊ | 350/399 [31:28<04:16,  5.23s/it]Eval bleu for test set:  88%|████████▊ | 351/399 [31:33<04:11,  5.25s/it]Eval bleu for test set:  88%|████████▊ | 352/399 [31:39<04:07,  5.26s/it]Eval bleu for test set:  88%|████████▊ | 353/399 [31:44<04:00,  5.24s/it]Eval bleu for test set:  89%|████████▊ | 354/399 [31:49<03:56,  5.25s/it]Eval bleu for test set:  89%|████████▉ | 355/399 [31:54<03:50,  5.25s/it]Eval bleu for test set:  89%|████████▉ | 356/399 [32:00<03:45,  5.24s/it]Eval bleu for test set:  89%|████████▉ | 357/399 [32:05<03:40,  5.26s/it]Eval bleu for test set:  90%|████████▉ | 358/399 [32:10<03:35,  5.26s/it]Eval bleu for test set:  90%|████████▉ | 359/399 [32:16<03:30,  5.27s/it]Eval bleu for test set:  90%|█████████ | 360/399 [32:21<03:25,  5.28s/it]Eval bleu for test set:  90%|█████████ | 361/399 [32:26<03:19,  5.26s/it]Eval bleu for test set:  91%|█████████ | 362/399 [32:31<03:14,  5.26s/it]Eval bleu for test set:  91%|█████████ | 363/399 [32:36<03:08,  5.24s/it]Eval bleu for test set:  91%|█████████ | 364/399 [32:42<03:03,  5.24s/it]Eval bleu for test set:  91%|█████████▏| 365/399 [32:47<02:58,  5.24s/it]Eval bleu for test set:  92%|█████████▏| 366/399 [32:52<02:53,  5.25s/it]Eval bleu for test set:  92%|█████████▏| 367/399 [32:58<02:48,  5.26s/it]Eval bleu for test set:  92%|█████████▏| 368/399 [33:03<02:43,  5.26s/it]Eval bleu for test set:  92%|█████████▏| 369/399 [33:08<02:37,  5.26s/it]Eval bleu for test set:  93%|█████████▎| 370/399 [33:13<02:32,  5.25s/it]Eval bleu for test set:  93%|█████████▎| 371/399 [33:19<02:27,  5.25s/it]Eval bleu for test set:  93%|█████████▎| 372/399 [33:24<02:22,  5.26s/it]Eval bleu for test set:  93%|█████████▎| 373/399 [33:29<02:16,  5.25s/it]Eval bleu for test set:  94%|█████████▎| 374/399 [33:34<02:11,  5.25s/it]Eval bleu for test set:  94%|█████████▍| 375/399 [33:40<02:06,  5.26s/it]Eval bleu for test set:  94%|█████████▍| 376/399 [33:45<02:00,  5.26s/it]Eval bleu for test set:  94%|█████████▍| 377/399 [33:50<01:55,  5.25s/it]Eval bleu for test set:  95%|█████████▍| 378/399 [33:55<01:50,  5.25s/it]Eval bleu for test set:  95%|█████████▍| 379/399 [34:01<01:45,  5.25s/it]Eval bleu for test set:  95%|█████████▌| 380/399 [34:06<01:39,  5.25s/it]Eval bleu for test set:  95%|█████████▌| 381/399 [34:11<01:34,  5.23s/it]Eval bleu for test set:  96%|█████████▌| 382/399 [34:16<01:29,  5.24s/it]Eval bleu for test set:  96%|█████████▌| 383/399 [34:22<01:23,  5.25s/it]Eval bleu for test set:  96%|█████████▌| 384/399 [34:27<01:18,  5.23s/it]Eval bleu for test set:  96%|█████████▋| 385/399 [34:32<01:13,  5.24s/it]Eval bleu for test set:  97%|█████████▋| 386/399 [34:37<01:08,  5.23s/it]Eval bleu for test set:  97%|█████████▋| 387/399 [34:42<01:02,  5.23s/it]Eval bleu for test set:  97%|█████████▋| 388/399 [34:48<00:57,  5.24s/it]Eval bleu for test set:  97%|█████████▋| 389/399 [34:53<00:52,  5.23s/it]Eval bleu for test set:  98%|█████████▊| 390/399 [34:58<00:47,  5.24s/it]Eval bleu for test set:  98%|█████████▊| 391/399 [35:03<00:41,  5.23s/it]Eval bleu for test set:  98%|█████████▊| 392/399 [35:09<00:36,  5.25s/it]Eval bleu for test set:  98%|█████████▊| 393/399 [35:14<00:31,  5.26s/it]Eval bleu for test set:  99%|█████████▊| 394/399 [35:19<00:26,  5.24s/it]Eval bleu for test set:  99%|█████████▉| 395/399 [35:24<00:20,  5.24s/it]Eval bleu for test set:  99%|█████████▉| 396/399 [35:30<00:15,  5.24s/it]Eval bleu for test set:  99%|█████████▉| 397/399 [35:35<00:10,  5.24s/it]Eval bleu for test set: 100%|█████████▉| 398/399 [35:40<00:05,  5.24s/it]Eval bleu for test set: 100%|██████████| 399/399 [35:45<00:00,  5.25s/it]Eval bleu for test set: 100%|██████████| 399/399 [35:46<00:00,  5.38s/it]
11/13/2022 08:23:09 - INFO - __main__ -   ***** Eval results *****
11/13/2022 08:23:09 - INFO - __main__ -     bleu = 57.77
11/13/2022 08:23:09 - INFO - __main__ -     codebleu = 63.9243
11/13/2022 08:23:09 - INFO - __main__ -     em = 0.0313
11/13/2022 08:23:09 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeinsert_log_statement + whether_refactoringafter_refactoring :
11/13/2022 08:23:09 - INFO - __main__ -   [best-bleu] bleu-4: 57.77, em: 0.0313, codebleu: 63.9243

11/13/2022 08:23:09 - INFO - __main__ -   Finish and take 8h1m
11/13/2022 08:23:09 - INFO - __main__ -     ***** Testing *****
11/13/2022 08:23:09 - INFO - __main__ -     Batch size = 16
11/13/2022 08:23:09 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 08:23:09 - INFO - __main__ -   test11111111111
11/13/2022 08:23:09 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 08:23:09 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/insert_try_catch/before_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/insert_try_catch/before_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 08:23:09 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 08:23:09 - INFO - utils -   Read 5073 examples, avg src len: 74, avg trg len: 72, max src len: 194, max trg len: 190
11/13/2022 08:23:09 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/boolean_exchange_20221113_065523/convert_switch_to_if_20221113_065622/convert_switch_to_if_20221113_065729/insert_log_statement_20221113_065836/insert_log_statement_20221113_074053/insert_try_catch_20221113_082309/test_src_all.pt
11/13/2022 08:23:09 - INFO - utils -   加载前test666666666666666
ngram match: 0.5777414736792081, weighted ngram match: 0.6045301379594448, syntax_match: 0.7516478418071865, dataflow_match: 0.6230517831799065
  0%|          | 0/5073 [00:00<?, ?it/s] 50%|█████     | 2538/5073 [00:02<00:02, 1095.74it/s] 75%|███████▌  | 3807/5073 [00:04<00:01, 757.23it/s] 100%|██████████| 5073/5073 [00:04<00:00, 1075.37it/s]
11/13/2022 08:23:19 - INFO - utils -   加载后test77777777777777
11/13/2022 08:23:19 - INFO - __main__ -   加载成功test2222222222
11/13/2022 08:23:19 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 08:23:19 - INFO - __main__ -     Num examples = 5073
11/13/2022 08:23:19 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/318 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/318 [00:05<29:14,  5.54s/it]Eval bleu for test set:   1%|          | 2/318 [00:10<28:12,  5.36s/it]Eval bleu for test set:   1%|          | 3/318 [00:16<27:55,  5.32s/it]Eval bleu for test set:   1%|▏         | 4/318 [00:21<27:42,  5.29s/it]Eval bleu for test set:   2%|▏         | 5/318 [00:26<27:37,  5.30s/it]Eval bleu for test set:   2%|▏         | 6/318 [00:31<27:27,  5.28s/it]Eval bleu for test set:   2%|▏         | 7/318 [00:37<27:25,  5.29s/it]Eval bleu for test set:   3%|▎         | 8/318 [00:42<27:20,  5.29s/it]Eval bleu for test set:   3%|▎         | 9/318 [00:48<28:21,  5.51s/it]Eval bleu for test set:   3%|▎         | 10/318 [00:54<28:55,  5.64s/it]Eval bleu for test set:   3%|▎         | 11/318 [01:00<29:21,  5.74s/it]Eval bleu for test set:   4%|▍         | 12/318 [01:06<29:41,  5.82s/it]Eval bleu for test set:   4%|▍         | 13/318 [01:12<29:47,  5.86s/it]Eval bleu for test set:   4%|▍         | 14/318 [01:18<29:51,  5.89s/it]Eval bleu for test set:   5%|▍         | 15/318 [01:24<29:51,  5.91s/it]Eval bleu for test set:   5%|▌         | 16/318 [01:30<29:45,  5.91s/it]Eval bleu for test set:   5%|▌         | 17/318 [01:36<29:46,  5.93s/it]Eval bleu for test set:   6%|▌         | 18/318 [01:42<29:40,  5.93s/it]Eval bleu for test set:   6%|▌         | 19/318 [01:48<29:36,  5.94s/it]Eval bleu for test set:   6%|▋         | 20/318 [01:53<29:30,  5.94s/it]Eval bleu for test set:   7%|▋         | 21/318 [01:59<29:27,  5.95s/it]Eval bleu for test set:   7%|▋         | 22/318 [02:05<29:23,  5.96s/it]Eval bleu for test set:   7%|▋         | 23/318 [02:11<29:18,  5.96s/it]Eval bleu for test set:   8%|▊         | 24/318 [02:17<29:11,  5.96s/it]Eval bleu for test set:   8%|▊         | 25/318 [02:23<29:01,  5.95s/it]Eval bleu for test set:   8%|▊         | 26/318 [02:29<28:57,  5.95s/it]Eval bleu for test set:   8%|▊         | 27/318 [02:35<28:53,  5.96s/it]Eval bleu for test set:   9%|▉         | 28/318 [02:41<28:39,  5.93s/it]Eval bleu for test set:   9%|▉         | 29/318 [02:47<28:38,  5.95s/it]Eval bleu for test set:   9%|▉         | 30/318 [02:53<28:33,  5.95s/it]Eval bleu for test set:  10%|▉         | 31/318 [02:59<28:32,  5.97s/it]Eval bleu for test set:  10%|█         | 32/318 [03:05<28:25,  5.96s/it]Eval bleu for test set:  10%|█         | 33/318 [03:11<28:20,  5.97s/it]Eval bleu for test set:  11%|█         | 34/318 [03:17<28:12,  5.96s/it]Eval bleu for test set:  11%|█         | 35/318 [03:23<28:04,  5.95s/it]Eval bleu for test set:  11%|█▏        | 36/318 [03:29<27:56,  5.95s/it]Eval bleu for test set:  12%|█▏        | 37/318 [03:35<27:53,  5.95s/it]Eval bleu for test set:  12%|█▏        | 38/318 [03:41<27:47,  5.96s/it]Eval bleu for test set:  12%|█▏        | 39/318 [03:46<27:10,  5.85s/it]Eval bleu for test set:  13%|█▎        | 40/318 [03:52<26:16,  5.67s/it]Eval bleu for test set:  13%|█▎        | 41/318 [03:57<25:40,  5.56s/it]Eval bleu for test set:  13%|█▎        | 42/318 [04:02<25:12,  5.48s/it]Eval bleu for test set:  14%|█▎        | 43/318 [04:07<24:49,  5.42s/it]Eval bleu for test set:  14%|█▍        | 44/318 [04:13<24:31,  5.37s/it]Eval bleu for test set:  14%|█▍        | 45/318 [04:18<24:14,  5.33s/it]Eval bleu for test set:  14%|█▍        | 46/318 [04:23<24:04,  5.31s/it]Eval bleu for test set:  15%|█▍        | 47/318 [04:28<23:54,  5.29s/it]Eval bleu for test set:  15%|█▌        | 48/318 [04:34<23:47,  5.29s/it]Eval bleu for test set:  15%|█▌        | 49/318 [04:39<23:36,  5.27s/it]Eval bleu for test set:  16%|█▌        | 50/318 [04:44<23:34,  5.28s/it]Eval bleu for test set:  16%|█▌        | 51/318 [04:49<23:27,  5.27s/it]Eval bleu for test set:  16%|█▋        | 52/318 [04:55<23:24,  5.28s/it]Eval bleu for test set:  17%|█▋        | 53/318 [05:00<23:20,  5.28s/it]Eval bleu for test set:  17%|█▋        | 54/318 [05:05<23:13,  5.28s/it]Eval bleu for test set:  17%|█▋        | 55/318 [05:11<23:03,  5.26s/it]Eval bleu for test set:  18%|█▊        | 56/318 [05:16<22:59,  5.26s/it]Eval bleu for test set:  18%|█▊        | 57/318 [05:21<22:56,  5.27s/it]Eval bleu for test set:  18%|█▊        | 58/318 [05:26<22:51,  5.27s/it]Eval bleu for test set:  19%|█▊        | 59/318 [05:32<22:45,  5.27s/it]Eval bleu for test set:  19%|█▉        | 60/318 [05:37<22:41,  5.28s/it]Eval bleu for test set:  19%|█▉        | 61/318 [05:42<22:37,  5.28s/it]Eval bleu for test set:  19%|█▉        | 62/318 [05:47<22:31,  5.28s/it]Eval bleu for test set:  20%|█▉        | 63/318 [05:53<22:25,  5.28s/it]Eval bleu for test set:  20%|██        | 64/318 [05:58<22:16,  5.26s/it]Eval bleu for test set:  20%|██        | 65/318 [06:03<22:13,  5.27s/it]Eval bleu for test set:  21%|██        | 66/318 [06:09<22:08,  5.27s/it]Eval bleu for test set:  21%|██        | 67/318 [06:14<21:59,  5.26s/it]Eval bleu for test set:  21%|██▏       | 68/318 [06:19<21:57,  5.27s/it]Eval bleu for test set:  22%|██▏       | 69/318 [06:24<21:50,  5.26s/it]Eval bleu for test set:  22%|██▏       | 70/318 [06:30<21:46,  5.27s/it]Eval bleu for test set:  22%|██▏       | 71/318 [06:35<21:41,  5.27s/it]Eval bleu for test set:  23%|██▎       | 72/318 [06:40<21:37,  5.27s/it]Eval bleu for test set:  23%|██▎       | 73/318 [06:45<21:33,  5.28s/it]Eval bleu for test set:  23%|██▎       | 74/318 [06:51<21:29,  5.28s/it]Eval bleu for test set:  24%|██▎       | 75/318 [06:56<21:20,  5.27s/it]Eval bleu for test set:  24%|██▍       | 76/318 [07:01<21:13,  5.26s/it]Eval bleu for test set:  24%|██▍       | 77/318 [07:07<21:10,  5.27s/it]Eval bleu for test set:  25%|██▍       | 78/318 [07:12<21:05,  5.27s/it]Eval bleu for test set:  25%|██▍       | 79/318 [07:17<20:57,  5.26s/it]Eval bleu for test set:  25%|██▌       | 80/318 [07:22<20:50,  5.25s/it]Eval bleu for test set:  25%|██▌       | 81/318 [07:28<20:46,  5.26s/it]Eval bleu for test set:  26%|██▌       | 82/318 [07:33<20:43,  5.27s/it]Eval bleu for test set:  26%|██▌       | 83/318 [07:38<20:34,  5.25s/it]Eval bleu for test set:  26%|██▋       | 84/318 [07:43<20:29,  5.26s/it]Eval bleu for test set:  27%|██▋       | 85/318 [07:49<20:21,  5.24s/it]Eval bleu for test set:  27%|██▋       | 86/318 [07:54<20:18,  5.25s/it]Eval bleu for test set:  27%|██▋       | 87/318 [07:59<20:16,  5.26s/it]Eval bleu for test set:  28%|██▊       | 88/318 [08:04<20:09,  5.26s/it]Eval bleu for test set:  28%|██▊       | 89/318 [08:10<20:05,  5.26s/it]Eval bleu for test set:  28%|██▊       | 90/318 [08:15<19:58,  5.26s/it]Eval bleu for test set:  29%|██▊       | 91/318 [08:20<19:54,  5.26s/it]Eval bleu for test set:  29%|██▉       | 92/318 [08:25<19:51,  5.27s/it]Eval bleu for test set:  29%|██▉       | 93/318 [08:31<19:46,  5.27s/it]Eval bleu for test set:  30%|██▉       | 94/318 [08:36<19:41,  5.27s/it]Eval bleu for test set:  30%|██▉       | 95/318 [08:41<19:35,  5.27s/it]Eval bleu for test set:  30%|███       | 96/318 [08:47<19:31,  5.28s/it]Eval bleu for test set:  31%|███       | 97/318 [08:52<19:24,  5.27s/it]Eval bleu for test set:  31%|███       | 98/318 [08:57<19:20,  5.28s/it]Eval bleu for test set:  31%|███       | 99/318 [09:02<19:15,  5.28s/it]Eval bleu for test set:  31%|███▏      | 100/318 [09:08<19:11,  5.28s/it]Eval bleu for test set:  32%|███▏      | 101/318 [09:13<19:03,  5.27s/it]Eval bleu for test set:  32%|███▏      | 102/318 [09:18<18:58,  5.27s/it]Eval bleu for test set:  32%|███▏      | 103/318 [09:23<18:53,  5.27s/it]Eval bleu for test set:  33%|███▎      | 104/318 [09:29<18:48,  5.27s/it]Eval bleu for test set:  33%|███▎      | 105/318 [09:34<18:42,  5.27s/it]Eval bleu for test set:  33%|███▎      | 106/318 [09:39<18:39,  5.28s/it]Eval bleu for test set:  34%|███▎      | 107/318 [09:45<18:33,  5.28s/it]Eval bleu for test set:  34%|███▍      | 108/318 [09:50<18:27,  5.27s/it]Eval bleu for test set:  34%|███▍      | 109/318 [09:55<18:23,  5.28s/it]Eval bleu for test set:  35%|███▍      | 110/318 [10:00<18:18,  5.28s/it]Eval bleu for test set:  35%|███▍      | 111/318 [10:06<18:12,  5.28s/it]Eval bleu for test set:  35%|███▌      | 112/318 [10:11<18:08,  5.28s/it]Eval bleu for test set:  36%|███▌      | 113/318 [10:16<17:59,  5.26s/it]Eval bleu for test set:  36%|███▌      | 114/318 [10:21<17:50,  5.25s/it]Eval bleu for test set:  36%|███▌      | 115/318 [10:27<17:48,  5.26s/it]Eval bleu for test set:  36%|███▋      | 116/318 [10:32<17:44,  5.27s/it]Eval bleu for test set:  37%|███▋      | 117/318 [10:37<17:37,  5.26s/it]Eval bleu for test set:  37%|███▋      | 118/318 [10:42<17:31,  5.26s/it]Eval bleu for test set:  37%|███▋      | 119/318 [10:48<17:28,  5.27s/it]Eval bleu for test set:  38%|███▊      | 120/318 [10:53<17:23,  5.27s/it]Eval bleu for test set:  38%|███▊      | 121/318 [10:58<17:18,  5.27s/it]Eval bleu for test set:  38%|███▊      | 122/318 [11:04<17:14,  5.28s/it]Eval bleu for test set:  39%|███▊      | 123/318 [11:09<17:09,  5.28s/it]Eval bleu for test set:  39%|███▉      | 124/318 [11:14<17:03,  5.28s/it]Eval bleu for test set:  39%|███▉      | 125/318 [11:19<16:57,  5.27s/it]Eval bleu for test set:  40%|███▉      | 126/318 [11:25<16:52,  5.28s/it]Eval bleu for test set:  40%|███▉      | 127/318 [11:30<16:46,  5.27s/it]Eval bleu for test set:  40%|████      | 128/318 [11:35<16:41,  5.27s/it]Eval bleu for test set:  41%|████      | 129/318 [11:40<16:35,  5.27s/it]Eval bleu for test set:  41%|████      | 130/318 [11:46<16:30,  5.27s/it]Eval bleu for test set:  41%|████      | 131/318 [11:51<16:25,  5.27s/it]Eval bleu for test set:  42%|████▏     | 132/318 [11:56<16:19,  5.27s/it]Eval bleu for test set:  42%|████▏     | 133/318 [12:02<16:14,  5.27s/it]Eval bleu for test set:  42%|████▏     | 134/318 [12:07<16:10,  5.28s/it]Eval bleu for test set:  42%|████▏     | 135/318 [12:12<16:07,  5.29s/it]Eval bleu for test set:  43%|████▎     | 136/318 [12:17<16:00,  5.28s/it]Eval bleu for test set:  43%|████▎     | 137/318 [12:23<15:52,  5.26s/it]Eval bleu for test set:  43%|████▎     | 138/318 [12:28<15:48,  5.27s/it]Eval bleu for test set:  44%|████▎     | 139/318 [12:33<15:44,  5.28s/it]Eval bleu for test set:  44%|████▍     | 140/318 [12:38<15:37,  5.27s/it]Eval bleu for test set:  44%|████▍     | 141/318 [12:44<15:28,  5.25s/it]Eval bleu for test set:  45%|████▍     | 142/318 [12:49<15:22,  5.24s/it]Eval bleu for test set:  45%|████▍     | 143/318 [12:54<15:20,  5.26s/it]Eval bleu for test set:  45%|████▌     | 144/318 [12:59<15:14,  5.26s/it]Eval bleu for test set:  46%|████▌     | 145/318 [13:05<15:10,  5.26s/it]Eval bleu for test set:  46%|████▌     | 146/318 [13:10<15:03,  5.25s/it]Eval bleu for test set:  46%|████▌     | 147/318 [13:15<14:57,  5.25s/it]Eval bleu for test set:  47%|████▋     | 148/318 [13:20<14:53,  5.26s/it]Eval bleu for test set:  47%|████▋     | 149/318 [13:26<14:49,  5.27s/it]Eval bleu for test set:  47%|████▋     | 150/318 [13:31<14:44,  5.27s/it]Eval bleu for test set:  47%|████▋     | 151/318 [13:36<14:37,  5.25s/it]Eval bleu for test set:  48%|████▊     | 152/318 [13:42<14:33,  5.26s/it]Eval bleu for test set:  48%|████▊     | 153/318 [13:47<14:27,  5.26s/it]Eval bleu for test set:  48%|████▊     | 154/318 [13:52<14:20,  5.25s/it]Eval bleu for test set:  49%|████▊     | 155/318 [13:57<14:16,  5.25s/it]Eval bleu for test set:  49%|████▉     | 156/318 [14:03<14:11,  5.26s/it]Eval bleu for test set:  49%|████▉     | 157/318 [14:08<14:05,  5.25s/it]Eval bleu for test set:  50%|████▉     | 158/318 [14:13<14:00,  5.25s/it]Eval bleu for test set:  50%|█████     | 159/318 [14:18<13:56,  5.26s/it]Eval bleu for test set:  50%|█████     | 160/318 [14:24<13:51,  5.26s/it]Eval bleu for test set:  51%|█████     | 161/318 [14:29<13:46,  5.26s/it]Eval bleu for test set:  51%|█████     | 162/318 [14:34<13:39,  5.25s/it]Eval bleu for test set:  51%|█████▏    | 163/318 [14:39<13:35,  5.26s/it]Eval bleu for test set:  52%|█████▏    | 164/318 [14:45<13:29,  5.25s/it]Eval bleu for test set:  52%|█████▏    | 165/318 [14:50<13:23,  5.25s/it]Eval bleu for test set:  52%|█████▏    | 166/318 [14:55<13:19,  5.26s/it]Eval bleu for test set:  53%|█████▎    | 167/318 [15:00<13:15,  5.27s/it]Eval bleu for test set:  53%|█████▎    | 168/318 [15:06<13:10,  5.27s/it]Eval bleu for test set:  53%|█████▎    | 169/318 [15:11<13:03,  5.26s/it]Eval bleu for test set:  53%|█████▎    | 170/318 [15:16<12:57,  5.25s/it]Eval bleu for test set:  54%|█████▍    | 171/318 [15:21<12:52,  5.25s/it]Eval bleu for test set:  54%|█████▍    | 172/318 [15:27<12:48,  5.27s/it]Eval bleu for test set:  54%|█████▍    | 173/318 [15:32<12:41,  5.25s/it]Eval bleu for test set:  55%|█████▍    | 174/318 [15:37<12:36,  5.25s/it]Eval bleu for test set:  55%|█████▌    | 175/318 [15:42<12:31,  5.26s/it]Eval bleu for test set:  55%|█████▌    | 176/318 [15:48<12:26,  5.26s/it]Eval bleu for test set:  56%|█████▌    | 177/318 [15:53<12:22,  5.27s/it]Eval bleu for test set:  56%|█████▌    | 178/318 [15:58<12:15,  5.25s/it]Eval bleu for test set:  56%|█████▋    | 179/318 [16:03<12:11,  5.26s/it]Eval bleu for test set:  57%|█████▋    | 180/318 [16:09<12:06,  5.26s/it]Eval bleu for test set:  57%|█████▋    | 181/318 [16:14<12:01,  5.27s/it]Eval bleu for test set:  57%|█████▋    | 182/318 [16:19<11:56,  5.27s/it]Eval bleu for test set:  58%|█████▊    | 183/318 [16:25<11:51,  5.27s/it]Eval bleu for test set:  58%|█████▊    | 184/318 [16:30<11:45,  5.27s/it]Eval bleu for test set:  58%|█████▊    | 185/318 [16:35<11:40,  5.27s/it]Eval bleu for test set:  58%|█████▊    | 186/318 [16:40<11:34,  5.26s/it]Eval bleu for test set:  59%|█████▉    | 187/318 [16:46<11:30,  5.27s/it]Eval bleu for test set:  59%|█████▉    | 188/318 [16:51<11:23,  5.26s/it]Eval bleu for test set:  59%|█████▉    | 189/318 [16:56<11:18,  5.26s/it]Eval bleu for test set:  60%|█████▉    | 190/318 [17:01<11:13,  5.26s/it]Eval bleu for test set:  60%|██████    | 191/318 [17:07<11:07,  5.25s/it]Eval bleu for test set:  60%|██████    | 192/318 [17:12<11:03,  5.27s/it]Eval bleu for test set:  61%|██████    | 193/318 [17:17<10:58,  5.27s/it]Eval bleu for test set:  61%|██████    | 194/318 [17:22<10:53,  5.27s/it]Eval bleu for test set:  61%|██████▏   | 195/318 [17:28<10:48,  5.27s/it]Eval bleu for test set:  62%|██████▏   | 196/318 [17:33<10:41,  5.26s/it]Eval bleu for test set:  62%|██████▏   | 197/318 [17:38<10:33,  5.24s/it]Eval bleu for test set:  62%|██████▏   | 198/318 [17:43<10:30,  5.25s/it]Eval bleu for test set:  63%|██████▎   | 199/318 [17:49<10:24,  5.25s/it]Eval bleu for test set:  63%|██████▎   | 200/318 [17:54<10:20,  5.26s/it]Eval bleu for test set:  63%|██████▎   | 201/318 [17:59<10:15,  5.26s/it]Eval bleu for test set:  64%|██████▎   | 202/318 [18:05<10:10,  5.26s/it]Eval bleu for test set:  64%|██████▍   | 203/318 [18:10<10:05,  5.27s/it]Eval bleu for test set:  64%|██████▍   | 204/318 [18:15<10:00,  5.27s/it]Eval bleu for test set:  64%|██████▍   | 205/318 [18:20<09:55,  5.27s/it]Eval bleu for test set:  65%|██████▍   | 206/318 [18:26<09:50,  5.27s/it]Eval bleu for test set:  65%|██████▌   | 207/318 [18:31<09:45,  5.27s/it]Eval bleu for test set:  65%|██████▌   | 208/318 [18:36<09:40,  5.27s/it]Eval bleu for test set:  66%|██████▌   | 209/318 [18:41<09:34,  5.27s/it]Eval bleu for test set:  66%|██████▌   | 210/318 [18:47<09:27,  5.26s/it]Eval bleu for test set:  66%|██████▋   | 211/318 [18:52<09:23,  5.26s/it]Eval bleu for test set:  67%|██████▋   | 212/318 [18:57<09:17,  5.26s/it]Eval bleu for test set:  67%|██████▋   | 213/318 [19:02<09:11,  5.25s/it]Eval bleu for test set:  67%|██████▋   | 214/318 [19:08<09:06,  5.25s/it]Eval bleu for test set:  68%|██████▊   | 215/318 [19:13<09:00,  5.25s/it]Eval bleu for test set:  68%|██████▊   | 216/318 [19:18<08:54,  5.24s/it]Eval bleu for test set:  68%|██████▊   | 217/318 [19:23<08:49,  5.24s/it]Eval bleu for test set:  69%|██████▊   | 218/318 [19:29<08:45,  5.26s/it]Eval bleu for test set:  69%|██████▉   | 219/318 [19:34<08:41,  5.27s/it]Eval bleu for test set:  69%|██████▉   | 220/318 [19:39<08:35,  5.26s/it]Eval bleu for test set:  69%|██████▉   | 221/318 [19:44<08:30,  5.26s/it]Eval bleu for test set:  70%|██████▉   | 222/318 [19:50<08:25,  5.27s/it]Eval bleu for test set:  70%|███████   | 223/318 [19:55<08:20,  5.27s/it]Eval bleu for test set:  70%|███████   | 224/318 [20:00<08:15,  5.28s/it]Eval bleu for test set:  71%|███████   | 225/318 [20:06<08:10,  5.27s/it]Eval bleu for test set:  71%|███████   | 226/318 [20:11<08:05,  5.27s/it]Eval bleu for test set:  71%|███████▏  | 227/318 [20:16<07:59,  5.27s/it]Eval bleu for test set:  72%|███████▏  | 228/318 [20:21<07:52,  5.25s/it]Eval bleu for test set:  72%|███████▏  | 229/318 [20:27<07:47,  5.26s/it]Eval bleu for test set:  72%|███████▏  | 230/318 [20:32<07:42,  5.25s/it]Eval bleu for test set:  73%|███████▎  | 231/318 [20:37<07:36,  5.25s/it]Eval bleu for test set:  73%|███████▎  | 232/318 [20:42<07:32,  5.26s/it]Eval bleu for test set:  73%|███████▎  | 233/318 [20:48<07:26,  5.26s/it]Eval bleu for test set:  74%|███████▎  | 234/318 [20:53<07:22,  5.26s/it]Eval bleu for test set:  74%|███████▍  | 235/318 [20:58<07:15,  5.24s/it]Eval bleu for test set:  74%|███████▍  | 236/318 [21:03<07:10,  5.25s/it]Eval bleu for test set:  75%|███████▍  | 237/318 [21:09<07:04,  5.24s/it]Eval bleu for test set:  75%|███████▍  | 238/318 [21:14<06:59,  5.24s/it]Eval bleu for test set:  75%|███████▌  | 239/318 [21:19<06:54,  5.25s/it]Eval bleu for test set:  75%|███████▌  | 240/318 [21:24<06:49,  5.25s/it]Eval bleu for test set:  76%|███████▌  | 241/318 [21:30<06:44,  5.25s/it]Eval bleu for test set:  76%|███████▌  | 242/318 [21:35<06:39,  5.26s/it]Eval bleu for test set:  76%|███████▋  | 243/318 [21:40<06:34,  5.25s/it]Eval bleu for test set:  77%|███████▋  | 244/318 [21:45<06:28,  5.26s/it]Eval bleu for test set:  77%|███████▋  | 245/318 [21:51<06:24,  5.26s/it]Eval bleu for test set:  77%|███████▋  | 246/318 [21:56<06:18,  5.26s/it]Eval bleu for test set:  78%|███████▊  | 247/318 [22:01<06:13,  5.27s/it]Eval bleu for test set:  78%|███████▊  | 248/318 [22:06<06:09,  5.27s/it]Eval bleu for test set:  78%|███████▊  | 249/318 [22:12<06:04,  5.28s/it]Eval bleu for test set:  79%|███████▊  | 250/318 [22:17<05:58,  5.27s/it]Eval bleu for test set:  79%|███████▉  | 251/318 [22:22<05:52,  5.26s/it]Eval bleu for test set:  79%|███████▉  | 252/318 [22:27<05:46,  5.25s/it]Eval bleu for test set:  80%|███████▉  | 253/318 [22:33<05:41,  5.25s/it]Eval bleu for test set:  80%|███████▉  | 254/318 [22:38<05:36,  5.26s/it]Eval bleu for test set:  80%|████████  | 255/318 [22:43<05:31,  5.26s/it]Eval bleu for test set:  81%|████████  | 256/318 [22:48<05:25,  5.26s/it]Eval bleu for test set:  81%|████████  | 257/318 [22:54<05:20,  5.25s/it]Eval bleu for test set:  81%|████████  | 258/318 [22:59<05:14,  5.24s/it]Eval bleu for test set:  81%|████████▏ | 259/318 [23:04<05:08,  5.23s/it]Eval bleu for test set:  82%|████████▏ | 260/318 [23:09<05:02,  5.22s/it]Eval bleu for test set:  82%|████████▏ | 261/318 [23:15<04:57,  5.22s/it]Eval bleu for test set:  82%|████████▏ | 262/318 [23:20<04:52,  5.22s/it]Eval bleu for test set:  83%|████████▎ | 263/318 [23:25<04:47,  5.23s/it]Eval bleu for test set:  83%|████████▎ | 264/318 [23:30<04:42,  5.24s/it]Eval bleu for test set:  83%|████████▎ | 265/318 [23:36<04:38,  5.25s/it]Eval bleu for test set:  84%|████████▎ | 266/318 [23:41<04:32,  5.25s/it]Eval bleu for test set:  84%|████████▍ | 267/318 [23:46<04:27,  5.24s/it]Eval bleu for test set:  84%|████████▍ | 268/318 [23:51<04:21,  5.23s/it]Eval bleu for test set:  85%|████████▍ | 269/318 [23:57<04:16,  5.24s/it]Eval bleu for test set:  85%|████████▍ | 270/318 [24:02<04:12,  5.26s/it]Eval bleu for test set:  85%|████████▌ | 271/318 [24:07<04:06,  5.24s/it]Eval bleu for test set:  86%|████████▌ | 272/318 [24:12<04:01,  5.25s/it]Eval bleu for test set:  86%|████████▌ | 273/318 [24:18<03:56,  5.26s/it]Eval bleu for test set:  86%|████████▌ | 274/318 [24:23<03:51,  5.27s/it]Eval bleu for test set:  86%|████████▋ | 275/318 [24:28<03:46,  5.26s/it]Eval bleu for test set:  87%|████████▋ | 276/318 [24:33<03:41,  5.27s/it]Eval bleu for test set:  87%|████████▋ | 277/318 [24:39<03:35,  5.26s/it]Eval bleu for test set:  87%|████████▋ | 278/318 [24:44<03:30,  5.26s/it]Eval bleu for test set:  88%|████████▊ | 279/318 [24:49<03:25,  5.26s/it]Eval bleu for test set:  88%|████████▊ | 280/318 [24:54<03:20,  5.27s/it]Eval bleu for test set:  88%|████████▊ | 281/318 [25:00<03:14,  5.26s/it]Eval bleu for test set:  89%|████████▊ | 282/318 [25:05<03:09,  5.27s/it]Eval bleu for test set:  89%|████████▉ | 283/318 [25:10<03:04,  5.27s/it]Eval bleu for test set:  89%|████████▉ | 284/318 [25:16<02:59,  5.28s/it]Eval bleu for test set:  90%|████████▉ | 285/318 [25:21<02:53,  5.26s/it]Eval bleu for test set:  90%|████████▉ | 286/318 [25:26<02:48,  5.27s/it]Eval bleu for test set:  90%|█████████ | 287/318 [25:31<02:42,  5.24s/it]Eval bleu for test set:  91%|█████████ | 288/318 [25:36<02:37,  5.25s/it]Eval bleu for test set:  91%|█████████ | 289/318 [25:42<02:31,  5.24s/it]Eval bleu for test set:  91%|█████████ | 290/318 [25:47<02:27,  5.25s/it]Eval bleu for test set:  92%|█████████▏| 291/318 [25:52<02:21,  5.24s/it]Eval bleu for test set:  92%|█████████▏| 292/318 [25:57<02:16,  5.25s/it]Eval bleu for test set:  92%|█████████▏| 293/318 [26:03<02:11,  5.26s/it]Eval bleu for test set:  92%|█████████▏| 294/318 [26:08<02:05,  5.24s/it]Eval bleu for test set:  93%|█████████▎| 295/318 [26:13<02:00,  5.25s/it]Eval bleu for test set:  93%|█████████▎| 296/318 [26:18<01:55,  5.26s/it]Eval bleu for test set:  93%|█████████▎| 297/318 [26:24<01:50,  5.25s/it]Eval bleu for test set:  94%|█████████▎| 298/318 [26:29<01:45,  5.25s/it]Eval bleu for test set:  94%|█████████▍| 299/318 [26:34<01:39,  5.25s/it]Eval bleu for test set:  94%|█████████▍| 300/318 [26:40<01:34,  5.26s/it]Eval bleu for test set:  95%|█████████▍| 301/318 [26:45<01:29,  5.26s/it]Eval bleu for test set:  95%|█████████▍| 302/318 [26:50<01:24,  5.26s/it]Eval bleu for test set:  95%|█████████▌| 303/318 [26:55<01:19,  5.27s/it]Eval bleu for test set:  96%|█████████▌| 304/318 [27:01<01:13,  5.27s/it]Eval bleu for test set:  96%|█████████▌| 305/318 [27:06<01:08,  5.27s/it]Eval bleu for test set:  96%|█████████▌| 306/318 [27:11<01:03,  5.27s/it]Eval bleu for test set:  97%|█████████▋| 307/318 [27:16<00:57,  5.27s/it]Eval bleu for test set:  97%|█████████▋| 308/318 [27:22<00:52,  5.26s/it]Eval bleu for test set:  97%|█████████▋| 309/318 [27:27<00:47,  5.26s/it]Eval bleu for test set:  97%|█████████▋| 310/318 [27:32<00:42,  5.25s/it]Eval bleu for test set:  98%|█████████▊| 311/318 [27:37<00:36,  5.26s/it]Eval bleu for test set:  98%|█████████▊| 312/318 [27:43<00:31,  5.25s/it]Eval bleu for test set:  98%|█████████▊| 313/318 [27:48<00:26,  5.26s/it]Eval bleu for test set:  99%|█████████▊| 314/318 [27:53<00:21,  5.25s/it]Eval bleu for test set:  99%|█████████▉| 315/318 [27:58<00:15,  5.26s/it]Eval bleu for test set:  99%|█████████▉| 316/318 [28:04<00:10,  5.26s/it]Eval bleu for test set: 100%|█████████▉| 317/318 [28:09<00:05,  5.27s/it]Eval bleu for test set: 100%|██████████| 318/318 [28:11<00:00,  4.36s/it]Eval bleu for test set: 100%|██████████| 318/318 [28:11<00:00,  5.32s/it]
11/13/2022 08:56:24 - INFO - __main__ -   ***** Eval results *****
11/13/2022 08:56:24 - INFO - __main__ -     bleu = 71.16
11/13/2022 08:56:24 - INFO - __main__ -     codebleu = 71.9935
11/13/2022 08:56:24 - INFO - __main__ -     em = 5.9925
11/13/2022 08:56:24 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeinsert_try_catch + whether_refactoringbefore_refactoring :
11/13/2022 08:56:24 - INFO - __main__ -   [best-bleu] bleu-4: 71.16, em: 5.9925, codebleu: 71.9935

11/13/2022 08:56:24 - INFO - __main__ -   Finish and take 8h34m
11/13/2022 08:56:24 - INFO - __main__ -     ***** Testing *****
11/13/2022 08:56:24 - INFO - __main__ -     Batch size = 16
11/13/2022 08:56:24 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 08:56:24 - INFO - __main__ -   test11111111111
11/13/2022 08:56:24 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 08:56:24 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/insert_try_catch/after_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/insert_try_catch/after_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 08:56:24 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 08:56:24 - INFO - utils -   Read 5073 examples, avg src len: 72, avg trg len: 71, max src len: 194, max trg len: 185
11/13/2022 08:56:24 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/boolean_exchange_20221113_065523/convert_switch_to_if_20221113_065622/convert_switch_to_if_20221113_065729/insert_log_statement_20221113_065836/insert_log_statement_20221113_074053/insert_try_catch_20221113_082309/insert_try_catch_20221113_085624/test_src_all.pt
11/13/2022 08:56:24 - INFO - utils -   加载前test666666666666666
ngram match: 0.7115896794911895, weighted ngram match: 0.7321803610069804, syntax_match: 0.7964762819699469, dataflow_match: 0.6394935362733043
  0%|          | 0/5073 [00:00<?, ?it/s] 50%|█████     | 2538/5073 [00:02<00:02, 1032.34it/s] 75%|███████▌  | 3807/5073 [00:04<00:01, 734.25it/s] 100%|██████████| 5073/5073 [00:04<00:00, 1038.26it/s]
11/13/2022 08:56:34 - INFO - utils -   加载后test77777777777777
11/13/2022 08:56:34 - INFO - __main__ -   加载成功test2222222222
11/13/2022 08:56:34 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 08:56:34 - INFO - __main__ -     Num examples = 5073
11/13/2022 08:56:34 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/318 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/318 [00:05<29:25,  5.57s/it]Eval bleu for test set:   1%|          | 2/318 [00:10<28:35,  5.43s/it]Eval bleu for test set:   1%|          | 3/318 [00:16<28:11,  5.37s/it]Eval bleu for test set:   1%|▏         | 4/318 [00:21<27:56,  5.34s/it]Eval bleu for test set:   2%|▏         | 5/318 [00:27<29:04,  5.57s/it]Eval bleu for test set:   2%|▏         | 6/318 [00:33<29:42,  5.71s/it]Eval bleu for test set:   2%|▏         | 7/318 [00:39<30:09,  5.82s/it]Eval bleu for test set:   3%|▎         | 8/318 [00:45<30:25,  5.89s/it]Eval bleu for test set:   3%|▎         | 9/318 [00:51<30:34,  5.94s/it]Eval bleu for test set:   3%|▎         | 10/318 [00:57<30:38,  5.97s/it]Eval bleu for test set:   3%|▎         | 11/318 [01:03<30:37,  5.98s/it]Eval bleu for test set:   4%|▍         | 12/318 [01:09<30:38,  6.01s/it]Eval bleu for test set:   4%|▍         | 13/318 [01:15<30:36,  6.02s/it]Eval bleu for test set:   4%|▍         | 14/318 [01:21<30:33,  6.03s/it]Eval bleu for test set:   5%|▍         | 15/318 [01:27<30:26,  6.03s/it]Eval bleu for test set:   5%|▌         | 16/318 [01:33<30:22,  6.04s/it]Eval bleu for test set:   5%|▌         | 17/318 [01:39<30:18,  6.04s/it]Eval bleu for test set:   6%|▌         | 18/318 [01:45<30:11,  6.04s/it]Eval bleu for test set:   6%|▌         | 19/318 [01:52<30:07,  6.04s/it]Eval bleu for test set:   6%|▋         | 20/318 [01:58<30:01,  6.05s/it]Eval bleu for test set:   7%|▋         | 21/318 [02:04<29:56,  6.05s/it]Eval bleu for test set:   7%|▋         | 22/318 [02:10<29:49,  6.04s/it]Eval bleu for test set:   7%|▋         | 23/318 [02:16<29:45,  6.05s/it]Eval bleu for test set:   8%|▊         | 24/318 [02:22<29:38,  6.05s/it]Eval bleu for test set:   8%|▊         | 25/318 [02:28<29:31,  6.04s/it]Eval bleu for test set:   8%|▊         | 26/318 [02:34<29:26,  6.05s/it]Eval bleu for test set:   8%|▊         | 27/318 [02:40<29:25,  6.07s/it]Eval bleu for test set:   9%|▉         | 28/318 [02:46<29:15,  6.05s/it]Eval bleu for test set:   9%|▉         | 29/318 [02:52<29:09,  6.05s/it]Eval bleu for test set:   9%|▉         | 30/318 [02:58<29:02,  6.05s/it]Eval bleu for test set:  10%|▉         | 31/318 [03:04<28:58,  6.06s/it]Eval bleu for test set:  10%|█         | 32/318 [03:10<28:52,  6.06s/it]Eval bleu for test set:  10%|█         | 33/318 [03:16<28:46,  6.06s/it]Eval bleu for test set:  11%|█         | 34/318 [03:22<28:41,  6.06s/it]Eval bleu for test set:  11%|█         | 35/318 [03:28<28:34,  6.06s/it]Eval bleu for test set:  11%|█▏        | 36/318 [03:35<28:30,  6.07s/it]Eval bleu for test set:  12%|█▏        | 37/318 [03:41<28:25,  6.07s/it]Eval bleu for test set:  12%|█▏        | 38/318 [03:47<28:18,  6.06s/it]Eval bleu for test set:  12%|█▏        | 39/318 [03:53<28:11,  6.06s/it]Eval bleu for test set:  13%|█▎        | 40/318 [03:59<28:04,  6.06s/it]Eval bleu for test set:  13%|█▎        | 41/318 [04:05<27:59,  6.06s/it]Eval bleu for test set:  13%|█▎        | 42/318 [04:11<27:55,  6.07s/it]Eval bleu for test set:  14%|█▎        | 43/318 [04:17<27:49,  6.07s/it]Eval bleu for test set:  14%|█▍        | 44/318 [04:23<27:09,  5.95s/it]Eval bleu for test set:  14%|█▍        | 45/318 [04:28<26:11,  5.76s/it]Eval bleu for test set:  14%|█▍        | 46/318 [04:33<25:30,  5.63s/it]Eval bleu for test set:  15%|█▍        | 47/318 [04:39<25:00,  5.54s/it]Eval bleu for test set:  15%|█▌        | 48/318 [04:44<24:38,  5.47s/it]Eval bleu for test set:  15%|█▌        | 49/318 [04:49<24:19,  5.43s/it]Eval bleu for test set:  16%|█▌        | 50/318 [04:55<24:06,  5.40s/it]Eval bleu for test set:  16%|█▌        | 51/318 [05:00<23:56,  5.38s/it]Eval bleu for test set:  16%|█▋        | 52/318 [05:05<23:50,  5.38s/it]Eval bleu for test set:  17%|█▋        | 53/318 [05:11<23:41,  5.36s/it]Eval bleu for test set:  17%|█▋        | 54/318 [05:16<23:33,  5.35s/it]Eval bleu for test set:  17%|█▋        | 55/318 [05:21<23:23,  5.34s/it]Eval bleu for test set:  18%|█▊        | 56/318 [05:27<23:17,  5.33s/it]Eval bleu for test set:  18%|█▊        | 57/318 [05:32<23:12,  5.34s/it]Eval bleu for test set:  18%|█▊        | 58/318 [05:37<23:06,  5.33s/it]Eval bleu for test set:  19%|█▊        | 59/318 [05:43<23:00,  5.33s/it]Eval bleu for test set:  19%|█▉        | 60/318 [05:48<22:54,  5.33s/it]Eval bleu for test set:  19%|█▉        | 61/318 [05:53<22:51,  5.34s/it]Eval bleu for test set:  19%|█▉        | 62/318 [05:59<22:47,  5.34s/it]Eval bleu for test set:  20%|█▉        | 63/318 [06:04<22:42,  5.34s/it]Eval bleu for test set:  20%|██        | 64/318 [06:09<22:34,  5.33s/it]Eval bleu for test set:  20%|██        | 65/318 [06:15<22:28,  5.33s/it]Eval bleu for test set:  21%|██        | 66/318 [06:20<22:22,  5.33s/it]Eval bleu for test set:  21%|██        | 67/318 [06:25<22:15,  5.32s/it]Eval bleu for test set:  21%|██▏       | 68/318 [06:31<22:10,  5.32s/it]Eval bleu for test set:  22%|██▏       | 69/318 [06:36<21:59,  5.30s/it]Eval bleu for test set:  22%|██▏       | 70/318 [06:41<21:57,  5.31s/it]Eval bleu for test set:  22%|██▏       | 71/318 [06:46<21:53,  5.32s/it]Eval bleu for test set:  23%|██▎       | 72/318 [06:52<21:50,  5.33s/it]Eval bleu for test set:  23%|██▎       | 73/318 [06:57<21:46,  5.33s/it]Eval bleu for test set:  23%|██▎       | 74/318 [07:02<21:41,  5.34s/it]Eval bleu for test set:  24%|██▎       | 75/318 [07:08<21:35,  5.33s/it]Eval bleu for test set:  24%|██▍       | 76/318 [07:13<21:30,  5.33s/it]Eval bleu for test set:  24%|██▍       | 77/318 [07:18<21:24,  5.33s/it]Eval bleu for test set:  25%|██▍       | 78/318 [07:24<21:18,  5.33s/it]Eval bleu for test set:  25%|██▍       | 79/318 [07:29<21:12,  5.33s/it]Eval bleu for test set:  25%|██▌       | 80/318 [07:34<21:07,  5.32s/it]Eval bleu for test set:  25%|██▌       | 81/318 [07:40<21:02,  5.33s/it]Eval bleu for test set:  26%|██▌       | 82/318 [07:45<20:55,  5.32s/it]Eval bleu for test set:  26%|██▌       | 83/318 [07:50<20:48,  5.31s/it]Eval bleu for test set:  26%|██▋       | 84/318 [07:56<20:43,  5.31s/it]Eval bleu for test set:  27%|██▋       | 85/318 [08:01<20:38,  5.31s/it]Eval bleu for test set:  27%|██▋       | 86/318 [08:06<20:34,  5.32s/it]Eval bleu for test set:  27%|██▋       | 87/318 [08:12<20:30,  5.32s/it]Eval bleu for test set:  28%|██▊       | 88/318 [08:17<20:25,  5.33s/it]Eval bleu for test set:  28%|██▊       | 89/318 [08:22<20:20,  5.33s/it]Eval bleu for test set:  28%|██▊       | 90/318 [08:28<20:14,  5.33s/it]Eval bleu for test set:  29%|██▊       | 91/318 [08:33<20:08,  5.32s/it]Eval bleu for test set:  29%|██▉       | 92/318 [08:38<20:04,  5.33s/it]Eval bleu for test set:  29%|██▉       | 93/318 [08:44<19:58,  5.33s/it]Eval bleu for test set:  30%|██▉       | 94/318 [08:49<19:53,  5.33s/it]Eval bleu for test set:  30%|██▉       | 95/318 [08:54<19:47,  5.33s/it]Eval bleu for test set:  30%|███       | 96/318 [09:00<19:42,  5.33s/it]Eval bleu for test set:  31%|███       | 97/318 [09:05<19:37,  5.33s/it]Eval bleu for test set:  31%|███       | 98/318 [09:10<19:31,  5.33s/it]Eval bleu for test set:  31%|███       | 99/318 [09:16<19:27,  5.33s/it]Eval bleu for test set:  31%|███▏      | 100/318 [09:21<19:22,  5.33s/it]Eval bleu for test set:  32%|███▏      | 101/318 [09:26<19:16,  5.33s/it]Eval bleu for test set:  32%|███▏      | 102/318 [09:32<19:12,  5.34s/it]Eval bleu for test set:  32%|███▏      | 103/318 [09:37<19:05,  5.33s/it]Eval bleu for test set:  33%|███▎      | 104/318 [09:42<19:00,  5.33s/it]Eval bleu for test set:  33%|███▎      | 105/318 [09:48<18:54,  5.32s/it]Eval bleu for test set:  33%|███▎      | 106/318 [09:53<18:50,  5.33s/it]Eval bleu for test set:  34%|███▎      | 107/318 [09:58<18:46,  5.34s/it]Eval bleu for test set:  34%|███▍      | 108/318 [10:04<18:40,  5.33s/it]Eval bleu for test set:  34%|███▍      | 109/318 [10:09<18:35,  5.34s/it]Eval bleu for test set:  35%|███▍      | 110/318 [10:14<18:28,  5.33s/it]Eval bleu for test set:  35%|███▍      | 111/318 [10:20<18:24,  5.33s/it]Eval bleu for test set:  35%|███▌      | 112/318 [10:25<18:17,  5.33s/it]Eval bleu for test set:  36%|███▌      | 113/318 [10:30<18:11,  5.32s/it]Eval bleu for test set:  36%|███▌      | 114/318 [10:35<18:03,  5.31s/it]Eval bleu for test set:  36%|███▌      | 115/318 [10:41<17:58,  5.31s/it]Eval bleu for test set:  36%|███▋      | 116/318 [10:46<17:53,  5.32s/it]Eval bleu for test set:  37%|███▋      | 117/318 [10:51<17:48,  5.32s/it]Eval bleu for test set:  37%|███▋      | 118/318 [10:57<17:43,  5.32s/it]Eval bleu for test set:  37%|███▋      | 119/318 [11:02<17:37,  5.32s/it]Eval bleu for test set:  38%|███▊      | 120/318 [11:07<17:33,  5.32s/it]Eval bleu for test set:  38%|███▊      | 121/318 [11:13<17:26,  5.31s/it]Eval bleu for test set:  38%|███▊      | 122/318 [11:18<17:21,  5.31s/it]Eval bleu for test set:  39%|███▊      | 123/318 [11:23<17:16,  5.32s/it]Eval bleu for test set:  39%|███▉      | 124/318 [11:29<17:10,  5.31s/it]Eval bleu for test set:  39%|███▉      | 125/318 [11:34<17:04,  5.31s/it]Eval bleu for test set:  40%|███▉      | 126/318 [11:39<17:00,  5.32s/it]Eval bleu for test set:  40%|███▉      | 127/318 [11:45<16:54,  5.31s/it]Eval bleu for test set:  40%|████      | 128/318 [11:50<16:50,  5.32s/it]Eval bleu for test set:  41%|████      | 129/318 [11:55<16:44,  5.31s/it]Eval bleu for test set:  41%|████      | 130/318 [12:01<16:39,  5.32s/it]Eval bleu for test set:  41%|████      | 131/318 [12:06<16:35,  5.33s/it]Eval bleu for test set:  42%|████▏     | 132/318 [12:11<16:30,  5.33s/it]Eval bleu for test set:  42%|████▏     | 133/318 [12:17<16:25,  5.33s/it]Eval bleu for test set:  42%|████▏     | 134/318 [12:22<16:19,  5.33s/it]Eval bleu for test set:  42%|████▏     | 135/318 [12:27<16:14,  5.33s/it]Eval bleu for test set:  43%|████▎     | 136/318 [12:33<16:09,  5.33s/it]Eval bleu for test set:  43%|████▎     | 137/318 [12:38<16:05,  5.33s/it]Eval bleu for test set:  43%|████▎     | 138/318 [12:43<16:00,  5.33s/it]Eval bleu for test set:  44%|████▎     | 139/318 [12:49<15:54,  5.33s/it]Eval bleu for test set:  44%|████▍     | 140/318 [12:54<15:49,  5.33s/it]Eval bleu for test set:  44%|████▍     | 141/318 [12:59<15:41,  5.32s/it]Eval bleu for test set:  45%|████▍     | 142/318 [13:04<15:35,  5.31s/it]Eval bleu for test set:  45%|████▍     | 143/318 [13:10<15:31,  5.32s/it]Eval bleu for test set:  45%|████▌     | 144/318 [13:15<15:26,  5.32s/it]Eval bleu for test set:  46%|████▌     | 145/318 [13:20<15:21,  5.33s/it]Eval bleu for test set:  46%|████▌     | 146/318 [13:26<15:14,  5.32s/it]Eval bleu for test set:  46%|████▌     | 147/318 [13:31<15:09,  5.32s/it]Eval bleu for test set:  47%|████▋     | 148/318 [13:36<15:05,  5.33s/it]Eval bleu for test set:  47%|████▋     | 149/318 [13:42<15:00,  5.33s/it]Eval bleu for test set:  47%|████▋     | 150/318 [13:47<14:55,  5.33s/it]Eval bleu for test set:  47%|████▋     | 151/318 [13:52<14:48,  5.32s/it]Eval bleu for test set:  48%|████▊     | 152/318 [13:58<14:44,  5.33s/it]Eval bleu for test set:  48%|████▊     | 153/318 [14:03<14:38,  5.32s/it]Eval bleu for test set:  48%|████▊     | 154/318 [14:08<14:32,  5.32s/it]Eval bleu for test set:  49%|████▊     | 155/318 [14:14<14:28,  5.33s/it]Eval bleu for test set:  49%|████▉     | 156/318 [14:19<14:23,  5.33s/it]Eval bleu for test set:  49%|████▉     | 157/318 [14:24<14:16,  5.32s/it]Eval bleu for test set:  50%|████▉     | 158/318 [14:30<14:12,  5.33s/it]Eval bleu for test set:  50%|█████     | 159/318 [14:35<14:07,  5.33s/it]Eval bleu for test set:  50%|█████     | 160/318 [14:40<14:01,  5.33s/it]Eval bleu for test set:  51%|█████     | 161/318 [14:46<13:56,  5.33s/it]Eval bleu for test set:  51%|█████     | 162/318 [14:51<13:49,  5.31s/it]Eval bleu for test set:  51%|█████▏    | 163/318 [14:56<13:44,  5.32s/it]Eval bleu for test set:  52%|█████▏    | 164/318 [15:02<13:38,  5.31s/it]Eval bleu for test set:  52%|█████▏    | 165/318 [15:07<13:33,  5.31s/it]Eval bleu for test set:  52%|█████▏    | 166/318 [15:12<13:28,  5.32s/it]Eval bleu for test set:  53%|█████▎    | 167/318 [15:18<13:23,  5.32s/it]Eval bleu for test set:  53%|█████▎    | 168/318 [15:23<13:18,  5.33s/it]Eval bleu for test set:  53%|█████▎    | 169/318 [15:28<13:12,  5.32s/it]Eval bleu for test set:  53%|█████▎    | 170/318 [15:33<13:06,  5.31s/it]Eval bleu for test set:  54%|█████▍    | 171/318 [15:39<13:01,  5.32s/it]Eval bleu for test set:  54%|█████▍    | 172/318 [15:44<12:57,  5.32s/it]Eval bleu for test set:  54%|█████▍    | 173/318 [15:49<12:51,  5.32s/it]Eval bleu for test set:  55%|█████▍    | 174/318 [15:55<12:46,  5.32s/it]Eval bleu for test set:  55%|█████▌    | 175/318 [16:00<12:42,  5.34s/it]Eval bleu for test set:  55%|█████▌    | 176/318 [16:05<12:37,  5.33s/it]Eval bleu for test set:  56%|█████▌    | 177/318 [16:11<12:31,  5.33s/it]Eval bleu for test set:  56%|█████▌    | 178/318 [16:16<12:25,  5.33s/it]Eval bleu for test set:  56%|█████▋    | 179/318 [16:21<12:20,  5.33s/it]Eval bleu for test set:  57%|█████▋    | 180/318 [16:27<12:15,  5.33s/it]Eval bleu for test set:  57%|█████▋    | 181/318 [16:32<12:10,  5.33s/it]Eval bleu for test set:  57%|█████▋    | 182/318 [16:37<12:05,  5.34s/it]Eval bleu for test set:  58%|█████▊    | 183/318 [16:43<11:59,  5.33s/it]Eval bleu for test set:  58%|█████▊    | 184/318 [16:48<11:54,  5.33s/it]Eval bleu for test set:  58%|█████▊    | 185/318 [16:53<11:48,  5.33s/it]Eval bleu for test set:  58%|█████▊    | 186/318 [16:59<11:42,  5.32s/it]Eval bleu for test set:  59%|█████▉    | 187/318 [17:04<11:38,  5.33s/it]Eval bleu for test set:  59%|█████▉    | 188/318 [17:09<11:33,  5.33s/it]Eval bleu for test set:  59%|█████▉    | 189/318 [17:15<11:27,  5.33s/it]Eval bleu for test set:  60%|█████▉    | 190/318 [17:20<11:22,  5.33s/it]Eval bleu for test set:  60%|██████    | 191/318 [17:25<11:16,  5.33s/it]Eval bleu for test set:  60%|██████    | 192/318 [17:31<11:11,  5.33s/it]Eval bleu for test set:  61%|██████    | 193/318 [17:36<11:05,  5.33s/it]Eval bleu for test set:  61%|██████    | 194/318 [17:41<11:00,  5.33s/it]Eval bleu for test set:  61%|██████▏   | 195/318 [17:47<10:55,  5.33s/it]Eval bleu for test set:  62%|██████▏   | 196/318 [17:52<10:49,  5.32s/it]Eval bleu for test set:  62%|██████▏   | 197/318 [17:57<10:42,  5.31s/it]Eval bleu for test set:  62%|██████▏   | 198/318 [18:03<10:38,  5.32s/it]Eval bleu for test set:  63%|██████▎   | 199/318 [18:08<10:32,  5.31s/it]Eval bleu for test set:  63%|██████▎   | 200/318 [18:13<10:27,  5.32s/it]Eval bleu for test set:  63%|██████▎   | 201/318 [18:19<10:22,  5.32s/it]Eval bleu for test set:  64%|██████▎   | 202/318 [18:24<10:17,  5.33s/it]Eval bleu for test set:  64%|██████▍   | 203/318 [18:29<10:12,  5.33s/it]Eval bleu for test set:  64%|██████▍   | 204/318 [18:35<10:07,  5.33s/it]Eval bleu for test set:  64%|██████▍   | 205/318 [18:40<10:02,  5.33s/it]Eval bleu for test set:  65%|██████▍   | 206/318 [18:45<09:56,  5.33s/it]Eval bleu for test set:  65%|██████▌   | 207/318 [18:51<09:51,  5.33s/it]Eval bleu for test set:  65%|██████▌   | 208/318 [18:56<09:46,  5.33s/it]Eval bleu for test set:  66%|██████▌   | 209/318 [19:01<09:41,  5.33s/it]Eval bleu for test set:  66%|██████▌   | 210/318 [19:07<09:35,  5.33s/it]Eval bleu for test set:  66%|██████▋   | 211/318 [19:12<09:29,  5.33s/it]Eval bleu for test set:  67%|██████▋   | 212/318 [19:17<09:24,  5.33s/it]Eval bleu for test set:  67%|██████▋   | 213/318 [19:23<09:19,  5.33s/it]Eval bleu for test set:  67%|██████▋   | 214/318 [19:28<09:14,  5.33s/it]Eval bleu for test set:  68%|██████▊   | 215/318 [19:33<09:08,  5.32s/it]Eval bleu for test set:  68%|██████▊   | 216/318 [19:39<09:02,  5.32s/it]Eval bleu for test set:  68%|██████▊   | 217/318 [19:44<08:56,  5.31s/it]Eval bleu for test set:  69%|██████▊   | 218/318 [19:49<08:51,  5.32s/it]Eval bleu for test set:  69%|██████▉   | 219/318 [19:55<08:46,  5.32s/it]Eval bleu for test set:  69%|██████▉   | 220/318 [20:00<08:41,  5.32s/it]Eval bleu for test set:  69%|██████▉   | 221/318 [20:05<08:36,  5.32s/it]Eval bleu for test set:  70%|██████▉   | 222/318 [20:10<08:30,  5.32s/it]Eval bleu for test set:  70%|███████   | 223/318 [20:16<08:25,  5.32s/it]Eval bleu for test set:  70%|███████   | 224/318 [20:21<08:20,  5.32s/it]Eval bleu for test set:  71%|███████   | 225/318 [20:26<08:15,  5.33s/it]Eval bleu for test set:  71%|███████   | 226/318 [20:32<08:09,  5.32s/it]Eval bleu for test set:  71%|███████▏  | 227/318 [20:37<08:03,  5.32s/it]Eval bleu for test set:  72%|███████▏  | 228/318 [20:42<07:56,  5.29s/it]Eval bleu for test set:  72%|███████▏  | 229/318 [20:48<07:51,  5.30s/it]Eval bleu for test set:  72%|███████▏  | 230/318 [20:53<07:45,  5.29s/it]Eval bleu for test set:  73%|███████▎  | 231/318 [20:58<07:40,  5.30s/it]Eval bleu for test set:  73%|███████▎  | 232/318 [21:04<07:36,  5.30s/it]Eval bleu for test set:  73%|███████▎  | 233/318 [21:09<07:31,  5.31s/it]Eval bleu for test set:  74%|███████▎  | 234/318 [21:14<07:26,  5.31s/it]Eval bleu for test set:  74%|███████▍  | 235/318 [21:19<07:19,  5.30s/it]Eval bleu for test set:  74%|███████▍  | 236/318 [21:25<07:14,  5.30s/it]Eval bleu for test set:  75%|███████▍  | 237/318 [21:30<07:09,  5.30s/it]Eval bleu for test set:  75%|███████▍  | 238/318 [21:35<07:03,  5.30s/it]Eval bleu for test set:  75%|███████▌  | 239/318 [21:41<06:59,  5.31s/it]Eval bleu for test set:  75%|███████▌  | 240/318 [21:46<06:54,  5.31s/it]Eval bleu for test set:  76%|███████▌  | 241/318 [21:51<06:48,  5.31s/it]Eval bleu for test set:  76%|███████▌  | 242/318 [21:57<06:43,  5.31s/it]Eval bleu for test set:  76%|███████▋  | 243/318 [22:02<06:38,  5.31s/it]Eval bleu for test set:  77%|███████▋  | 244/318 [22:07<06:33,  5.32s/it]Eval bleu for test set:  77%|███████▋  | 245/318 [22:13<06:28,  5.32s/it]Eval bleu for test set:  77%|███████▋  | 246/318 [22:18<06:23,  5.33s/it]Eval bleu for test set:  78%|███████▊  | 247/318 [22:23<06:18,  5.33s/it]Eval bleu for test set:  78%|███████▊  | 248/318 [22:29<06:13,  5.34s/it]Eval bleu for test set:  78%|███████▊  | 249/318 [22:34<06:08,  5.34s/it]Eval bleu for test set:  79%|███████▊  | 250/318 [22:39<06:02,  5.33s/it]Eval bleu for test set:  79%|███████▉  | 251/318 [22:45<05:56,  5.32s/it]Eval bleu for test set:  79%|███████▉  | 252/318 [22:50<05:51,  5.32s/it]Eval bleu for test set:  80%|███████▉  | 253/318 [22:55<05:46,  5.33s/it]Eval bleu for test set:  80%|███████▉  | 254/318 [23:01<05:41,  5.33s/it]Eval bleu for test set:  80%|████████  | 255/318 [23:06<05:35,  5.33s/it]Eval bleu for test set:  81%|████████  | 256/318 [23:11<05:30,  5.33s/it]Eval bleu for test set:  81%|████████  | 257/318 [23:17<05:25,  5.33s/it]Eval bleu for test set:  81%|████████  | 258/318 [23:22<05:19,  5.33s/it]Eval bleu for test set:  81%|████████▏ | 259/318 [23:27<05:14,  5.33s/it]Eval bleu for test set:  82%|████████▏ | 260/318 [23:32<05:08,  5.31s/it]Eval bleu for test set:  82%|████████▏ | 261/318 [23:38<05:02,  5.31s/it]Eval bleu for test set:  82%|████████▏ | 262/318 [23:43<04:57,  5.32s/it]Eval bleu for test set:  83%|████████▎ | 263/318 [23:48<04:52,  5.32s/it]Eval bleu for test set:  83%|████████▎ | 264/318 [23:54<04:47,  5.32s/it]Eval bleu for test set:  83%|████████▎ | 265/318 [23:59<04:42,  5.33s/it]Eval bleu for test set:  84%|████████▎ | 266/318 [24:04<04:37,  5.33s/it]Eval bleu for test set:  84%|████████▍ | 267/318 [24:10<04:31,  5.33s/it]Eval bleu for test set:  84%|████████▍ | 268/318 [24:15<04:26,  5.32s/it]Eval bleu for test set:  85%|████████▍ | 269/318 [24:20<04:20,  5.32s/it]Eval bleu for test set:  85%|████████▍ | 270/318 [24:26<04:15,  5.32s/it]Eval bleu for test set:  85%|████████▌ | 271/318 [24:31<04:09,  5.31s/it]Eval bleu for test set:  86%|████████▌ | 272/318 [24:36<04:04,  5.31s/it]Eval bleu for test set:  86%|████████▌ | 273/318 [24:42<03:58,  5.31s/it]Eval bleu for test set:  86%|████████▌ | 274/318 [24:47<03:53,  5.31s/it]Eval bleu for test set:  86%|████████▋ | 275/318 [24:52<03:48,  5.31s/it]Eval bleu for test set:  87%|████████▋ | 276/318 [24:58<03:42,  5.31s/it]Eval bleu for test set:  87%|████████▋ | 277/318 [25:03<03:37,  5.30s/it]Eval bleu for test set:  87%|████████▋ | 278/318 [25:08<03:32,  5.30s/it]Eval bleu for test set:  88%|████████▊ | 279/318 [25:13<03:26,  5.30s/it]Eval bleu for test set:  88%|████████▊ | 280/318 [25:19<03:21,  5.31s/it]Eval bleu for test set:  88%|████████▊ | 281/318 [25:24<03:16,  5.31s/it]Eval bleu for test set:  89%|████████▊ | 282/318 [25:29<03:11,  5.31s/it]Eval bleu for test set:  89%|████████▉ | 283/318 [25:35<03:05,  5.31s/it]Eval bleu for test set:  89%|████████▉ | 284/318 [25:40<03:00,  5.31s/it]Eval bleu for test set:  90%|████████▉ | 285/318 [25:45<02:55,  5.31s/it]Eval bleu for test set:  90%|████████▉ | 286/318 [25:51<02:50,  5.33s/it]Eval bleu for test set:  90%|█████████ | 287/318 [25:56<02:44,  5.32s/it]Eval bleu for test set:  91%|█████████ | 288/318 [26:01<02:39,  5.33s/it]Eval bleu for test set:  91%|█████████ | 289/318 [26:07<02:34,  5.32s/it]Eval bleu for test set:  91%|█████████ | 290/318 [26:12<02:29,  5.33s/it]Eval bleu for test set:  92%|█████████▏| 291/318 [26:17<02:23,  5.32s/it]Eval bleu for test set:  92%|█████████▏| 292/318 [26:23<02:18,  5.32s/it]Eval bleu for test set:  92%|█████████▏| 293/318 [26:28<02:13,  5.33s/it]Eval bleu for test set:  92%|█████████▏| 294/318 [26:33<02:07,  5.32s/it]Eval bleu for test set:  93%|█████████▎| 295/318 [26:39<02:02,  5.31s/it]Eval bleu for test set:  93%|█████████▎| 296/318 [26:44<01:57,  5.32s/it]Eval bleu for test set:  93%|█████████▎| 297/318 [26:49<01:51,  5.31s/it]Eval bleu for test set:  94%|█████████▎| 298/318 [26:54<01:46,  5.31s/it]Eval bleu for test set:  94%|█████████▍| 299/318 [27:00<01:40,  5.31s/it]Eval bleu for test set:  94%|█████████▍| 300/318 [27:05<01:35,  5.31s/it]Eval bleu for test set:  95%|█████████▍| 301/318 [27:10<01:30,  5.32s/it]Eval bleu for test set:  95%|█████████▍| 302/318 [27:16<01:25,  5.31s/it]Eval bleu for test set:  95%|█████████▌| 303/318 [27:21<01:19,  5.32s/it]Eval bleu for test set:  96%|█████████▌| 304/318 [27:26<01:14,  5.32s/it]Eval bleu for test set:  96%|█████████▌| 305/318 [27:32<01:09,  5.32s/it]Eval bleu for test set:  96%|█████████▌| 306/318 [27:37<01:03,  5.32s/it]Eval bleu for test set:  97%|█████████▋| 307/318 [27:42<00:58,  5.32s/it]Eval bleu for test set:  97%|█████████▋| 308/318 [27:48<00:53,  5.31s/it]Eval bleu for test set:  97%|█████████▋| 309/318 [27:53<00:47,  5.32s/it]Eval bleu for test set:  97%|█████████▋| 310/318 [27:58<00:42,  5.32s/it]Eval bleu for test set:  98%|█████████▊| 311/318 [28:04<00:37,  5.32s/it]Eval bleu for test set:  98%|█████████▊| 312/318 [28:09<00:31,  5.32s/it]Eval bleu for test set:  98%|█████████▊| 313/318 [28:14<00:26,  5.32s/it]Eval bleu for test set:  99%|█████████▊| 314/318 [28:20<00:21,  5.32s/it]Eval bleu for test set:  99%|█████████▉| 315/318 [28:25<00:15,  5.32s/it]Eval bleu for test set:  99%|█████████▉| 316/318 [28:30<00:10,  5.32s/it]Eval bleu for test set: 100%|█████████▉| 317/318 [28:36<00:05,  5.32s/it]Eval bleu for test set: 100%|██████████| 318/318 [28:38<00:00,  4.40s/it]Eval bleu for test set: 100%|██████████| 318/318 [28:38<00:00,  5.40s/it]
11/13/2022 09:30:20 - INFO - __main__ -   ***** Eval results *****
11/13/2022 09:30:20 - INFO - __main__ -     bleu = 55.61
11/13/2022 09:30:20 - INFO - __main__ -     codebleu = 61.1224
11/13/2022 09:30:20 - INFO - __main__ -     em = 0.2365
11/13/2022 09:30:20 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeinsert_try_catch + whether_refactoringafter_refactoring :
11/13/2022 09:30:20 - INFO - __main__ -   [best-bleu] bleu-4: 55.61, em: 0.2365, codebleu: 61.1224

11/13/2022 09:30:20 - INFO - __main__ -   Finish and take 9h8m
11/13/2022 09:30:20 - INFO - __main__ -     ***** Testing *****
11/13/2022 09:30:20 - INFO - __main__ -     Batch size = 16
11/13/2022 09:30:20 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 09:30:20 - INFO - __main__ -   test11111111111
11/13/2022 09:30:20 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 09:30:20 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/loop_exchange/before_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/loop_exchange/before_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 09:30:20 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 09:30:20 - INFO - utils -   Read 708 examples, avg src len: 75, avg trg len: 75, max src len: 123, max trg len: 118
11/13/2022 09:30:20 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/boolean_exchange_20221113_065523/convert_switch_to_if_20221113_065622/convert_switch_to_if_20221113_065729/insert_log_statement_20221113_065836/insert_log_statement_20221113_074053/insert_try_catch_20221113_082309/insert_try_catch_20221113_085624/loop_exchange_20221113_093020/test_src_all.pt
11/13/2022 09:30:20 - INFO - utils -   加载前test666666666666666
ngram match: 0.5560888203455346, weighted ngram match: 0.5821341379223516, syntax_match: 0.7275371606697321, dataflow_match: 0.5791363882966937
  0%|          | 0/708 [00:00<?, ?it/s] 50%|█████     | 354/708 [00:00<00:00, 1102.57it/s] 75%|███████▌  | 531/708 [00:00<00:00, 829.93it/s] 100%|██████████| 708/708 [00:00<00:00, 730.31it/s]100%|██████████| 708/708 [00:00<00:00, 786.99it/s]
11/13/2022 09:30:21 - INFO - utils -   加载后test77777777777777
11/13/2022 09:30:21 - INFO - __main__ -   加载成功test2222222222
11/13/2022 09:30:21 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 09:30:21 - INFO - __main__ -     Num examples = 708
11/13/2022 09:30:21 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/45 [00:00<?, ?it/s]Eval bleu for test set:   2%|▏         | 1/45 [00:05<04:04,  5.55s/it]Eval bleu for test set:   4%|▍         | 2/45 [00:10<03:50,  5.35s/it]Eval bleu for test set:   7%|▋         | 3/45 [00:16<03:43,  5.33s/it]Eval bleu for test set:   9%|▉         | 4/45 [00:21<03:36,  5.29s/it]Eval bleu for test set:  11%|█         | 5/45 [00:26<03:31,  5.28s/it]Eval bleu for test set:  13%|█▎        | 6/45 [00:31<03:25,  5.27s/it]Eval bleu for test set:  16%|█▌        | 7/45 [00:36<03:19,  5.24s/it]Eval bleu for test set:  18%|█▊        | 8/45 [00:42<03:14,  5.25s/it]Eval bleu for test set:  20%|██        | 9/45 [00:48<03:17,  5.49s/it]Eval bleu for test set:  22%|██▏       | 10/45 [00:54<03:16,  5.61s/it]Eval bleu for test set:  24%|██▍       | 11/45 [01:00<03:14,  5.73s/it]Eval bleu for test set:  27%|██▋       | 12/45 [01:06<03:11,  5.79s/it]Eval bleu for test set:  29%|██▉       | 13/45 [01:12<03:07,  5.85s/it]Eval bleu for test set:  31%|███       | 14/45 [01:18<03:02,  5.89s/it]Eval bleu for test set:  33%|███▎      | 15/45 [01:24<02:57,  5.92s/it]Eval bleu for test set:  36%|███▌      | 16/45 [01:30<02:52,  5.96s/it]Eval bleu for test set:  38%|███▊      | 17/45 [01:36<02:47,  5.97s/it]Eval bleu for test set:  40%|████      | 18/45 [01:41<02:40,  5.95s/it]Eval bleu for test set:  42%|████▏     | 19/45 [01:47<02:35,  5.96s/it]Eval bleu for test set:  44%|████▍     | 20/45 [01:53<02:28,  5.96s/it]Eval bleu for test set:  47%|████▋     | 21/45 [01:59<02:22,  5.94s/it]Eval bleu for test set:  49%|████▉     | 22/45 [02:05<02:16,  5.92s/it]Eval bleu for test set:  51%|█████     | 23/45 [02:11<02:10,  5.94s/it]Eval bleu for test set:  53%|█████▎    | 24/45 [02:17<02:04,  5.92s/it]Eval bleu for test set:  56%|█████▌    | 25/45 [02:23<01:58,  5.92s/it]Eval bleu for test set:  58%|█████▊    | 26/45 [02:29<01:52,  5.93s/it]Eval bleu for test set:  60%|██████    | 27/45 [02:35<01:47,  5.95s/it]Eval bleu for test set:  62%|██████▏   | 28/45 [02:41<01:40,  5.93s/it]Eval bleu for test set:  64%|██████▍   | 29/45 [02:47<01:34,  5.92s/it]Eval bleu for test set:  67%|██████▋   | 30/45 [02:53<01:28,  5.90s/it]Eval bleu for test set:  69%|██████▉   | 31/45 [02:58<01:22,  5.90s/it]Eval bleu for test set:  71%|███████   | 32/45 [03:04<01:16,  5.89s/it]Eval bleu for test set:  73%|███████▎  | 33/45 [03:10<01:10,  5.89s/it]Eval bleu for test set:  76%|███████▌  | 34/45 [03:16<01:05,  5.92s/it]Eval bleu for test set:  78%|███████▊  | 35/45 [03:22<00:59,  5.93s/it]Eval bleu for test set:  80%|████████  | 36/45 [03:28<00:52,  5.88s/it]Eval bleu for test set:  82%|████████▏ | 37/45 [03:34<00:47,  5.91s/it]Eval bleu for test set:  84%|████████▍ | 38/45 [03:40<00:41,  5.90s/it]Eval bleu for test set:  87%|████████▋ | 39/45 [03:46<00:35,  5.91s/it]Eval bleu for test set:  89%|████████▉ | 40/45 [03:52<00:29,  5.88s/it]Eval bleu for test set:  91%|█████████ | 41/45 [03:57<00:23,  5.87s/it]Eval bleu for test set:  93%|█████████▎| 42/45 [04:03<00:17,  5.90s/it]Eval bleu for test set:  96%|█████████▌| 43/45 [04:09<00:11,  5.89s/it]Eval bleu for test set:  98%|█████████▊| 44/45 [04:15<00:05,  5.87s/it]Eval bleu for test set: 100%|██████████| 45/45 [04:18<00:00,  5.14s/it]Eval bleu for test set: 100%|██████████| 45/45 [04:19<00:00,  5.76s/it]
11/13/2022 09:35:21 - INFO - __main__ -   ***** Eval results *****
11/13/2022 09:35:21 - INFO - __main__ -     bleu = 81.51
11/13/2022 09:35:21 - INFO - __main__ -     codebleu = 79.5865
11/13/2022 09:35:21 - INFO - __main__ -     em = 9.6045
11/13/2022 09:35:21 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeloop_exchange + whether_refactoringbefore_refactoring :
11/13/2022 09:35:21 - INFO - __main__ -   [best-bleu] bleu-4: 81.51, em: 9.6045, codebleu: 79.5865

11/13/2022 09:35:21 - INFO - __main__ -   Finish and take 9h13m
11/13/2022 09:35:21 - INFO - __main__ -     ***** Testing *****
11/13/2022 09:35:21 - INFO - __main__ -     Batch size = 16
11/13/2022 09:35:21 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 09:35:22 - INFO - __main__ -   test11111111111
11/13/2022 09:35:22 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 09:35:22 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/loop_exchange/after_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/loop_exchange/after_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 09:35:22 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 09:35:22 - INFO - utils -   Read 708 examples, avg src len: 62, avg trg len: 62, max src len: 109, max trg len: 106
11/13/2022 09:35:22 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/boolean_exchange_20221113_065523/convert_switch_to_if_20221113_065622/convert_switch_to_if_20221113_065729/insert_log_statement_20221113_065836/insert_log_statement_20221113_074053/insert_try_catch_20221113_082309/insert_try_catch_20221113_085624/loop_exchange_20221113_093020/loop_exchange_20221113_093521/test_src_all.pt
11/13/2022 09:35:22 - INFO - utils -   加载前test666666666666666
ngram match: 0.8150931436751392, weighted ngram match: 0.8220211014571434, syntax_match: 0.8194563980121603, dataflow_match: 0.7268905143120429
  0%|          | 0/708 [00:00<?, ?it/s] 50%|█████     | 354/708 [00:00<00:00, 1117.40it/s] 75%|███████▌  | 531/708 [00:00<00:00, 838.15it/s] 100%|██████████| 708/708 [00:00<00:00, 735.34it/s]100%|██████████| 708/708 [00:00<00:00, 793.35it/s]
11/13/2022 09:35:23 - INFO - utils -   加载后test77777777777777
11/13/2022 09:35:23 - INFO - __main__ -   加载成功test2222222222
11/13/2022 09:35:23 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 09:35:23 - INFO - __main__ -     Num examples = 708
11/13/2022 09:35:23 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/45 [00:00<?, ?it/s]Eval bleu for test set:   2%|▏         | 1/45 [00:05<04:03,  5.52s/it]Eval bleu for test set:   4%|▍         | 2/45 [00:10<03:47,  5.29s/it]Eval bleu for test set:   7%|▋         | 3/45 [00:15<03:41,  5.27s/it]Eval bleu for test set:   9%|▉         | 4/45 [00:21<03:35,  5.25s/it]Eval bleu for test set:  11%|█         | 5/45 [00:26<03:30,  5.27s/it]Eval bleu for test set:  13%|█▎        | 6/45 [00:32<03:32,  5.46s/it]Eval bleu for test set:  16%|█▌        | 7/45 [00:37<03:30,  5.55s/it]Eval bleu for test set:  18%|█▊        | 8/45 [00:43<03:28,  5.65s/it]Eval bleu for test set:  20%|██        | 9/45 [00:49<03:26,  5.75s/it]Eval bleu for test set:  22%|██▏       | 10/45 [00:55<03:21,  5.75s/it]Eval bleu for test set:  24%|██▍       | 11/45 [01:01<03:16,  5.79s/it]Eval bleu for test set:  27%|██▋       | 12/45 [01:07<03:11,  5.79s/it]Eval bleu for test set:  29%|██▉       | 13/45 [01:13<03:05,  5.81s/it]Eval bleu for test set:  31%|███       | 14/45 [01:18<02:59,  5.80s/it]Eval bleu for test set:  33%|███▎      | 15/45 [01:24<02:54,  5.83s/it]Eval bleu for test set:  36%|███▌      | 16/45 [01:30<02:50,  5.87s/it]Eval bleu for test set:  38%|███▊      | 17/45 [01:36<02:44,  5.88s/it]Eval bleu for test set:  40%|████      | 18/45 [01:42<02:38,  5.87s/it]Eval bleu for test set:  42%|████▏     | 19/45 [01:48<02:32,  5.87s/it]Eval bleu for test set:  44%|████▍     | 20/45 [01:54<02:26,  5.86s/it]Eval bleu for test set:  47%|████▋     | 21/45 [01:59<02:19,  5.82s/it]Eval bleu for test set:  49%|████▉     | 22/45 [02:05<02:13,  5.79s/it]Eval bleu for test set:  51%|█████     | 23/45 [02:11<02:08,  5.82s/it]Eval bleu for test set:  53%|█████▎    | 24/45 [02:17<02:01,  5.79s/it]Eval bleu for test set:  56%|█████▌    | 25/45 [02:23<01:56,  5.83s/it]Eval bleu for test set:  58%|█████▊    | 26/45 [02:29<01:50,  5.84s/it]Eval bleu for test set:  60%|██████    | 27/45 [02:35<01:45,  5.87s/it]Eval bleu for test set:  62%|██████▏   | 28/45 [02:40<01:39,  5.87s/it]Eval bleu for test set:  64%|██████▍   | 29/45 [02:46<01:33,  5.87s/it]Eval bleu for test set:  67%|██████▋   | 30/45 [02:52<01:27,  5.84s/it]Eval bleu for test set:  69%|██████▉   | 31/45 [02:58<01:21,  5.85s/it]Eval bleu for test set:  71%|███████   | 32/45 [03:04<01:15,  5.84s/it]Eval bleu for test set:  73%|███████▎  | 33/45 [03:10<01:10,  5.85s/it]Eval bleu for test set:  76%|███████▌  | 34/45 [03:16<01:04,  5.87s/it]Eval bleu for test set:  78%|███████▊  | 35/45 [03:21<00:58,  5.87s/it]Eval bleu for test set:  80%|████████  | 36/45 [03:27<00:52,  5.82s/it]Eval bleu for test set:  82%|████████▏ | 37/45 [03:33<00:46,  5.84s/it]Eval bleu for test set:  84%|████████▍ | 38/45 [03:39<00:40,  5.84s/it]Eval bleu for test set:  87%|████████▋ | 39/45 [03:45<00:34,  5.83s/it]Eval bleu for test set:  89%|████████▉ | 40/45 [03:50<00:29,  5.80s/it]Eval bleu for test set:  91%|█████████ | 41/45 [03:56<00:23,  5.78s/it]Eval bleu for test set:  93%|█████████▎| 42/45 [04:02<00:17,  5.84s/it]Eval bleu for test set:  96%|█████████▌| 43/45 [04:08<00:11,  5.84s/it]Eval bleu for test set:  98%|█████████▊| 44/45 [04:14<00:05,  5.82s/it]Eval bleu for test set: 100%|██████████| 45/45 [04:17<00:00,  5.10s/it]Eval bleu for test set: 100%|██████████| 45/45 [04:17<00:00,  5.73s/it]
11/13/2022 09:40:22 - INFO - __main__ -   ***** Eval results *****
11/13/2022 09:40:22 - INFO - __main__ -     bleu = 65.29
11/13/2022 09:40:22 - INFO - __main__ -     codebleu = 70.876
11/13/2022 09:40:22 - INFO - __main__ -     em = 0.565
11/13/2022 09:40:22 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typeloop_exchange + whether_refactoringafter_refactoring :
11/13/2022 09:40:22 - INFO - __main__ -   [best-bleu] bleu-4: 65.29, em: 0.5650, codebleu: 70.8760

11/13/2022 09:40:22 - INFO - __main__ -   Finish and take 9h18m
11/13/2022 09:40:22 - INFO - __main__ -     ***** Testing *****
11/13/2022 09:40:22 - INFO - __main__ -     Batch size = 16
11/13/2022 09:40:22 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 09:40:22 - INFO - __main__ -   test11111111111
11/13/2022 09:40:22 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 09:40:22 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/reorder_condition/before_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/reorder_condition/before_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 09:40:22 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 09:40:22 - INFO - utils -   Read 3578 examples, avg src len: 75, avg trg len: 74, max src len: 235, max trg len: 168
11/13/2022 09:40:22 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/boolean_exchange_20221113_065523/convert_switch_to_if_20221113_065622/convert_switch_to_if_20221113_065729/insert_log_statement_20221113_065836/insert_log_statement_20221113_074053/insert_try_catch_20221113_082309/insert_try_catch_20221113_085624/loop_exchange_20221113_093020/loop_exchange_20221113_093521/reorder_condition_20221113_094022/test_src_all.pt
11/13/2022 09:40:22 - INFO - utils -   加载前test666666666666666
ngram match: 0.6529042809207183, weighted ngram match: 0.6596488331030198, syntax_match: 0.7982578771910959, dataflow_match: 0.7242288110212638
  0%|          | 0/3578 [00:00<?, ?it/s] 50%|█████     | 1790/3578 [00:01<00:01, 1102.24it/s] 75%|███████▌  | 2685/3578 [00:03<00:01, 815.07it/s] 100%|██████████| 3578/3578 [00:03<00:00, 1145.69it/s]
11/13/2022 09:40:29 - INFO - utils -   加载后test77777777777777
11/13/2022 09:40:29 - INFO - __main__ -   加载成功test2222222222
11/13/2022 09:40:29 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 09:40:29 - INFO - __main__ -     Num examples = 3578
11/13/2022 09:40:29 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/224 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/224 [00:06<23:08,  6.23s/it]Eval bleu for test set:   1%|          | 2/224 [00:12<22:24,  6.06s/it]Eval bleu for test set:   1%|▏         | 3/224 [00:18<22:06,  6.00s/it]Eval bleu for test set:   2%|▏         | 4/224 [00:24<21:53,  5.97s/it]Eval bleu for test set:   2%|▏         | 5/224 [00:29<21:45,  5.96s/it]Eval bleu for test set:   3%|▎         | 6/224 [00:35<21:38,  5.96s/it]Eval bleu for test set:   3%|▎         | 7/224 [00:41<21:28,  5.94s/it]Eval bleu for test set:   4%|▎         | 8/224 [00:47<21:21,  5.93s/it]Eval bleu for test set:   4%|▍         | 9/224 [00:53<20:57,  5.85s/it]Eval bleu for test set:   4%|▍         | 10/224 [00:58<20:33,  5.76s/it]Eval bleu for test set:   5%|▍         | 11/224 [01:04<20:36,  5.81s/it]Eval bleu for test set:   5%|▌         | 12/224 [01:10<20:37,  5.84s/it]Eval bleu for test set:   6%|▌         | 13/224 [01:16<20:38,  5.87s/it]Eval bleu for test set:   6%|▋         | 14/224 [01:22<20:39,  5.90s/it]Eval bleu for test set:   7%|▋         | 15/224 [01:28<20:36,  5.92s/it]Eval bleu for test set:   7%|▋         | 16/224 [01:34<20:34,  5.94s/it]Eval bleu for test set:   8%|▊         | 17/224 [01:40<20:28,  5.93s/it]Eval bleu for test set:   8%|▊         | 18/224 [01:46<20:20,  5.93s/it]Eval bleu for test set:   8%|▊         | 19/224 [01:52<20:09,  5.90s/it]Eval bleu for test set:   9%|▉         | 20/224 [01:58<20:06,  5.91s/it]Eval bleu for test set:   9%|▉         | 21/224 [02:04<20:02,  5.92s/it]Eval bleu for test set:  10%|▉         | 22/224 [02:10<19:55,  5.92s/it]Eval bleu for test set:  10%|█         | 23/224 [02:16<19:52,  5.93s/it]Eval bleu for test set:  11%|█         | 24/224 [02:22<19:49,  5.95s/it]Eval bleu for test set:  11%|█         | 25/224 [02:27<19:40,  5.93s/it]Eval bleu for test set:  12%|█▏        | 26/224 [02:33<19:35,  5.94s/it]Eval bleu for test set:  12%|█▏        | 27/224 [02:39<19:28,  5.93s/it]Eval bleu for test set:  12%|█▎        | 28/224 [02:45<19:19,  5.91s/it]Eval bleu for test set:  13%|█▎        | 29/224 [02:51<19:17,  5.93s/it]Eval bleu for test set:  13%|█▎        | 30/224 [02:57<19:13,  5.95s/it]Eval bleu for test set:  14%|█▍        | 31/224 [03:03<19:02,  5.92s/it]Eval bleu for test set:  14%|█▍        | 32/224 [03:09<18:55,  5.91s/it]Eval bleu for test set:  15%|█▍        | 33/224 [03:15<18:50,  5.92s/it]Eval bleu for test set:  15%|█▌        | 34/224 [03:21<18:47,  5.94s/it]Eval bleu for test set:  16%|█▌        | 35/224 [03:27<18:43,  5.95s/it]Eval bleu for test set:  16%|█▌        | 36/224 [03:33<18:38,  5.95s/it]Eval bleu for test set:  17%|█▋        | 37/224 [03:39<18:33,  5.95s/it]Eval bleu for test set:  17%|█▋        | 38/224 [03:45<18:23,  5.93s/it]Eval bleu for test set:  17%|█▋        | 39/224 [03:51<18:22,  5.96s/it]Eval bleu for test set:  18%|█▊        | 40/224 [03:57<18:16,  5.96s/it]Eval bleu for test set:  18%|█▊        | 41/224 [04:03<18:11,  5.96s/it]Eval bleu for test set:  19%|█▉        | 42/224 [04:09<18:06,  5.97s/it]Eval bleu for test set:  19%|█▉        | 43/224 [04:14<17:59,  5.97s/it]Eval bleu for test set:  20%|█▉        | 44/224 [04:20<17:49,  5.94s/it]Eval bleu for test set:  20%|██        | 45/224 [04:26<17:43,  5.94s/it]Eval bleu for test set:  21%|██        | 46/224 [04:32<17:35,  5.93s/it]Eval bleu for test set:  21%|██        | 47/224 [04:38<17:30,  5.93s/it]Eval bleu for test set:  21%|██▏       | 48/224 [04:44<17:23,  5.93s/it]Eval bleu for test set:  22%|██▏       | 49/224 [04:50<17:19,  5.94s/it]Eval bleu for test set:  22%|██▏       | 50/224 [04:56<17:16,  5.96s/it]Eval bleu for test set:  23%|██▎       | 51/224 [05:02<17:11,  5.96s/it]Eval bleu for test set:  23%|██▎       | 52/224 [05:08<17:05,  5.96s/it]Eval bleu for test set:  24%|██▎       | 53/224 [05:14<16:57,  5.95s/it]Eval bleu for test set:  24%|██▍       | 54/224 [05:20<16:53,  5.96s/it]Eval bleu for test set:  25%|██▍       | 55/224 [05:26<16:45,  5.95s/it]Eval bleu for test set:  25%|██▌       | 56/224 [05:32<16:37,  5.94s/it]Eval bleu for test set:  25%|██▌       | 57/224 [05:38<16:33,  5.95s/it]Eval bleu for test set:  26%|██▌       | 58/224 [05:44<16:26,  5.94s/it]Eval bleu for test set:  26%|██▋       | 59/224 [05:50<16:20,  5.94s/it]Eval bleu for test set:  27%|██▋       | 60/224 [05:56<16:15,  5.95s/it]Eval bleu for test set:  27%|██▋       | 61/224 [06:01<16:09,  5.95s/it]Eval bleu for test set:  28%|██▊       | 62/224 [06:07<16:02,  5.94s/it]Eval bleu for test set:  28%|██▊       | 63/224 [06:13<15:57,  5.95s/it]Eval bleu for test set:  29%|██▊       | 64/224 [06:19<15:53,  5.96s/it]Eval bleu for test set:  29%|██▉       | 65/224 [06:25<15:47,  5.96s/it]Eval bleu for test set:  29%|██▉       | 66/224 [06:31<15:18,  5.81s/it]Eval bleu for test set:  30%|██▉       | 67/224 [06:36<14:44,  5.63s/it]Eval bleu for test set:  30%|███       | 68/224 [06:41<14:20,  5.51s/it]Eval bleu for test set:  31%|███       | 69/224 [06:47<14:03,  5.44s/it]Eval bleu for test set:  31%|███▏      | 70/224 [06:52<13:49,  5.39s/it]Eval bleu for test set:  32%|███▏      | 71/224 [06:57<13:39,  5.36s/it]Eval bleu for test set:  32%|███▏      | 72/224 [07:02<13:28,  5.32s/it]Eval bleu for test set:  33%|███▎      | 73/224 [07:08<13:20,  5.30s/it]Eval bleu for test set:  33%|███▎      | 74/224 [07:13<13:15,  5.31s/it]Eval bleu for test set:  33%|███▎      | 75/224 [07:18<13:07,  5.29s/it]Eval bleu for test set:  34%|███▍      | 76/224 [07:23<13:03,  5.29s/it]Eval bleu for test set:  34%|███▍      | 77/224 [07:29<12:55,  5.28s/it]Eval bleu for test set:  35%|███▍      | 78/224 [07:34<12:51,  5.29s/it]Eval bleu for test set:  35%|███▌      | 79/224 [07:39<12:42,  5.26s/it]Eval bleu for test set:  36%|███▌      | 80/224 [07:44<12:38,  5.27s/it]Eval bleu for test set:  36%|███▌      | 81/224 [07:50<12:31,  5.26s/it]Eval bleu for test set:  37%|███▋      | 82/224 [07:55<12:25,  5.25s/it]Eval bleu for test set:  37%|███▋      | 83/224 [08:00<12:21,  5.26s/it]Eval bleu for test set:  38%|███▊      | 84/224 [08:05<12:18,  5.27s/it]Eval bleu for test set:  38%|███▊      | 85/224 [08:11<12:12,  5.27s/it]Eval bleu for test set:  38%|███▊      | 86/224 [08:16<12:07,  5.27s/it]Eval bleu for test set:  39%|███▉      | 87/224 [08:21<12:00,  5.26s/it]Eval bleu for test set:  39%|███▉      | 88/224 [08:26<11:54,  5.25s/it]Eval bleu for test set:  40%|███▉      | 89/224 [08:32<11:50,  5.26s/it]Eval bleu for test set:  40%|████      | 90/224 [08:37<11:45,  5.27s/it]Eval bleu for test set:  41%|████      | 91/224 [08:42<11:39,  5.26s/it]Eval bleu for test set:  41%|████      | 92/224 [08:48<11:34,  5.26s/it]Eval bleu for test set:  42%|████▏     | 93/224 [08:53<11:30,  5.27s/it]Eval bleu for test set:  42%|████▏     | 94/224 [08:58<11:24,  5.27s/it]Eval bleu for test set:  42%|████▏     | 95/224 [09:03<11:18,  5.26s/it]Eval bleu for test set:  43%|████▎     | 96/224 [09:09<11:11,  5.24s/it]Eval bleu for test set:  43%|████▎     | 97/224 [09:14<11:08,  5.26s/it]Eval bleu for test set:  44%|████▍     | 98/224 [09:19<11:03,  5.26s/it]Eval bleu for test set:  44%|████▍     | 99/224 [09:24<10:55,  5.25s/it]Eval bleu for test set:  45%|████▍     | 100/224 [09:30<10:51,  5.25s/it]Eval bleu for test set:  45%|████▌     | 101/224 [09:35<10:46,  5.26s/it]Eval bleu for test set:  46%|████▌     | 102/224 [09:40<10:39,  5.24s/it]Eval bleu for test set:  46%|████▌     | 103/224 [09:45<10:33,  5.24s/it]Eval bleu for test set:  46%|████▋     | 104/224 [09:51<10:29,  5.25s/it]Eval bleu for test set:  47%|████▋     | 105/224 [09:56<10:25,  5.25s/it]Eval bleu for test set:  47%|████▋     | 106/224 [10:01<10:21,  5.27s/it]Eval bleu for test set:  48%|████▊     | 107/224 [10:06<10:12,  5.24s/it]Eval bleu for test set:  48%|████▊     | 108/224 [10:12<10:08,  5.25s/it]Eval bleu for test set:  49%|████▊     | 109/224 [10:17<10:02,  5.24s/it]Eval bleu for test set:  49%|████▉     | 110/224 [10:22<09:58,  5.25s/it]Eval bleu for test set:  50%|████▉     | 111/224 [10:27<09:53,  5.25s/it]Eval bleu for test set:  50%|█████     | 112/224 [10:33<09:47,  5.25s/it]Eval bleu for test set:  50%|█████     | 113/224 [10:38<09:41,  5.24s/it]Eval bleu for test set:  51%|█████     | 114/224 [10:43<09:34,  5.22s/it]Eval bleu for test set:  51%|█████▏    | 115/224 [10:48<09:29,  5.22s/it]Eval bleu for test set:  52%|█████▏    | 116/224 [10:53<09:24,  5.23s/it]Eval bleu for test set:  52%|█████▏    | 117/224 [10:59<09:20,  5.24s/it]Eval bleu for test set:  53%|█████▎    | 118/224 [11:04<09:16,  5.25s/it]Eval bleu for test set:  53%|█████▎    | 119/224 [11:09<09:10,  5.24s/it]Eval bleu for test set:  54%|█████▎    | 120/224 [11:14<09:05,  5.25s/it]Eval bleu for test set:  54%|█████▍    | 121/224 [11:20<09:00,  5.25s/it]Eval bleu for test set:  54%|█████▍    | 122/224 [11:25<08:54,  5.24s/it]Eval bleu for test set:  55%|█████▍    | 123/224 [11:30<08:50,  5.25s/it]Eval bleu for test set:  55%|█████▌    | 124/224 [11:36<08:46,  5.26s/it]Eval bleu for test set:  56%|█████▌    | 125/224 [11:41<08:39,  5.25s/it]Eval bleu for test set:  56%|█████▋    | 126/224 [11:46<08:35,  5.26s/it]Eval bleu for test set:  57%|█████▋    | 127/224 [11:51<08:29,  5.26s/it]Eval bleu for test set:  57%|█████▋    | 128/224 [11:57<08:25,  5.27s/it]Eval bleu for test set:  58%|█████▊    | 129/224 [12:02<08:21,  5.28s/it]Eval bleu for test set:  58%|█████▊    | 130/224 [12:07<08:15,  5.27s/it]Eval bleu for test set:  58%|█████▊    | 131/224 [12:12<08:10,  5.27s/it]Eval bleu for test set:  59%|█████▉    | 132/224 [12:18<08:05,  5.28s/it]Eval bleu for test set:  59%|█████▉    | 133/224 [12:23<07:59,  5.27s/it]Eval bleu for test set:  60%|█████▉    | 134/224 [12:28<07:53,  5.26s/it]Eval bleu for test set:  60%|██████    | 135/224 [12:33<07:47,  5.25s/it]Eval bleu for test set:  61%|██████    | 136/224 [12:39<07:42,  5.26s/it]Eval bleu for test set:  61%|██████    | 137/224 [12:44<07:37,  5.26s/it]Eval bleu for test set:  62%|██████▏   | 138/224 [12:49<07:30,  5.24s/it]Eval bleu for test set:  62%|██████▏   | 139/224 [12:54<07:26,  5.25s/it]Eval bleu for test set:  62%|██████▎   | 140/224 [13:00<07:19,  5.24s/it]Eval bleu for test set:  63%|██████▎   | 141/224 [13:05<07:15,  5.25s/it]Eval bleu for test set:  63%|██████▎   | 142/224 [13:10<07:09,  5.24s/it]Eval bleu for test set:  64%|██████▍   | 143/224 [13:15<07:05,  5.25s/it]Eval bleu for test set:  64%|██████▍   | 144/224 [13:21<06:59,  5.25s/it]Eval bleu for test set:  65%|██████▍   | 145/224 [13:26<06:54,  5.25s/it]Eval bleu for test set:  65%|██████▌   | 146/224 [13:31<06:49,  5.25s/it]Eval bleu for test set:  66%|██████▌   | 147/224 [13:36<06:44,  5.25s/it]Eval bleu for test set:  66%|██████▌   | 148/224 [13:42<06:39,  5.26s/it]Eval bleu for test set:  67%|██████▋   | 149/224 [13:47<06:34,  5.25s/it]Eval bleu for test set:  67%|██████▋   | 150/224 [13:52<06:28,  5.25s/it]Eval bleu for test set:  67%|██████▋   | 151/224 [13:57<06:22,  5.24s/it]Eval bleu for test set:  68%|██████▊   | 152/224 [14:03<06:16,  5.22s/it]Eval bleu for test set:  68%|██████▊   | 153/224 [14:08<06:10,  5.22s/it]Eval bleu for test set:  69%|██████▉   | 154/224 [14:13<06:05,  5.23s/it]Eval bleu for test set:  69%|██████▉   | 155/224 [14:18<06:00,  5.23s/it]Eval bleu for test set:  70%|██████▉   | 156/224 [14:24<05:56,  5.24s/it]Eval bleu for test set:  70%|███████   | 157/224 [14:29<05:51,  5.25s/it]Eval bleu for test set:  71%|███████   | 158/224 [14:34<05:46,  5.25s/it]Eval bleu for test set:  71%|███████   | 159/224 [14:39<05:40,  5.24s/it]Eval bleu for test set:  71%|███████▏  | 160/224 [14:44<05:34,  5.22s/it]Eval bleu for test set:  72%|███████▏  | 161/224 [14:50<05:30,  5.25s/it]Eval bleu for test set:  72%|███████▏  | 162/224 [14:55<05:25,  5.24s/it]Eval bleu for test set:  73%|███████▎  | 163/224 [15:00<05:19,  5.23s/it]Eval bleu for test set:  73%|███████▎  | 164/224 [15:05<05:14,  5.25s/it]Eval bleu for test set:  74%|███████▎  | 165/224 [15:11<05:09,  5.25s/it]Eval bleu for test set:  74%|███████▍  | 166/224 [15:16<05:03,  5.24s/it]Eval bleu for test set:  75%|███████▍  | 167/224 [15:21<04:57,  5.22s/it]Eval bleu for test set:  75%|███████▌  | 168/224 [15:26<04:53,  5.24s/it]Eval bleu for test set:  75%|███████▌  | 169/224 [15:32<04:48,  5.24s/it]Eval bleu for test set:  76%|███████▌  | 170/224 [15:37<04:43,  5.26s/it]Eval bleu for test set:  76%|███████▋  | 171/224 [15:42<04:38,  5.26s/it]Eval bleu for test set:  77%|███████▋  | 172/224 [15:47<04:33,  5.26s/it]Eval bleu for test set:  77%|███████▋  | 173/224 [15:53<04:28,  5.26s/it]Eval bleu for test set:  78%|███████▊  | 174/224 [15:58<04:23,  5.27s/it]Eval bleu for test set:  78%|███████▊  | 175/224 [16:03<04:18,  5.27s/it]Eval bleu for test set:  79%|███████▊  | 176/224 [16:09<04:12,  5.26s/it]Eval bleu for test set:  79%|███████▉  | 177/224 [16:14<04:06,  5.25s/it]Eval bleu for test set:  79%|███████▉  | 178/224 [16:19<04:01,  5.25s/it]Eval bleu for test set:  80%|███████▉  | 179/224 [16:24<03:56,  5.25s/it]Eval bleu for test set:  80%|████████  | 180/224 [16:30<03:51,  5.26s/it]Eval bleu for test set:  81%|████████  | 181/224 [16:35<03:45,  5.25s/it]Eval bleu for test set:  81%|████████▏ | 182/224 [16:40<03:40,  5.24s/it]Eval bleu for test set:  82%|████████▏ | 183/224 [16:45<03:34,  5.23s/it]Eval bleu for test set:  82%|████████▏ | 184/224 [16:50<03:28,  5.20s/it]Eval bleu for test set:  83%|████████▎ | 185/224 [16:56<03:23,  5.22s/it]Eval bleu for test set:  83%|████████▎ | 186/224 [17:01<03:18,  5.22s/it]Eval bleu for test set:  83%|████████▎ | 187/224 [17:06<03:13,  5.24s/it]Eval bleu for test set:  84%|████████▍ | 188/224 [17:11<03:08,  5.22s/it]Eval bleu for test set:  84%|████████▍ | 189/224 [17:17<03:03,  5.24s/it]Eval bleu for test set:  85%|████████▍ | 190/224 [17:22<02:58,  5.25s/it]Eval bleu for test set:  85%|████████▌ | 191/224 [17:27<02:53,  5.25s/it]Eval bleu for test set:  86%|████████▌ | 192/224 [17:32<02:47,  5.24s/it]Eval bleu for test set:  86%|████████▌ | 193/224 [17:38<02:42,  5.26s/it]Eval bleu for test set:  87%|████████▋ | 194/224 [17:43<02:37,  5.25s/it]Eval bleu for test set:  87%|████████▋ | 195/224 [17:48<02:32,  5.24s/it]Eval bleu for test set:  88%|████████▊ | 196/224 [17:53<02:27,  5.25s/it]Eval bleu for test set:  88%|████████▊ | 197/224 [17:59<02:22,  5.26s/it]Eval bleu for test set:  88%|████████▊ | 198/224 [18:04<02:16,  5.25s/it]Eval bleu for test set:  89%|████████▉ | 199/224 [18:09<02:11,  5.26s/it]Eval bleu for test set:  89%|████████▉ | 200/224 [18:14<02:06,  5.26s/it]Eval bleu for test set:  90%|████████▉ | 201/224 [18:20<02:01,  5.26s/it]Eval bleu for test set:  90%|█████████ | 202/224 [18:25<01:55,  5.26s/it]Eval bleu for test set:  91%|█████████ | 203/224 [18:30<01:50,  5.26s/it]Eval bleu for test set:  91%|█████████ | 204/224 [18:35<01:45,  5.25s/it]Eval bleu for test set:  92%|█████████▏| 205/224 [18:41<01:39,  5.25s/it]Eval bleu for test set:  92%|█████████▏| 206/224 [18:46<01:34,  5.25s/it]Eval bleu for test set:  92%|█████████▏| 207/224 [18:51<01:29,  5.26s/it]Eval bleu for test set:  93%|█████████▎| 208/224 [18:56<01:23,  5.24s/it]Eval bleu for test set:  93%|█████████▎| 209/224 [19:02<01:18,  5.24s/it]Eval bleu for test set:  94%|█████████▍| 210/224 [19:07<01:13,  5.25s/it]Eval bleu for test set:  94%|█████████▍| 211/224 [19:12<01:08,  5.25s/it]Eval bleu for test set:  95%|█████████▍| 212/224 [19:17<01:03,  5.26s/it]Eval bleu for test set:  95%|█████████▌| 213/224 [19:23<00:57,  5.27s/it]Eval bleu for test set:  96%|█████████▌| 214/224 [19:28<00:52,  5.26s/it]Eval bleu for test set:  96%|█████████▌| 215/224 [19:33<00:47,  5.25s/it]Eval bleu for test set:  96%|█████████▋| 216/224 [19:38<00:42,  5.25s/it]Eval bleu for test set:  97%|█████████▋| 217/224 [19:44<00:36,  5.25s/it]Eval bleu for test set:  97%|█████████▋| 218/224 [19:49<00:31,  5.26s/it]Eval bleu for test set:  98%|█████████▊| 219/224 [19:54<00:26,  5.27s/it]Eval bleu for test set:  98%|█████████▊| 220/224 [19:59<00:21,  5.26s/it]Eval bleu for test set:  99%|█████████▊| 221/224 [20:05<00:15,  5.25s/it]Eval bleu for test set:  99%|█████████▉| 222/224 [20:10<00:10,  5.25s/it]Eval bleu for test set: 100%|█████████▉| 223/224 [20:15<00:05,  5.24s/it]Eval bleu for test set: 100%|██████████| 224/224 [20:19<00:00,  4.86s/it]Eval bleu for test set: 100%|██████████| 224/224 [20:19<00:00,  5.45s/it]
11/13/2022 10:04:14 - INFO - __main__ -   ***** Eval results *****
11/13/2022 10:04:14 - INFO - __main__ -     bleu = 74.4
11/13/2022 10:04:14 - INFO - __main__ -     codebleu = 74.2597
11/13/2022 10:04:14 - INFO - __main__ -     em = 6.6238
11/13/2022 10:04:14 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typereorder_condition + whether_refactoringbefore_refactoring :
11/13/2022 10:04:14 - INFO - __main__ -   [best-bleu] bleu-4: 74.40, em: 6.6238, codebleu: 74.2597

11/13/2022 10:04:14 - INFO - __main__ -   Finish and take 9h42m
11/13/2022 10:04:14 - INFO - __main__ -     ***** Testing *****
11/13/2022 10:04:14 - INFO - __main__ -     Batch size = 16
11/13/2022 10:04:14 - INFO - __main__ -   Reload model from /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 10:04:14 - INFO - __main__ -   test11111111111
11/13/2022 10:04:14 - INFO - __main__ -   test by self model path: /home/y_shi202/related-project/CodeT5/sh/fine_tuned_models_final/codet5-base/medium/pytorch_model.bin
11/13/2022 10:04:14 - INFO - __main__ -   test by self test filename: /home/y_shi202/related-project/CodeT5/data/refactoring/reorder_condition/after_refactoring/medium/test.buggy-fixed.buggy,/home/y_shi202/related-project/CodeT5/data/refactoring/reorder_condition/after_refactoring/medium/test.buggy-fixed.fixed
11/13/2022 10:04:14 - INFO - __main__ -   test by self output: saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50
11/13/2022 10:04:14 - INFO - utils -   Read 3578 examples, avg src len: 62, avg trg len: 62, max src len: 235, max trg len: 168
11/13/2022 10:04:14 - INFO - utils -   Create cache data into saved_models/refine/small/codet5_base_all_lr5_bs16_src130_trg120_pat5_e50/cache_data/local_variable_renaming_20221113_002135/local_variable_renaming_20221113_002302/method_renaming_20221113_002429/method_renaming_20221113_005722/parameter_renaming_20221113_013127/parameter_renaming_20221113_015135/boolean_exchange_20221113_021318/boolean_exchange_20221113_021330/convert_switch_to_if_20221113_021343/convert_switch_to_if_20221113_021402/insert_log_statement_20221113_021421/insert_log_statement_20221113_024742/insert_try_catch_20221113_032026/insert_try_catch_20221113_034042/loop_exchange_20221113_040108/loop_exchange_20221113_040130/reorder_condition_20221113_040151/reorder_condition_20221113_040816/local_variable_renaming_20221113_041435/local_variable_renaming_20221113_042201/method_renaming_20221113_042941/method_renaming_20221113_051056/parameter_renaming_20221113_055605/parameter_renaming_20221113_062533/boolean_exchange_20221113_065423/boolean_exchange_20221113_065523/convert_switch_to_if_20221113_065622/convert_switch_to_if_20221113_065729/insert_log_statement_20221113_065836/insert_log_statement_20221113_074053/insert_try_catch_20221113_082309/insert_try_catch_20221113_085624/loop_exchange_20221113_093020/loop_exchange_20221113_093521/reorder_condition_20221113_094022/reorder_condition_20221113_100414/test_src_all.pt
11/13/2022 10:04:14 - INFO - utils -   加载前test666666666666666
ngram match: 0.7440011055463718, weighted ngram match: 0.759154644826559, syntax_match: 0.7952250973160164, dataflow_match: 0.6720060339537738
  0%|          | 0/3578 [00:00<?, ?it/s] 50%|█████     | 1790/3578 [00:01<00:01, 1140.61it/s] 75%|███████▌  | 2685/3578 [00:03<00:01, 787.04it/s] 100%|██████████| 3578/3578 [00:03<00:00, 1117.95it/s]
11/13/2022 10:04:20 - INFO - utils -   加载后test77777777777777
11/13/2022 10:04:21 - INFO - __main__ -   加载成功test2222222222
11/13/2022 10:04:21 - INFO - __main__ -     ***** Running bleu evaluation on test data*****
11/13/2022 10:04:21 - INFO - __main__ -     Num examples = 3578
11/13/2022 10:04:21 - INFO - __main__ -     Batch size = 16
Eval bleu for test set:   0%|          | 0/224 [00:00<?, ?it/s]Eval bleu for test set:   0%|          | 1/224 [00:05<20:35,  5.54s/it]Eval bleu for test set:   1%|          | 2/224 [00:10<19:50,  5.36s/it]Eval bleu for test set:   1%|▏         | 3/224 [00:16<19:30,  5.30s/it]Eval bleu for test set:   2%|▏         | 4/224 [00:21<19:18,  5.26s/it]Eval bleu for test set:   2%|▏         | 5/224 [00:26<19:13,  5.27s/it]Eval bleu for test set:   3%|▎         | 6/224 [00:31<19:05,  5.26s/it]Eval bleu for test set:   3%|▎         | 7/224 [00:37<19:19,  5.34s/it]Eval bleu for test set:   4%|▎         | 8/224 [00:43<19:53,  5.52s/it]Eval bleu for test set:   4%|▍         | 9/224 [00:49<20:18,  5.67s/it]Eval bleu for test set:   4%|▍         | 10/224 [00:54<20:25,  5.72s/it]Eval bleu for test set:   5%|▍         | 11/224 [01:00<20:31,  5.78s/it]Eval bleu for test set:   5%|▌         | 12/224 [01:06<20:32,  5.82s/it]Eval bleu for test set:   6%|▌         | 13/224 [01:12<20:32,  5.84s/it]Eval bleu for test set:   6%|▋         | 14/224 [01:18<20:35,  5.88s/it]Eval bleu for test set:   7%|▋         | 15/224 [01:24<20:32,  5.90s/it]Eval bleu for test set:   7%|▋         | 16/224 [01:30<20:32,  5.92s/it]Eval bleu for test set:   8%|▊         | 17/224 [01:36<20:27,  5.93s/it]Eval bleu for test set:   8%|▊         | 18/224 [01:42<20:19,  5.92s/it]Eval bleu for test set:   8%|▊         | 19/224 [01:48<20:07,  5.89s/it]Eval bleu for test set:   9%|▉         | 20/224 [01:54<20:04,  5.91s/it]Eval bleu for test set:   9%|▉         | 21/224 [02:00<20:01,  5.92s/it]Eval bleu for test set:  10%|▉         | 22/224 [02:06<19:55,  5.92s/it]Eval bleu for test set:  10%|█         | 23/224 [02:12<19:52,  5.93s/it]Eval bleu for test set:  11%|█         | 24/224 [02:18<19:49,  5.95s/it]Eval bleu for test set:  11%|█         | 25/224 [02:23<19:41,  5.94s/it]Eval bleu for test set:  12%|█▏        | 26/224 [02:29<19:33,  5.92s/it]Eval bleu for test set:  12%|█▏        | 27/224 [02:35<19:24,  5.91s/it]Eval bleu for test set:  12%|█▎        | 28/224 [02:41<19:15,  5.89s/it]Eval bleu for test set:  13%|█▎        | 29/224 [02:47<19:13,  5.92s/it]Eval bleu for test set:  13%|█▎        | 30/224 [02:53<19:11,  5.93s/it]Eval bleu for test set:  14%|█▍        | 31/224 [02:59<19:00,  5.91s/it]Eval bleu for test set:  14%|█▍        | 32/224 [03:05<18:53,  5.90s/it]Eval bleu for test set:  15%|█▍        | 33/224 [03:11<18:47,  5.91s/it]Eval bleu for test set:  15%|█▌        | 34/224 [03:17<18:45,  5.92s/it]Eval bleu for test set:  16%|█▌        | 35/224 [03:23<18:39,  5.92s/it]Eval bleu for test set:  16%|█▌        | 36/224 [03:28<18:32,  5.92s/it]Eval bleu for test set:  17%|█▋        | 37/224 [03:34<18:28,  5.93s/it]Eval bleu for test set:  17%|█▋        | 38/224 [03:40<18:19,  5.91s/it]Eval bleu for test set:  17%|█▋        | 39/224 [03:46<18:18,  5.94s/it]Eval bleu for test set:  18%|█▊        | 40/224 [03:52<18:14,  5.95s/it]Eval bleu for test set:  18%|█▊        | 41/224 [03:58<18:09,  5.95s/it]Eval bleu for test set:  19%|█▉        | 42/224 [04:04<18:03,  5.95s/it]Eval bleu for test set:  19%|█▉        | 43/224 [04:10<17:57,  5.95s/it]Eval bleu for test set:  20%|█▉        | 44/224 [04:16<17:46,  5.92s/it]Eval bleu for test set:  20%|██        | 45/224 [04:22<17:37,  5.91s/it]Eval bleu for test set:  21%|██        | 46/224 [04:28<17:29,  5.89s/it]Eval bleu for test set:  21%|██        | 47/224 [04:34<17:23,  5.90s/it]Eval bleu for test set:  21%|██▏       | 48/224 [04:39<17:17,  5.89s/it]Eval bleu for test set:  22%|██▏       | 49/224 [04:45<17:14,  5.91s/it]Eval bleu for test set:  22%|██▏       | 50/224 [04:51<17:13,  5.94s/it]Eval bleu for test set:  23%|██▎       | 51/224 [04:57<16:45,  5.81s/it]Eval bleu for test set:  23%|██▎       | 52/224 [05:02<16:10,  5.64s/it]Eval bleu for test set:  24%|██▎       | 53/224 [05:07<15:43,  5.52s/it]Eval bleu for test set:  24%|██▍       | 54/224 [05:13<15:24,  5.44s/it]Eval bleu for test set:  25%|██▍       | 55/224 [05:18<15:08,  5.38s/it]Eval bleu for test set:  25%|██▌       | 56/224 [05:23<14:53,  5.32s/it]Eval bleu for test set:  25%|██▌       | 57/224 [05:28<14:45,  5.30s/it]Eval bleu for test set:  26%|██▌       | 58/224 [05:34<14:34,  5.27s/it]Eval bleu for test set:  26%|██▋       | 59/224 [05:39<14:26,  5.25s/it]Eval bleu for test set:  27%|██▋       | 60/224 [05:44<14:21,  5.25s/it]Eval bleu for test set:  27%|██▋       | 61/224 [05:49<14:13,  5.24s/it]Eval bleu for test set:  28%|██▊       | 62/224 [05:54<14:07,  5.23s/it]Eval bleu for test set:  28%|██▊       | 63/224 [06:00<14:04,  5.25s/it]Eval bleu for test set:  29%|██▊       | 64/224 [06:05<14:01,  5.26s/it]Eval bleu for test set:  29%|██▉       | 65/224 [06:10<13:55,  5.26s/it]Eval bleu for test set:  29%|██▉       | 66/224 [06:16<13:50,  5.26s/it]Eval bleu for test set:  30%|██▉       | 67/224 [06:21<13:40,  5.23s/it]Eval bleu for test set:  30%|███       | 68/224 [06:26<13:35,  5.23s/it]Eval bleu for test set:  31%|███       | 69/224 [06:31<13:31,  5.23s/it]Eval bleu for test set:  31%|███▏      | 70/224 [06:36<13:27,  5.24s/it]Eval bleu for test set:  32%|███▏      | 71/224 [06:42<13:22,  5.25s/it]Eval bleu for test set:  32%|███▏      | 72/224 [06:47<13:14,  5.23s/it]Eval bleu for test set:  33%|███▎      | 73/224 [06:52<13:10,  5.23s/it]Eval bleu for test set:  33%|███▎      | 74/224 [06:57<13:07,  5.25s/it]Eval bleu for test set:  33%|███▎      | 75/224 [07:03<13:00,  5.24s/it]Eval bleu for test set:  34%|███▍      | 76/224 [07:08<12:57,  5.25s/it]Eval bleu for test set:  34%|███▍      | 77/224 [07:13<12:54,  5.27s/it]Eval bleu for test set:  35%|███▍      | 78/224 [07:18<12:49,  5.27s/it]Eval bleu for test set:  35%|███▌      | 79/224 [07:24<12:39,  5.24s/it]Eval bleu for test set:  36%|███▌      | 80/224 [07:29<12:35,  5.24s/it]Eval bleu for test set:  36%|███▌      | 81/224 [07:34<12:29,  5.24s/it]Eval bleu for test set:  37%|███▋      | 82/224 [07:39<12:23,  5.24s/it]Eval bleu for test set:  37%|███▋      | 83/224 [07:45<12:18,  5.24s/it]Eval bleu for test set:  38%|███▊      | 84/224 [07:50<12:13,  5.24s/it]Eval bleu for test set:  38%|███▊      | 85/224 [07:55<12:09,  5.25s/it]Eval bleu for test set:  38%|███▊      | 86/224 [08:00<12:04,  5.25s/it]Eval bleu for test set:  39%|███▉      | 87/224 [08:06<11:59,  5.25s/it]Eval bleu for test set:  39%|███▉      | 88/224 [08:11<11:53,  5.25s/it]Eval bleu for test set:  40%|███▉      | 89/224 [08:16<11:49,  5.25s/it]Eval bleu for test set:  40%|████      | 90/224 [08:21<11:43,  5.25s/it]Eval bleu for test set:  41%|████      | 91/224 [08:27<11:36,  5.24s/it]Eval bleu for test set:  41%|████      | 92/224 [08:32<11:31,  5.24s/it]Eval bleu for test set:  42%|████▏     | 93/224 [08:37<11:27,  5.24s/it]Eval bleu for test set:  42%|████▏     | 94/224 [08:42<11:20,  5.23s/it]Eval bleu for test set:  42%|████▏     | 95/224 [08:48<11:14,  5.23s/it]Eval bleu for test set:  43%|████▎     | 96/224 [08:53<11:08,  5.22s/it]Eval bleu for test set:  43%|████▎     | 97/224 [08:58<11:05,  5.24s/it]Eval bleu for test set:  44%|████▍     | 98/224 [09:03<11:00,  5.24s/it]Eval bleu for test set:  44%|████▍     | 99/224 [09:08<10:52,  5.22s/it]Eval bleu for test set:  45%|████▍     | 100/224 [09:14<10:49,  5.24s/it]Eval bleu for test set:  45%|████▌     | 101/224 [09:19<10:44,  5.24s/it]Eval bleu for test set:  46%|████▌     | 102/224 [09:24<10:38,  5.23s/it]Eval bleu for test set:  46%|████▌     | 103/224 [09:29<10:32,  5.22s/it]Eval bleu for test set:  46%|████▋     | 104/224 [09:35<10:28,  5.24s/it]Eval bleu for test set:  47%|████▋     | 105/224 [09:40<10:23,  5.24s/it]Eval bleu for test set:  47%|████▋     | 106/224 [09:45<10:19,  5.25s/it]Eval bleu for test set:  48%|████▊     | 107/224 [09:50<10:10,  5.22s/it]Eval bleu for test set:  48%|████▊     | 108/224 [09:56<10:07,  5.24s/it]Eval bleu for test set:  49%|████▊     | 109/224 [10:01<10:00,  5.23s/it]Eval bleu for test set:  49%|████▉     | 110/224 [10:06<09:56,  5.23s/it]Eval bleu for test set:  50%|████▉     | 111/224 [10:11<09:51,  5.23s/it]Eval bleu for test set:  50%|█████     | 112/224 [10:16<09:45,  5.23s/it]Eval bleu for test set:  50%|█████     | 113/224 [10:22<09:40,  5.23s/it]Eval bleu for test set:  51%|█████     | 114/224 [10:27<09:34,  5.22s/it]Eval bleu for test set:  51%|█████▏    | 115/224 [10:32<09:28,  5.22s/it]Eval bleu for test set:  52%|█████▏    | 116/224 [10:37<09:25,  5.23s/it]Eval bleu for test set:  52%|█████▏    | 117/224 [10:43<09:22,  5.26s/it]Eval bleu for test set:  53%|█████▎    | 118/224 [10:48<09:17,  5.26s/it]Eval bleu for test set:  53%|█████▎    | 119/224 [10:53<09:09,  5.23s/it]Eval bleu for test set:  54%|█████▎    | 120/224 [10:58<09:04,  5.24s/it]Eval bleu for test set:  54%|█████▍    | 121/224 [11:04<08:58,  5.23s/it]Eval bleu for test set:  54%|█████▍    | 122/224 [11:09<08:53,  5.23s/it]Eval bleu for test set:  55%|█████▍    | 123/224 [11:14<08:48,  5.24s/it]Eval bleu for test set:  55%|█████▌    | 124/224 [11:19<08:42,  5.23s/it]Eval bleu for test set:  56%|█████▌    | 125/224 [11:24<08:36,  5.22s/it]Eval bleu for test set:  56%|█████▋    | 126/224 [11:30<08:32,  5.23s/it]Eval bleu for test set:  57%|█████▋    | 127/224 [11:35<08:27,  5.23s/it]Eval bleu for test set:  57%|█████▋    | 128/224 [11:40<08:23,  5.24s/it]Eval bleu for test set:  58%|█████▊    | 129/224 [11:45<08:18,  5.25s/it]Eval bleu for test set:  58%|█████▊    | 130/224 [11:51<08:11,  5.23s/it]Eval bleu for test set:  58%|█████▊    | 131/224 [11:56<08:08,  5.25s/it]Eval bleu for test set:  59%|█████▉    | 132/224 [12:01<08:05,  5.27s/it]Eval bleu for test set:  59%|█████▉    | 133/224 [12:07<07:59,  5.27s/it]Eval bleu for test set:  60%|█████▉    | 134/224 [12:12<07:53,  5.26s/it]Eval bleu for test set:  60%|██████    | 135/224 [12:17<07:47,  5.26s/it]Eval bleu for test set:  61%|██████    | 136/224 [12:22<07:42,  5.25s/it]Eval bleu for test set:  61%|██████    | 137/224 [12:28<07:37,  5.26s/it]Eval bleu for test set:  62%|██████▏   | 138/224 [12:33<07:30,  5.24s/it]Eval bleu for test set:  62%|██████▏   | 139/224 [12:38<07:24,  5.23s/it]Eval bleu for test set:  62%|██████▎   | 140/224 [12:43<07:17,  5.21s/it]Eval bleu for test set:  63%|██████▎   | 141/224 [12:48<07:14,  5.23s/it]Eval bleu for test set:  63%|██████▎   | 142/224 [12:54<07:08,  5.22s/it]Eval bleu for test set:  64%|██████▍   | 143/224 [12:59<07:03,  5.23s/it]Eval bleu for test set:  64%|██████▍   | 144/224 [13:04<06:58,  5.24s/it]Eval bleu for test set:  65%|██████▍   | 145/224 [13:09<06:53,  5.23s/it]Eval bleu for test set:  65%|██████▌   | 146/224 [13:15<06:48,  5.23s/it]Eval bleu for test set:  66%|██████▌   | 147/224 [13:20<06:42,  5.23s/it]Eval bleu for test set:  66%|██████▌   | 148/224 [13:25<06:38,  5.24s/it]Eval bleu for test set:  67%|██████▋   | 149/224 [13:30<06:32,  5.23s/it]Eval bleu for test set:  67%|██████▋   | 150/224 [13:35<06:26,  5.23s/it]Eval bleu for test set:  67%|██████▋   | 151/224 [13:41<06:20,  5.21s/it]Eval bleu for test set:  68%|██████▊   | 152/224 [13:46<06:13,  5.19s/it]Eval bleu for test set:  68%|██████▊   | 153/224 [13:51<06:09,  5.20s/it]Eval bleu for test set:  69%|██████▉   | 154/224 [13:56<06:04,  5.20s/it]Eval bleu for test set:  69%|██████▉   | 155/224 [14:01<05:59,  5.20s/it]Eval bleu for test set:  70%|██████▉   | 156/224 [14:07<05:54,  5.22s/it]Eval bleu for test set:  70%|███████   | 157/224 [14:12<05:50,  5.23s/it]Eval bleu for test set:  71%|███████   | 158/224 [14:17<05:45,  5.23s/it]Eval bleu for test set:  71%|███████   | 159/224 [14:22<05:39,  5.22s/it]Eval bleu for test set:  71%|███████▏  | 160/224 [14:28<05:32,  5.19s/it]Eval bleu for test set:  72%|███████▏  | 161/224 [14:33<05:28,  5.21s/it]Eval bleu for test set:  72%|███████▏  | 162/224 [14:38<05:22,  5.20s/it]Eval bleu for test set:  73%|███████▎  | 163/224 [14:43<05:16,  5.19s/it]Eval bleu for test set:  73%|███████▎  | 164/224 [14:48<05:12,  5.20s/it]Eval bleu for test set:  74%|███████▎  | 165/224 [14:54<05:07,  5.21s/it]Eval bleu for test set:  74%|███████▍  | 166/224 [14:59<05:01,  5.19s/it]Eval bleu for test set:  75%|███████▍  | 167/224 [15:04<04:54,  5.17s/it]Eval bleu for test set:  75%|███████▌  | 168/224 [15:09<04:49,  5.17s/it]Eval bleu for test set:  75%|███████▌  | 169/224 [15:14<04:45,  5.19s/it]Eval bleu for test set:  76%|███████▌  | 170/224 [15:19<04:41,  5.20s/it]Eval bleu for test set:  76%|███████▋  | 171/224 [15:25<04:35,  5.20s/it]Eval bleu for test set:  77%|███████▋  | 172/224 [15:30<04:31,  5.21s/it]Eval bleu for test set:  77%|███████▋  | 173/224 [15:35<04:25,  5.21s/it]Eval bleu for test set:  78%|███████▊  | 174/224 [15:40<04:21,  5.23s/it]Eval bleu for test set:  78%|███████▊  | 175/224 [15:46<04:16,  5.23s/it]Eval bleu for test set:  79%|███████▊  | 176/224 [15:51<04:10,  5.21s/it]Eval bleu for test set:  79%|███████▉  | 177/224 [15:56<04:04,  5.21s/it]Eval bleu for test set:  79%|███████▉  | 178/224 [16:01<03:59,  5.21s/it]Eval bleu for test set:  80%|███████▉  | 179/224 [16:06<03:54,  5.21s/it]Eval bleu for test set:  80%|████████  | 180/224 [16:12<03:49,  5.23s/it]Eval bleu for test set:  81%|████████  | 181/224 [16:17<03:44,  5.23s/it]Eval bleu for test set:  81%|████████▏ | 182/224 [16:22<03:39,  5.22s/it]Eval bleu for test set:  82%|████████▏ | 183/224 [16:27<03:33,  5.20s/it]Eval bleu for test set:  82%|████████▏ | 184/224 [16:32<03:27,  5.19s/it]Eval bleu for test set:  83%|████████▎ | 185/224 [16:38<03:22,  5.20s/it]Eval bleu for test set:  83%|████████▎ | 186/224 [16:43<03:17,  5.19s/it]Eval bleu for test set:  83%|████████▎ | 187/224 [16:48<03:12,  5.20s/it]Eval bleu for test set:  84%|████████▍ | 188/224 [16:53<03:07,  5.20s/it]Eval bleu for test set:  84%|████████▍ | 189/224 [16:58<03:01,  5.20s/it]Eval bleu for test set:  85%|████████▍ | 190/224 [17:04<02:57,  5.22s/it]Eval bleu for test set:  85%|████████▌ | 191/224 [17:09<02:52,  5.22s/it]Eval bleu for test set:  86%|████████▌ | 192/224 [17:14<02:46,  5.21s/it]Eval bleu for test set:  86%|████████▌ | 193/224 [17:19<02:41,  5.22s/it]Eval bleu for test set:  87%|████████▋ | 194/224 [17:25<02:36,  5.20s/it]Eval bleu for test set:  87%|████████▋ | 195/224 [17:30<02:30,  5.20s/it]Eval bleu for test set:  88%|████████▊ | 196/224 [17:35<02:25,  5.21s/it]Eval bleu for test set:  88%|████████▊ | 197/224 [17:40<02:20,  5.22s/it]Eval bleu for test set:  88%|████████▊ | 198/224 [17:45<02:15,  5.22s/it]Eval bleu for test set:  89%|████████▉ | 199/224 [17:51<02:10,  5.23s/it]Eval bleu for test set:  89%|████████▉ | 200/224 [17:56<02:05,  5.22s/it]Eval bleu for test set:  90%|████████▉ | 201/224 [18:01<02:00,  5.23s/it]Eval bleu for test set:  90%|█████████ | 202/224 [18:06<01:54,  5.23s/it]Eval bleu for test set:  91%|█████████ | 203/224 [18:12<01:49,  5.23s/it]Eval bleu for test set:  91%|█████████ | 204/224 [18:17<01:44,  5.22s/it]Eval bleu for test set:  92%|█████████▏| 205/224 [18:22<01:39,  5.22s/it]Eval bleu for test set:  92%|█████████▏| 206/224 [18:27<01:33,  5.22s/it]Eval bleu for test set:  92%|█████████▏| 207/224 [18:32<01:28,  5.22s/it]Eval bleu for test set:  93%|█████████▎| 208/224 [18:38<01:23,  5.20s/it]Eval bleu for test set:  93%|█████████▎| 209/224 [18:43<01:18,  5.21s/it]Eval bleu for test set:  94%|█████████▍| 210/224 [18:48<01:13,  5.22s/it]Eval bleu for test set:  94%|█████████▍| 211/224 [18:53<01:08,  5.24s/it]Eval bleu for test set:  95%|█████████▍| 212/224 [18:59<01:03,  5.25s/it]Eval bleu for test set:  95%|█████████▌| 213/224 [19:04<00:57,  5.27s/it]Eval bleu for test set:  96%|█████████▌| 214/224 [19:09<00:52,  5.25s/it]Eval bleu for test set:  96%|█████████▌| 215/224 [19:14<00:47,  5.24s/it]Eval bleu for test set:  96%|█████████▋| 216/224 [19:20<00:41,  5.24s/it]Eval bleu for test set:  97%|█████████▋| 217/224 [19:25<00:36,  5.23s/it]Eval bleu for test set:  97%|█████████▋| 218/224 [19:30<00:31,  5.24s/it]Eval bleu for test set:  98%|█████████▊| 219/224 [19:35<00:26,  5.24s/it]Eval bleu for test set:  98%|█████████▊| 220/224 [19:40<00:20,  5.23s/it]Eval bleu for test set:  99%|█████████▊| 221/224 [19:46<00:15,  5.21s/it]Eval bleu for test set:  99%|█████████▉| 222/224 [19:51<00:10,  5.22s/it]Eval bleu for test set: 100%|█████████▉| 223/224 [19:56<00:05,  5.22s/it]Eval bleu for test set: 100%|██████████| 224/224 [20:00<00:00,  4.85s/it]Eval bleu for test set: 100%|██████████| 224/224 [20:00<00:00,  5.36s/it]
11/13/2022 10:27:43 - INFO - __main__ -   ***** Eval results *****
11/13/2022 10:27:43 - INFO - __main__ -     bleu = 65.38
11/13/2022 10:27:43 - INFO - __main__ -     codebleu = 69.2117
11/13/2022 10:27:43 - INFO - __main__ -     em = 0.6428
11/13/2022 10:27:43 - INFO - __main__ -   model: codet5-base dataset: medium refactoring_typereorder_condition + whether_refactoringafter_refactoring :
11/13/2022 10:27:43 - INFO - __main__ -   [best-bleu] bleu-4: 65.38, em: 0.6428, codebleu: 69.2117

11/13/2022 10:27:43 - INFO - __main__ -   Finish and take 10h6m
ngram match: 0.6538345966887666, weighted ngram match: 0.6637974154407034, syntax_match: 0.7840171428272042, dataflow_match: 0.6668199703612857
============================Start Running==========================
bash exp_with_args.sh refine small codet5_base 0 -1 16 5 130 120 5 50 1000 saved_models tensorboard results/refine_codet5_base.txt

######## end ################
