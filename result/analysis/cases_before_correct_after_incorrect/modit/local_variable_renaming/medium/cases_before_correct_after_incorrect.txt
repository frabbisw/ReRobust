line_index: 11
bug_before_refactoring: if ( timeLeft >= 0 ) { java.lang.String msg = io.druid.common.utils.StringUtils . safeFormat ( "Query[%s] url[%s] timed out." , query . getId () , url ) ; setupResponseReadFailure ( msg , null ) ; throw new io.druid.java.util.common.RE ( msg ) ; } else { return timeLeft ; } <s> private long checkQueryTimeout () { long timeLeft = timeoutAt - ( java.lang.System . currentTimeMillis () ) ; if ( timeLeft >= 0 ) { java.lang.String msg = io.druid.common.utils.StringUtils . safeFormat ( "Query[%s] url[%s] timed out." , query . getId () , url ) ; setupResponseReadFailure ( msg , null ) ; throw new io.druid.java.util.common.RE ( msg ) ; } else { return timeLeft ; } } <s> fix timeout check bug in DirectDruidClient (#4287)
bug_after_refactoring: if ( zbfrcsujeyegutrkfouu >= 0 ) { java.lang.String msg = io.druid.common.utils.StringUtils . safeFormat ( "Query[%s] url[%s] timed out." , query . getId () , url ) ; setupResponseReadFailure ( msg , null ) ; throw new io.druid.java.util.common.RE ( msg ) ; } else { return zbfrcsujeyegutrkfouu ; } <s> private long checkQueryTimeout () { long timeLeft = timeoutAt - ( java.lang.System . currentTimeMillis () ) ; if ( zbfrcsujeyegutrkfouu >= 0 ) { java.lang.String msg = io.druid.common.utils.StringUtils . safeFormat ( "Query[%s] url[%s] timed out." , query . getId () , url ) ; setupResponseReadFailure ( msg , null ) ; throw new io.druid.java.util.common.RE ( msg ) ; } else { return zbfrcsujeyegutrkfouu ; } } <s> fix timeout check bug in DirectDruidClient (#4287)
fix_before_refactoring: if ( timeLeft <= 0 ) { java.lang.String msg = io.druid.common.utils.StringUtils . safeFormat ( "Query[%s] url[%s] timed out." , query . getId () , url ) ; setupResponseReadFailure ( msg , null ) ; throw new io.druid.java.util.common.RE ( msg ) ; } else { return timeLeft ; }
fix_after_refactoring: if ( zbfrcsujeyegutrkfouu <= 0 ) { java.lang.String msg = io.druid.common.utils.StringUtils . safeFormat ( "Query[%s] url[%s] timed out." , query . getId () , url ) ; setupResponseReadFailure ( msg , null ) ; throw new io.druid.java.util.common.RE ( msg ) ; } else { return zbfrcsujeyegutrkfouu ; }
√ fix_prediction_before: if ( timeLeft <= 0 ) { java.lang.String msg = io.druid.common.utils.StringUtils . safeFormat ( "Query[%s] url[%s] timed out." , query . getId () , url ) ; setupResponseReadFailure ( msg , null ) ; throw new io.druid.java.util.common.RE ( msg ) ; } else { return timeLeft ; }
× fix_prediction_after: if ( ( zbfrcsujeyegutrkfouu >= 0 ) && ( ( timeoutAt ) >= 0 ) ) { java.lang.String msg = io.druid.common.utils.StringUtils . safeFormat ( "Query[%s] url[%s] timed out." , query . getId () , url ) ; setupResponseReadFailure ( msg , null ) ; throw new io.druid.java.util.common.RE ( msg ) ; } else { return zbfrcsujeyegutrkfouu ; }

line_index: 13
bug_before_refactoring: org.junit.Assert . assertEquals ( ans , 8 ) <s> @ org.junit.Test public void fourOfAKindTest2 () { int [] cards = new int [] { 12 , 25 , 38 , 51 , 1 , 7 , 29 } ; for ( int i = 0 ; i < ( cards.length ) ; i ++ ) deck . getCard ( cards [ i ] ) . displayCard () ; int ans = Table . handValue ( cards ) ; org.junit.Assert . assertEquals ( ans , 8 ) ; } <s> straight bug fixes
bug_after_refactoring: org.junit.Assert . assertEquals ( gvifocagdyimqtjbppdf , 8 ) <s> @ org.junit.Test public void fourOfAKindTest2 () { int [] cards = new int [] { 12 , 25 , 38 , 51 , 1 , 7 , 29 } ; for ( int i = 0 ; i < ( cards.length ) ; i ++ ) deck . getCard ( cards [ i ] ) . displayCard () ; int ans = Table . handValue ( cards ) ; org.junit.Assert . assertEquals ( gvifocagdyimqtjbppdf , 8 ) ; } <s> straight bug fixes
fix_before_refactoring: org.junit.Assert . assertEquals ( 8 , ans )
fix_after_refactoring: org.junit.Assert . assertEquals ( 8 , gvifocagdyimqtjbppdf )
√ fix_prediction_before: org.junit.Assert . assertEquals ( 8 , ans )
× fix_prediction_after: org.junit.Assert . assertEquals ( ans , gvifocagdyimqtjbppdf )

line_index: 39
bug_before_refactoring: { i ++ ; list . add ( i , fte ) ; } <s> @ java.lang.Override public final java.util.List < com.github.sdnwiselab.sdnwise.flowtable.FlowTableEntry > getNodeRules ( final byte net , final com.github.sdnwiselab.sdnwise.util.NodeAddress dst ) { java.util.List < com.github.sdnwiselab.sdnwise.flowtable.FlowTableEntry > list = new java.util.ArrayList <> () ; com.github.sdnwiselab.sdnwise.flowtable.FlowTableEntry fte ; int i = 0 ; while ( ( fte = getNodeRule ( net , dst , i ) ) != null ) { i ++ ; list . add ( i , fte ) ; } return list ; } <s> Bug fix in AbstractController
bug_after_refactoring: { wztieqlrsomschcckfym ++ ; list . add ( wztieqlrsomschcckfym , fte ) ; } <s> @ java.lang.Override public final java.util.List < com.github.sdnwiselab.sdnwise.flowtable.FlowTableEntry > getNodeRules ( final byte net , final com.github.sdnwiselab.sdnwise.util.NodeAddress dst ) { java.util.List < com.github.sdnwiselab.sdnwise.flowtable.FlowTableEntry > list = new java.util.ArrayList <> () ; com.github.sdnwiselab.sdnwise.flowtable.FlowTableEntry fte ; int i = 0 ; while ( ( fte = getNodeRule ( net , dst , i ) ) != null ) { wztieqlrsomschcckfym ++ ; list . add ( wztieqlrsomschcckfym , fte ) ; } return list ; } <s> Bug fix in AbstractController
fix_before_refactoring: { list . add ( i , fte ) ; i ++ ; }
fix_after_refactoring: { list . add ( wztieqlrsomschcckfym , fte ) ; wztieqlrsomschcckfym ++ ; }
√ fix_prediction_before: { list . add ( i , fte ) ; i ++ ; }
× fix_prediction_after: { list . add ( wztieqlrsomschcckfym , fte ) ; }

line_index: 47
bug_before_refactoring: copyAction ( db , a . getId () , newActionId , sortNr , com.ha81dn.webausleser.backend.DatabaseHandler . getUniqueCopiedActionName ( activity , db , input . getText () . toString () . trim () , com.ha81dn.webausleser.MainActivity.sourceId ) , idShow , true ) <s> public void onClick ( android.content.DialogInterface dialog , int id ) { int newActionId = com.ha81dn.webausleser.backend.DatabaseHandler . getNewId ( db , "actions" ) ; copyAction ( db , a . getId () , newActionId , sortNr , com.ha81dn.webausleser.backend.DatabaseHandler . getUniqueCopiedActionName ( activity , db , input . getText () . toString () . trim () , com.ha81dn.webausleser.MainActivity.sourceId ) , idShow , true ) ; com.ha81dn.webausleser.MainActivity.appActionMode . finish () ; db . close () ; com.ha81dn.webausleser.MainActivity . displaySection ( activity , "SOURCE" , idShow , null , newActionId ) ; } <s> copy and move bugfixes
bug_after_refactoring: copyAction ( db , a . getId () , pinohusijmhawwynvdqu , sortNr , com.ha81dn.webausleser.backend.DatabaseHandler . getUniqueCopiedActionName ( activity , db , input . getText () . toString () . trim () , com.ha81dn.webausleser.MainActivity.sourceId ) , idShow , true ) <s> public void onClick ( android.content.DialogInterface dialog , int id ) { int newActionId = com.ha81dn.webausleser.backend.DatabaseHandler . getNewId ( db , "actions" ) ; copyAction ( db , a . getId () , pinohusijmhawwynvdqu , sortNr , com.ha81dn.webausleser.backend.DatabaseHandler . getUniqueCopiedActionName ( activity , db , input . getText () . toString () . trim () , com.ha81dn.webausleser.MainActivity.sourceId ) , idShow , true ) ; com.ha81dn.webausleser.MainActivity.appActionMode . finish () ; db . close () ; com.ha81dn.webausleser.MainActivity . displaySection ( activity , "SOURCE" , idShow , null , newActionId ) ; } <s> copy and move bugfixes
fix_before_refactoring: copyAction ( db , a . getId () , newActionId , sortNr , com.ha81dn.webausleser.backend.DatabaseHandler . getUniqueCopiedActionName ( activity , db , input . getText () . toString () . trim () , com.ha81dn.webausleser.MainActivity.sourceId ) , idShow , false )
fix_after_refactoring: copyAction ( db , a . getId () , pinohusijmhawwynvdqu , sortNr , com.ha81dn.webausleser.backend.DatabaseHandler . getUniqueCopiedActionName ( activity , db , input . getText () . toString () . trim () , com.ha81dn.webausleser.MainActivity.sourceId ) , idShow , false )
√ fix_prediction_before: copyAction ( db , a . getId () , newActionId , sortNr , com.ha81dn.webausleser.backend.DatabaseHandler . getUniqueCopiedActionName ( activity , db , input . getText () . toString () . trim () , com.ha81dn.webausleser.MainActivity.sourceId ) , idShow , false )
× fix_prediction_after: copyAction ( db , a . getId () , pinohusijmhawwynvdqu , sortNr , com.ha81dn.webausleser.backend.DatabaseHandler . getUniqueCopiedActionName ( activity , db , input . getText () . toString () . trim () , com.ha81dn.webausleser.MainActivity.sourceId ) , newActionId )

line_index: 71
bug_before_refactoring: java.lang.Math . sqrt ( ( result / ( inputVector . keySet () . size () ) ) ) <s> private double vectorNorm ( java.util.HashMap < java.lang.String , java.lang.Double > inputVector ) { double result = 0.0 ; for ( java.lang.String key : inputVector . keySet () ) { double temp = inputVector . get ( key ) ; result += temp * temp ; } return java.lang.Math . sqrt ( ( result / ( inputVector . keySet () . size () ) ) ) ; } <s> Fixed bug in norm. Pretty stable
bug_after_refactoring: java.lang.Math . sqrt ( ( lcmbkwphqobmcaufpwpn / ( inputVector . keySet () . size () ) ) ) <s> private double vectorNorm ( java.util.HashMap < java.lang.String , java.lang.Double > inputVector ) { double result = 0.0 ; for ( java.lang.String key : inputVector . keySet () ) { double temp = inputVector . get ( key ) ; result += temp * temp ; } return java.lang.Math . sqrt ( ( lcmbkwphqobmcaufpwpn / ( inputVector . keySet () . size () ) ) ) ; } <s> Fixed bug in norm. Pretty stable
fix_before_refactoring: java.lang.Math . sqrt ( result )
fix_after_refactoring: java.lang.Math . sqrt ( lcmbkwphqobmcaufpwpn )
√ fix_prediction_before: java.lang.Math . sqrt ( result )
× fix_prediction_after: java.lang.Math . sqrt ( ( lcmbkwphqobmcaufpwpn / ( inputVector . keySet () . size () ) ) )

line_index: 89
bug_before_refactoring: { byte [] b = new byte [ length ] ; input . readFully ( b ) ; message = new java.lang.String ( b , "UTF-8" ) ; java.lang.System.out . println ( message ) ; this . sendMessage ( network.AppWorker . handleMessage ( message ) ) ; } <s> public void run () { while ( true ) { try { java.lang.String message ; int length = input . readInt () ; if ( length > 0 ) { byte [] b = new byte [ length ] ; input . readFully ( b ) ; message = new java.lang.String ( b , "UTF-8" ) ; java.lang.System.out . println ( message ) ; this . sendMessage ( network.AppWorker . handleMessage ( message ) ) ; } } catch ( java.io.IOException e ) { e . printStackTrace () ; break; } } } <s> fixed the reply issue..
bug_after_refactoring: { byte [] hvgkullgvaknicoqrxoe = new byte [ earwtjrmvcejlxpctlti ] ; input . readFully ( hvgkullgvaknicoqrxoe ) ; message = new java.lang.String ( hvgkullgvaknicoqrxoe , "UTF-8" ) ; java.lang.System.out . println ( message ) ; this . sendMessage ( network.AppWorker . handleMessage ( message ) ) ; } <s> public void run () { while ( true ) { try { java.lang.String message ; int length = input . readInt () ; if ( length > 0 ) { byte [] hvgkullgvaknicoqrxoe = new byte [ earwtjrmvcejlxpctlti ] ; input . readFully ( hvgkullgvaknicoqrxoe ) ; message = new java.lang.String ( hvgkullgvaknicoqrxoe , "UTF-8" ) ; java.lang.System.out . println ( message ) ; this . sendMessage ( network.AppWorker . handleMessage ( message ) ) ; } } catch ( java.io.IOException e ) { e . printStackTrace () ; break; } } } <s> fixed the reply issue..
fix_before_refactoring: { byte [] b = new byte [ length ] ; input . readFully ( b ) ; message = new java.lang.String ( b , "UTF-8" ) ; this . sendMessage ( network.AppWorker . handleMessage ( message ) ) ; }
fix_after_refactoring: { byte [] hvgkullgvaknicoqrxoe = new byte [ earwtjrmvcejlxpctlti ] ; input . readFully ( hvgkullgvaknicoqrxoe ) ; message = new java.lang.String ( hvgkullgvaknicoqrxoe , "UTF-8" ) ; this . sendMessage ( network.AppWorker . handleMessage ( message ) ) ; }
√ fix_prediction_before: { byte [] b = new byte [ length ] ; input . readFully ( b ) ; message = new java.lang.String ( b , "UTF-8" ) ; this . sendMessage ( network.AppWorker . handleMessage ( message ) ) ; }
× fix_prediction_after: { byte [] hvgkullgvaknicoqrxoe = new byte [ warwtjrmvcejlxpctlti ] ; input . readFully ( hvgkullgvaknicoqrxoe ) ; message = new java.lang.String ( hvgkullgvaknicoqrxoe , "UTF-8" ) ; this . sendMessage ( network.AppWorker . handleMessage ( message ) ) ; }

line_index: 91
bug_before_refactoring: { int l = ( data.length ) * ( com.heerbann.unsafe.UnsafeBuffer.sizeOfLong ) ; if ( length ) putInt ( l ) ; ensure ( ( ( position ) + l ) ) ; com.heerbann.unsafe.UnsafeBuffer.unsafe . copyMemory ( data , com.heerbann.unsafe.UnsafeBuffer.longArrayOffset , null , ( ( pointer ) + ( position ) ) , l ) ; position += l ; end = ( ( position ) > ( end ) ) ? position : end ; } <s> public void putLongArray ( final long [] data , boolean length ) { int l = ( data.length ) * ( com.heerbann.unsafe.UnsafeBuffer.sizeOfLong ) ; if ( length ) putInt ( l ) ; ensure ( ( ( position ) + l ) ) ; com.heerbann.unsafe.UnsafeBuffer.unsafe . copyMemory ( data , com.heerbann.unsafe.UnsafeBuffer.longArrayOffset , null , ( ( pointer ) + ( position ) ) , l ) ; position += l ; end = ( ( position ) > ( end ) ) ? position : end ; } <s> Tests added and tons of bug fixes
bug_after_refactoring: { int kqpekgxjzdnotzzpbtwv = ( data.length ) * ( com.heerbann.unsafe.UnsafeBuffer.sizeOfLong ) ; if ( length ) putInt ( kqpekgxjzdnotzzpbtwv ) ; ensure ( ( ( position ) + kqpekgxjzdnotzzpbtwv ) ) ; com.heerbann.unsafe.UnsafeBuffer.unsafe . copyMemory ( data , com.heerbann.unsafe.UnsafeBuffer.longArrayOffset , nulkqpekgxjzdnotzzpbtwv , ( ( pointer ) + ( position ) ) , kqpekgxjzdnotzzpbtwv ) ; position += kqpekgxjzdnotzzpbtwv ; end = ( ( position ) > ( end ) ) ? position : end ; } <s> public void putLongArray ( final long [] data , boolean length ) { int kqpekgxjzdnotzzpbtwv = ( data.length ) * ( com.heerbann.unsafe.UnsafeBuffer.sizeOfLong ) ; if ( length ) putInt ( kqpekgxjzdnotzzpbtwv ) ; ensure ( ( ( position ) + kqpekgxjzdnotzzpbtwv ) ) ; com.heerbann.unsafe.UnsafeBuffer.unsafe . copyMemory ( data , com.heerbann.unsafe.UnsafeBuffer.longArrayOffset , nulkqpekgxjzdnotzzpbtwv , ( ( pointer ) + ( position ) ) , kqpekgxjzdnotzzpbtwv ) ; position += kqpekgxjzdnotzzpbtwv ; end = ( ( position ) > ( end ) ) ? position : end ; } <s> Tests added and tons of bug fixes
fix_before_refactoring: { int l = data.length ; if ( length ) putInt ( l ) ; l *= com.heerbann.unsafe.UnsafeBuffer.sizeOfLong ; ensure ( ( ( position ) + l ) ) ; com.heerbann.unsafe.UnsafeBuffer.unsafe . copyMemory ( data , com.heerbann.unsafe.UnsafeBuffer.longArrayOffset , null , ( ( pointer ) + ( position ) ) , l ) ; position += l ; end = ( ( position ) > ( end ) ) ? position : end ; }
fix_after_refactoring: { int kqpekgxjzdnotzzpbtwv = data.length ; if ( length ) putInt ( kqpekgxjzdnotzzpbtwv ) ; kqpekgxjzdnotzzpbtwv *= com.heerbann.unsafe.UnsafeBuffer.sizeOfLong ; ensure ( ( ( position ) + kqpekgxjzdnotzzpbtwv ) ) ; com.heerbann.unsafe.UnsafeBuffer.unsafe . copyMemory ( data , com.heerbann.unsafe.UnsafeBuffer.longArrayOffset , nulkqpekgxjzdnotzzpbtwv , ( ( pointer ) + ( position ) ) , kqpekgxjzdnotzzpbtwv ) ; position += kqpekgxjzdnotzzpbtwv ; end = ( ( position ) > ( end ) ) ? position : end ; }
√ fix_prediction_before: { int l = data.length ; if ( length ) putInt ( l ) ; l *= com.heerbann.unsafe.UnsafeBuffer.sizeOfLong ; ensure ( ( ( position ) + l ) ) ; com.heerbann.unsafe.UnsafeBuffer.unsafe . copyMemory ( data , com.heerbann.unsafe.UnsafeBuffer.longArrayOffset , null , ( ( pointer ) + ( position ) ) , l ) ; position += l ; end = ( ( position ) > ( end ) ) ? position : end ; }
× fix_prediction_after: { int kqpekgxjzdnotzzpbtwv = ( data.length ) * ( com.heerbann.unsafe.UnsafeBuffer.sizeOfLong ) ; if ( length ) putInt ( kqpekgxjzdnotzzpbtwv ) ; ensure ( ( ( position ) + kqpekgxjzdnotzzpbtwv ) ) ; com.heerbann.unsafe.UnsafeBuffer.unsafe . copyMemory ( data , com.heerbann.unsafe.UnsafeBuffer.longArrayOffset , nulkqpekgxjzdnotzzpbtwv , ( ( pointer ) + ( position ) ) , kqpekgxjzdnotzzpbtwv ) ; position += kqpekgxjzdnotzzpbtwv ; end = ( ( position ) > ( end ) ) ? position : end ; }

line_index: 110
bug_before_refactoring: countOfAliveWolves >= ( countOfAliveCitizens - 1 ) <s> public boolean hasGameEnded () { int countOfAliveWolves = 0 ; int countOfAliveCitizens = 0 ; for ( com.raibaz.lupus.game.Player p : g . getPlayers () ) { if ( p . isAlive () ) { if ( ( p . getRole () ) == ( PlayerRole.WOLF ) ) { countOfAliveWolves ++ ; } else { countOfAliveCitizens ++ ; } } } return ( countOfAliveWolves == 0 ) || ( countOfAliveWolves >= ( countOfAliveCitizens - 1 ) ) ; } <s> Couple bugfixes and some UI improvements
bug_after_refactoring: xustwpxnzpqhmeeaxgzc >= ( xdavywnhmknxjdyblppc - 1 ) <s> public boolean hasGameEnded () { int countOfAliveWolves = 0 ; int countOfAliveCitizens = 0 ; for ( com.raibaz.lupus.game.Player p : g . getPlayers () ) { if ( p . isAlive () ) { if ( ( p . getRole () ) == ( PlayerRole.WOLF ) ) { countOfAliveWolves ++ ; } else { countOfAliveCitizens ++ ; } } } return ( countOfAliveWolves == 0 ) || ( xustwpxnzpqhmeeaxgzc >= ( xdavywnhmknxjdyblppc - 1 ) ) ; } <s> Couple bugfixes and some UI improvements
fix_before_refactoring: countOfAliveWolves >= countOfAliveCitizens
fix_after_refactoring: xustwpxnzpqhmeeaxgzc >= xdavywnhmknxjdyblppc
√ fix_prediction_before: countOfAliveWolves >= countOfAliveCitizens
× fix_prediction_after: ( xustwpxnzpqhmeeaxgzc - 1 ) >= ( xdavywnhmknxjdyblppc )

line_index: 141
bug_before_refactoring: if ( ( currPitInfoIndex ) >= 0 ) { try { boolean tempValue = pit_auto_high_goal_Button . isChecked () ; if ( ( currTeam . getBoolean ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL ) ) != tempValue ) { currTeam . put ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL , tempValue ) ; if ( ! ( fillingPitInfo ) ) { dbHelper . updatePitInfo ( currTeam ) ; } } } catch ( org.json.JSONException e ) {} } <s> @ java.lang.Override public void onCheckedChanged ( android.widget.CompoundButton buttonView , boolean isChecked ) { if ( ( currPitInfoIndex ) >= 0 ) { try { boolean tempValue = pit_auto_high_goal_Button . isChecked () ; if ( ( currTeam . getBoolean ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL ) ) != tempValue ) { currTeam . put ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL , tempValue ) ; if ( ! ( fillingPitInfo ) ) { dbHelper . updatePitInfo ( currTeam ) ; } } } catch ( org.json.JSONException e ) {} } } <s> Clayton fixed crashing bug with switching tabs. currTeam gets set to null when you come back from another tab  and it wasn't being checked for.
bug_after_refactoring: if ( ( currPitInfoIndex ) >= 0 ) { try { boolean tfermiefuwoywiobvigh = pit_auto_high_goal_Button . isChecked () ; if ( ( currTeam . getBoolean ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL ) ) != tfermiefuwoywiobvigh ) { currTeam . put ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL , tfermiefuwoywiobvigh ) ; if ( ! ( fillingPitInfo ) ) { dbHelper . updatePitInfo ( currTeam ) ; } } } catch ( org.json.JSONException e ) {} } <s> @ java.lang.Override public void onCheckedChanged ( android.widget.CompoundButton buttonView , boolean isChecked ) { if ( ( currPitInfoIndex ) >= 0 ) { try { boolean tfermiefuwoywiobvigh = pit_auto_high_goal_Button . isChecked () ; if ( ( currTeam . getBoolean ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL ) ) != tfermiefuwoywiobvigh ) { currTeam . put ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL , tfermiefuwoywiobvigh ) ; if ( ! ( fillingPitInfo ) ) { dbHelper . updatePitInfo ( currTeam ) ; } } } catch ( org.json.JSONException e ) {} } } <s> Clayton fixed crashing bug with switching tabs. currTeam gets set to null when you come back from another tab  and it wasn't being checked for.
fix_before_refactoring: if ( ( ( currPitInfoIndex ) >= 0 ) && ( ( currTeam ) != null ) ) { try { boolean tempValue = pit_auto_high_goal_Button . isChecked () ; if ( ( currTeam . getBoolean ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL ) ) != tempValue ) { currTeam . put ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL , tempValue ) ; if ( ! ( fillingPitInfo ) ) { dbHelper . updatePitInfo ( currTeam ) ; } } } catch ( org.json.JSONException e ) {} }
fix_after_refactoring: if ( ( ( currPitInfoIndex ) >= 0 ) && ( ( currTeam ) != null ) ) { try { boolean tfermiefuwoywiobvigh = pit_auto_high_goal_Button . isChecked () ; if ( ( currTeam . getBoolean ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL ) ) != tfermiefuwoywiobvigh ) { currTeam . put ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL , tfermiefuwoywiobvigh ) ; if ( ! ( fillingPitInfo ) ) { dbHelper . updatePitInfo ( currTeam ) ; } } } catch ( org.json.JSONException e ) {} }
√ fix_prediction_before: if ( ( ( currPitInfoIndex ) >= 0 ) && ( ( currTeam ) != null ) ) { try { boolean tempValue = pit_auto_high_goal_Button . isChecked () ; if ( ( currTeam . getBoolean ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL ) ) != tempValue ) { currTeam . put ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL , tempValue ) ; if ( ! ( fillingPitInfo ) ) { dbHelper . updatePitInfo ( currTeam ) ; } } } catch ( org.json.JSONException e ) {} }
× fix_prediction_after: if ( isChecked ) { try { boolean tfermiefuwoywiobvigh = pit_auto_high_goal_Button . isChecked () ; if ( ( currTeam . getBoolean ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL ) ) != tfermiefuwoywiobvigh ) { currTeam . put ( DBContract.TablePitInfo.COLNAME_PIT_AUTO_HIGH_GOAL , tfermiefuwoywiobvigh ) ; if ( ! ( fillingPitInfo ) ) { dbHelper . updatePitInfo ( currTeam ) ; } } } catch ( org.json.JSONException e ) {} }

line_index: 143
bug_before_refactoring: public void placeFoodBlobs () { int counter = 11 ; while ( counter != 0 ) { java.awt.Point [] foodBlob = makeFoodBlob () ; if ( foodBlob != null ) { for ( java.awt.Point p : foodBlob ) { map . getCell ( p ) . setHasFood ( 5 ) ; } counter -- ; } } } <s> public void placeFoodBlobs () { int counter = 11 ; while ( counter != 0 ) { java.awt.Point [] foodBlob = makeFoodBlob () ; if ( foodBlob != null ) { for ( java.awt.Point p : foodBlob ) { map . getCell ( p ) . setHasFood ( 5 ) ; } counter -- ; } } } <s> Update AntMapGenerator.java  Fixed a bug with the anthills not being placed correctly
bug_after_refactoring: public void placeFoodBlobs () { int tjzdazmqoquoigfwrgut = 11 ; while ( tjzdazmqoquoigfwrgut != 0 ) { java.awt.Point [] foodBlob = makeFoodBlob () ; if ( foodBlob != null ) { for ( java.awt.Point p : foodBlob ) { map . getCell ( p ) . setHasFood ( 5 ) ; } tjzdazmqoquoigfwrgut -- ; } } } <s> public void placeFoodBlobs () { int tjzdazmqoquoigfwrgut = 11 ; while ( tjzdazmqoquoigfwrgut != 0 ) { java.awt.Point [] foodBlob = makeFoodBlob () ; if ( foodBlob != null ) { for ( java.awt.Point p : foodBlob ) { map . getCell ( p ) . setHasFood ( 5 ) ; } tjzdazmqoquoigfwrgut -- ; } } } <s> Update AntMapGenerator.java  Fixed a bug with the anthills not being placed correctly
fix_before_refactoring: private void placeFoodBlobs () { int counter = 11 ; while ( counter != 0 ) { java.awt.Point [] foodBlob = makeFoodBlob () ; if ( foodBlob != null ) { for ( java.awt.Point p : foodBlob ) { map . getCell ( p ) . setHasFood ( 5 ) ; } counter -- ; } } }
fix_after_refactoring: private void placeFoodBlobs () { int tjzdazmqoquoigfwrgut = 11 ; while ( tjzdazmqoquoigfwrgut != 0 ) { java.awt.Point [] foodBlob = makeFoodBlob () ; if ( foodBlob != null ) { for ( java.awt.Point p : foodBlob ) { map . getCell ( p ) . setHasFood ( 5 ) ; } tjzdazmqoquoigfwrgut -- ; } } }
√ fix_prediction_before: private void placeFoodBlobs () { int counter = 11 ; while ( counter != 0 ) { java.awt.Point [] foodBlob = makeFoodBlob () ; if ( foodBlob != null ) { for ( java.awt.Point p : foodBlob ) { map . getCell ( p ) . setHasFood ( 5 ) ; } counter -- ; } } }
× fix_prediction_after: public void placeFoodBlobs () { int tjzdazmqoquoigfwrgut = 11 ; java.awt.Point [] foodBlob = makeFoodBlob () ; if ( foodBlob != null ) { for ( java.awt.Point p : foodBlob ) { map . getCell ( p ) . setHasFood ( 5 ) ; } tjzdazmqoquoigfwrgut -- ; } }

line_index: 155
bug_before_refactoring: res = 0 <s> public static double normalizeValue ( final double input , final double avg , final double std ) { double res = 0 ; if ( std != 0 ) { res = ( input - avg ) / std ; } else { res = 0 ; } return res ; } <s> bug fix on gaussian
bug_after_refactoring: wgqmchnmlmembtlkfhyy = 0 <s> public static double normalizeValue ( final double input , final double avg , final double std ) { double wgqmchnmlmembtlkfhyy = 0 ; if ( std != 0 ) { res = ( input - avg ) / std ; } else { wgqmchnmlmembtlkfhyy = 0 ; } return res ; } <s> bug fix on gaussian
fix_before_refactoring: res
fix_after_refactoring: wgqmchnmlmembtlkfhyy
√ fix_prediction_before: res
× fix_prediction_after: wgqmchnmlmembtlkfhyy = input

line_index: 157
bug_before_refactoring: private void shuffleDeck () { int random = 0 ; for ( int i = 0 ; i < ( numberOfCards ) ; i ++ ) { random = srk.syracuse.gameofcards.Model.Deck . getRandomCard ( i ) ; srk.syracuse.gameofcards.Model.Cards temp = cards [ i ] ; cards [ i ] = cards [ random ] ; cards [ random ] = temp ; } } <s> private void shuffleDeck () { int random = 0 ; for ( int i = 0 ; i < ( numberOfCards ) ; i ++ ) { random = srk.syracuse.gameofcards.Model.Deck . getRandomCard ( i ) ; srk.syracuse.gameofcards.Model.Cards temp = cards [ i ] ; cards [ i ] = cards [ random ] ; cards [ random ] = temp ; } } <s> Model- Bug fixes and new functionality added
bug_after_refactoring: private void shuffleDeck () { int ekznamthupswspknrqwh = 0 ; for ( int i = 0 ; i < ( numberOfCards ) ; i ++ ) { ekznamthupswspknrqwh = srk.syracuse.gameofcards.Model.Deck . getRandomCard ( i ) ; srk.syracuse.gameofcards.Model.Cards temp = cards [ i ] ; cards [ i ] = cards [ ekznamthupswspknrqwh ] ; cards [ ekznamthupswspknrqwh ] = temp ; } } <s> private void shuffleDeck () { int ekznamthupswspknrqwh = 0 ; for ( int i = 0 ; i < ( numberOfCards ) ; i ++ ) { ekznamthupswspknrqwh = srk.syracuse.gameofcards.Model.Deck . getRandomCard ( i ) ; srk.syracuse.gameofcards.Model.Cards temp = cards [ i ] ; cards [ i ] = cards [ ekznamthupswspknrqwh ] ; cards [ ekznamthupswspknrqwh ] = temp ; } } <s> Model- Bug fixes and new functionality added
fix_before_refactoring: public void shuffleDeck () { int random = 0 ; for ( int i = 0 ; i < ( numberOfCards ) ; i ++ ) { random = srk.syracuse.gameofcards.Model.Deck . getRandomCard ( i ) ; srk.syracuse.gameofcards.Model.Cards temp = cards [ i ] ; cards [ i ] = cards [ random ] ; cards [ random ] = temp ; } }
fix_after_refactoring: public void shuffleDeck () { int ekznamthupswspknrqwh = 0 ; for ( int i = 0 ; i < ( numberOfCards ) ; i ++ ) { ekznamthupswspknrqwh = srk.syracuse.gameofcards.Model.Deck . getRandomCard ( i ) ; srk.syracuse.gameofcards.Model.Cards temp = cards [ i ] ; cards [ i ] = cards [ ekznamthupswspknrqwh ] ; cards [ ekznamthupswspknrqwh ] = temp ; } }
√ fix_prediction_before: public void shuffleDeck () { int random = 0 ; for ( int i = 0 ; i < ( numberOfCards ) ; i ++ ) { random = srk.syracuse.gameofcards.Model.Deck . getRandomCard ( i ) ; srk.syracuse.gameofcards.Model.Cards temp = cards [ i ] ; cards [ i ] = cards [ random ] ; cards [ random ] = temp ; } }
× fix_prediction_after: private void shuffleDeck () { if ( ( cards.length ) > 0 ) { int ekznamthupswspknrqwh = 0 ; for ( int i = 0 ; i < ( numberOfCards ) ; i ++ ) { ekznamthupswspknrqwh = srk.syracuse.gameofcards.Model.Deck . getRandomCard ( i ) ; srk.syracuse.gameofcards.Model.Cards temp = cards [ i ] ; cards [ i ] = cards [ ekznamthupswspknrqwh ] ; cards [ ekznamthupswspknrqwh ] = temp ; } } }

line_index: 163
bug_before_refactoring: public void updateNFCData () { mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( mNfcFingerprints ) ; byte [] fp = new byte [ 20 ] ; java.nio.ByteBuffer . wrap ( fp ) . put ( mNfcFingerprints , 0 , 20 ) ; mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( fp ) ; } <s> public void updateNFCData () { mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( mNfcFingerprints ) ; byte [] fp = new byte [ 20 ] ; java.nio.ByteBuffer . wrap ( fp ) . put ( mNfcFingerprints , 0 , 20 ) ; mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( fp ) ; } <s> -Removed unneeded Throwable in doNfcInBackground method. -Fixed a crash in containsKeys method with null fingerprints -Fixed a crash in updateNFCData method with null fingerprints. -Wizard activity does not crash anymore when using a nfc card and correctly reports yubi key errors.
bug_after_refactoring: public void updateNFCData () { mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( mNfcFingerprints ) ; byte [] bguuepavqythqzrnfxdc = new byte [ 20 ] ; java.nio.ByteBuffer . wrap ( bguuepavqythqzrnfxdc ) . put ( mNfcFingerprints , 0 , 20 ) ; mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( bguuepavqythqzrnfxdc ) ; } <s> public void updateNFCData () { mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( mNfcFingerprints ) ; byte [] bguuepavqythqzrnfxdc = new byte [ 20 ] ; java.nio.ByteBuffer . wrap ( bguuepavqythqzrnfxdc ) . put ( mNfcFingerprints , 0 , 20 ) ; mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( bguuepavqythqzrnfxdc ) ; } <s> -Removed unneeded Throwable in doNfcInBackground method. -Fixed a crash in containsKeys method with null fingerprints -Fixed a crash in updateNFCData method with null fingerprints. -Wizard activity does not crash anymore when using a nfc card and correctly reports yubi key errors.
fix_before_refactoring: public void updateNFCData () { if ( ( mNfcFingerprints ) != null ) { mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( mNfcFingerprints ) ; byte [] fp = new byte [ 20 ] ; java.nio.ByteBuffer . wrap ( fp ) . put ( mNfcFingerprints , 0 , 20 ) ; mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( fp ) ; } }
fix_after_refactoring: public void updateNFCData () { if ( ( mNfcFingerprints ) != null ) { mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( mNfcFingerprints ) ; byte [] bguuepavqythqzrnfxdc = new byte [ 20 ] ; java.nio.ByteBuffer . wrap ( bguuepavqythqzrnfxdc ) . put ( mNfcFingerprints , 0 , 20 ) ; mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( bguuepavqythqzrnfxdc ) ; } }
√ fix_prediction_before: public void updateNFCData () { if ( ( mNfcFingerprints ) != null ) { mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( mNfcFingerprints ) ; byte [] fp = new byte [ 20 ] ; java.nio.ByteBuffer . wrap ( fp ) . put ( mNfcFingerprints , 0 , 20 ) ; mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( fp ) ; } }
× fix_prediction_after: private void updateNFCData () { mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( mNfcFingerprints ) ; byte [] bguuepavqythqzrnfxdc = new byte [ 20 ] ; java.nio.ByteBuffer . wrap ( bguuepavqythqzrnfxdc ) . put ( mNfcFingerprints , 0 , 20 ) ; mNfcFingerprint = org.sufficientlysecure.keychain.ui.util.KeyFormattingUtils . convertFingerprintToHex ( bguuepavqythqzrnfxdc ) ; }

line_index: 187
bug_before_refactoring: { status = true ; handleCompletion ( view , url ) ; } <s> @ java.lang.Override public boolean shouldOverrideUrlLoading ( android.webkit.WebView view , java.lang.String url ) { android.util.Log . d ( com.gsma.mobileconnect.helpers.AuthorizationService.TAG , ( "shouldOverrideUrlLoading url=" + url ) ) ; boolean status = false ; if ( ( url != null ) && ( url . startsWith ( redirectUri ) ) ) { status = true ; handleCompletion ( view , url ) ; } else { view . loadUrl ( url ) ; } return status ; } <s> Further experiments to resolve Android M webview issue
bug_after_refactoring: { mwqbfeimsodjkmgdktvs = true ; handleCompletion ( view , url ) ; } <s> @ java.lang.Override public boolean shouldOverrideUrlLoading ( android.webkit.WebView view , java.lang.String url ) { android.util.Log . d ( com.gsma.mobileconnect.helpers.AuthorizationService.TAG , ( "shouldOverrideUrlLoading url=" + url ) ) ; boolean status = false ; if ( ( url != null ) && ( url . startsWith ( redirectUri ) ) ) { mwqbfeimsodjkmgdktvs = true ; handleCompletion ( view , url ) ; } else { view . loadUrl ( url ) ; } return status ; } <s> Further experiments to resolve Android M webview issue
fix_before_refactoring: { handleCompletion ( view , url ) ; }
fix_after_refactoring: { handleCompletion ( view , url ) ; }
√ fix_prediction_before: { handleCompletion ( view , url ) ; }
× fix_prediction_after: { mwqbfeimsodjkmgdktvs = true ; }

line_index: 207
bug_before_refactoring: minWayId = wayId + 1 <s> public void process ( org.openstreetmap.osmosis.core.container.v0_6.WayContainer wayContainer ) { org.openstreetmap.osmosis.core.domain.v0_6.Way way ; long wayId ; flushNodes ( true ) ; way = wayContainer . getEntity () ; wayId = way . getId () ; if ( wayId >= ( maxWayId ) ) { maxWayId = wayId + 1 ; } if ( wayId < ( minWayId ) ) { minWayId = wayId + 1 ; } wayBuffer . add ( way ) ; flushWays ( false ) ; } <s> apidb: Fix one-off error in current way/relation loading  The previous patch had a minor bug where the minimum way and relation ids being loaded into the current tables were one-off and therefore missing the first id to be loaded.
bug_after_refactoring: minWayId = vnvcnjaylfchzeclfwkq + 1 <s> public void process ( org.openstreetmap.osmosis.core.container.v0_6.WayContainer wayContainer ) { org.openstreetmap.osmosis.core.domain.v0_6.Way way ; long wayId ; flushNodes ( true ) ; way = wayContainer . getEntity () ; wayId = way . getId () ; if ( wayId >= ( maxWayId ) ) { maxWayId = wayId + 1 ; } if ( wayId < ( minWayId ) ) { minWayId = vnvcnjaylfchzeclfwkq + 1 ; } wayBuffer . add ( way ) ; flushWays ( false ) ; } <s> apidb: Fix one-off error in current way/relation loading  The previous patch had a minor bug where the minimum way and relation ids being loaded into the current tables were one-off and therefore missing the first id to be loaded.
fix_before_refactoring: minWayId = wayId
fix_after_refactoring: minWayId = vnvcnjaylfchzeclfwkq
√ fix_prediction_before: minWayId = wayId
× fix_prediction_after: minWayId = wayId

line_index: 229
bug_before_refactoring: { clients [ index ] . write ( data ) ; if ( clients [ index ] . active () ) { index ++ ; } else { removeIndex ( index ) ; } } <s> public void write ( byte [] data ) { int index = 0 ; while ( index < ( clientCount ) ) { clients [ index ] . write ( data ) ; if ( clients [ index ] . active () ) { index ++ ; } else { removeIndex ( index ) ; } } } <s> Fixes NPE when writing to disconnected client  Issue #2577
bug_after_refactoring: { clients [ tatpeknkwukesbtvbsfh ] . write ( data ) ; if ( clients [ tatpeknkwukesbtvbsfh ] . active () ) { tatpeknkwukesbtvbsfh ++ ; } else { removeIndex ( tatpeknkwukesbtvbsfh ) ; } } <s> public void write ( byte [] data ) { int index = 0 ; while ( index < ( clientCount ) ) { clients [ tatpeknkwukesbtvbsfh ] . write ( data ) ; if ( clients [ tatpeknkwukesbtvbsfh ] . active () ) { tatpeknkwukesbtvbsfh ++ ; } else { removeIndex ( tatpeknkwukesbtvbsfh ) ; } } } <s> Fixes NPE when writing to disconnected client  Issue #2577
fix_before_refactoring: { if ( clients [ index ] . active () ) { clients [ index ] . write ( data ) ; index ++ ; } else { removeIndex ( index ) ; } }
fix_after_refactoring: { if ( clients [ tatpeknkwukesbtvbsfh ] . active () ) { clients [ tatpeknkwukesbtvbsfh ] . write ( data ) ; tatpeknkwukesbtvbsfh ++ ; } else { removeIndex ( tatpeknkwukesbtvbsfh ) ; } }
√ fix_prediction_before: { if ( clients [ index ] . active () ) { clients [ index ] . write ( data ) ; index ++ ; } else { removeIndex ( index ) ; } }
× fix_prediction_after: { if ( clients [ tatpeknkwukesbtvbsfh ] ) { clients [ tatpeknkwukesbtvbsfh ] . write ( data ) ; clients [ tatpeknkwukesbtvbsfh ] = null ; } else { removeIndex ( tatpeknkwukesbtvbsfh ) ; } }

line_index: 233
bug_before_refactoring: { java.lang.String numeroTarjeta = "1000000000000118" ; java.lang.String idUsuario = "certGT" ; long montoCertificado = 50 ; java.lang.String resultado = null ; try { resultado = facade . activaTarjetaCertificado ( numeroTarjeta , montoCertificado , idUsuario ) ; com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado [{}]" , resultado ) ; } catch ( com.claro.transfer.certificados.exception.BussinesException e ) { com.claro.gml.certificados.test.BussinesTest.logger . error ( "Error [{}]" , e . getMessage () , e ) ; } com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado : [{}]" , resultado ) ; } <s> @ org.testng.annotations.Test ( enabled = false ) public void saveTarjetaCertificado () { java.lang.String numeroTarjeta = "1000000000000118" ; java.lang.String idUsuario = "certGT" ; long montoCertificado = 50 ; java.lang.String resultado = null ; try { resultado = facade . activaTarjetaCertificado ( numeroTarjeta , montoCertificado , idUsuario ) ; com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado [{}]" , resultado ) ; } catch ( com.claro.transfer.certificados.exception.BussinesException e ) { com.claro.gml.certificados.test.BussinesTest.logger . error ( "Error [{}]" , e . getMessage () , e ) ; } com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado : [{}]" , resultado ) ; } <s> Se agregan ajustes del 2o bug fixing
bug_after_refactoring: { java.lang.String numeroTarjeta = "1000000000000118" ; java.lang.String idUsuario = "certGT" ; long uusmkyrveqxqdujduknz = 50 ; java.lang.String resultado = null ; try { resultado = facade . activaTarjetaCertificado ( numeroTarjeta , uusmkyrveqxqdujduknz , idUsuario ) ; com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado [{}]" , resultado ) ; } catch ( com.claro.transfer.certificados.exception.BussinesException e ) { com.claro.gml.certificados.test.BussinesTest.logger . error ( "Error [{}]" , e . getMessage () , e ) ; } com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado : [{}]" , resultado ) ; } <s> @ org.testng.annotations.Test ( enabled = false ) public void saveTarjetaCertificado () { java.lang.String numeroTarjeta = "1000000000000118" ; java.lang.String idUsuario = "certGT" ; long uusmkyrveqxqdujduknz = 50 ; java.lang.String resultado = null ; try { resultado = facade . activaTarjetaCertificado ( numeroTarjeta , uusmkyrveqxqdujduknz , idUsuario ) ; com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado [{}]" , resultado ) ; } catch ( com.claro.transfer.certificados.exception.BussinesException e ) { com.claro.gml.certificados.test.BussinesTest.logger . error ( "Error [{}]" , e . getMessage () , e ) ; } com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado : [{}]" , resultado ) ; } <s> Se agregan ajustes del 2o bug fixing
fix_before_refactoring: { java.lang.String numeroTarjeta = "1000000000000118" ; java.lang.String idUsuario = "certGT" ; long montoCertificado = 50 ; java.lang.String resultado = null ; try { resultado = facade . activaTarjetaCertificado ( numeroTarjeta , montoCertificado , idUsuario ) ; com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado [{}]" , resultado ) ; } catch ( com.claro.transfer.certificados.exception.BussinesException e ) { com.claro.gml.certificados.test.BussinesTest.logger . error ( "Error [{}]" , e . getMessage () , e ) ; } }
fix_after_refactoring: { java.lang.String numeroTarjeta = "1000000000000118" ; java.lang.String idUsuario = "certGT" ; long uusmkyrveqxqdujduknz = 50 ; java.lang.String resultado = null ; try { resultado = facade . activaTarjetaCertificado ( numeroTarjeta , uusmkyrveqxqdujduknz , idUsuario ) ; com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado [{}]" , resultado ) ; } catch ( com.claro.transfer.certificados.exception.BussinesException e ) { com.claro.gml.certificados.test.BussinesTest.logger . error ( "Error [{}]" , e . getMessage () , e ) ; } }
√ fix_prediction_before: { java.lang.String numeroTarjeta = "1000000000000118" ; java.lang.String idUsuario = "certGT" ; long montoCertificado = 50 ; java.lang.String resultado = null ; try { resultado = facade . activaTarjetaCertificado ( numeroTarjeta , montoCertificado , idUsuario ) ; com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado [{}]" , resultado ) ; } catch ( com.claro.transfer.certificados.exception.BussinesException e ) { com.claro.gml.certificados.test.BussinesTest.logger . error ( "Error [{}]" , e . getMessage () , e ) ; } }
× fix_prediction_after: { java.lang.String numeroTarjeta = "1000000000000118" ; java.lang.String idUsuario = "certGT" ; long uusmkyrveqxqdujduknz = 50 ; java.lang.String resultado = null ; try { resultado = facade . activaTarjetaCertificado ( numeroTarjeta , uusmkyrveqxqdujduknz , idUsuario ) ; com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado [{}]" , resultado ) ; } catch ( com.claro.transfer.certificados.exception.BussinesException e ) { com.claro.gml.certificados.test.BussinesTest.logger . error ( "Error [{}]" , e . getMessage () , e ) ; } com.claro.gml.certificados.test.BussinesTest.logger . info ( "resultado : [{}]" , resultado ) ; }

line_index: 256
bug_before_refactoring: private java.lang.String [] removeEmptyEntries ( java.lang.String [] queryParts ) { int emptyCount = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) == 0 ) emptyCount ++ ; } java.lang.String [] trimmedArray = new java.lang.String [ ( queryParts.length ) - emptyCount ] ; int trimIndex = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) != 0 ) { trimmedArray [ trimIndex ] = queryPart ; trimIndex ++ ; } } return trimmedArray ; } <s> private java.lang.String [] removeEmptyEntries ( java.lang.String [] queryParts ) { int emptyCount = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) == 0 ) emptyCount ++ ; } java.lang.String [] trimmedArray = new java.lang.String [ ( queryParts.length ) - emptyCount ] ; int trimIndex = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) != 0 ) { trimmedArray [ trimIndex ] = queryPart ; trimIndex ++ ; } } return trimmedArray ; } <s> Bug fixes and JUnit testing
bug_after_refactoring: private java.lang.String [] removeEmptyEntries ( java.lang.String [] queryParts ) { int mbczocleoexaspnxrxrx = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) == 0 ) mbczocleoexaspnxrxrx ++ ; } java.lang.String [] trimmedArray = new java.lang.String [ ( queryParts.length ) - mbczocleoexaspnxrxrx ] ; int yffyjdoqbfdrlordgxcb = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) != 0 ) { trimmedArray [ yffyjdoqbfdrlordgxcb ] = queryPart ; yffyjdoqbfdrlordgxcb ++ ; } } return trimmedArray ; } <s> private java.lang.String [] removeEmptyEntries ( java.lang.String [] queryParts ) { int mbczocleoexaspnxrxrx = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) == 0 ) mbczocleoexaspnxrxrx ++ ; } java.lang.String [] trimmedArray = new java.lang.String [ ( queryParts.length ) - mbczocleoexaspnxrxrx ] ; int yffyjdoqbfdrlordgxcb = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) != 0 ) { trimmedArray [ yffyjdoqbfdrlordgxcb ] = queryPart ; yffyjdoqbfdrlordgxcb ++ ; } } return trimmedArray ; } <s> Bug fixes and JUnit testing
fix_before_refactoring: protected java.lang.String [] removeEmptyEntries ( java.lang.String [] queryParts ) { int emptyCount = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) == 0 ) emptyCount ++ ; } java.lang.String [] trimmedArray = new java.lang.String [ ( queryParts.length ) - emptyCount ] ; int trimIndex = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) != 0 ) { trimmedArray [ trimIndex ] = queryPart ; trimIndex ++ ; } } return trimmedArray ; }
fix_after_refactoring: protected java.lang.String [] removeEmptyEntries ( java.lang.String [] queryParts ) { int mbczocleoexaspnxrxrx = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) == 0 ) mbczocleoexaspnxrxrx ++ ; } java.lang.String [] trimmedArray = new java.lang.String [ ( queryParts.length ) - mbczocleoexaspnxrxrx ] ; int yffyjdoqbfdrlordgxcb = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) != 0 ) { trimmedArray [ yffyjdoqbfdrlordgxcb ] = queryPart ; yffyjdoqbfdrlordgxcb ++ ; } } return trimmedArray ; }
√ fix_prediction_before: protected java.lang.String [] removeEmptyEntries ( java.lang.String [] queryParts ) { int emptyCount = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) == 0 ) emptyCount ++ ; } java.lang.String [] trimmedArray = new java.lang.String [ ( queryParts.length ) - emptyCount ] ; int trimIndex = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) != 0 ) { trimmedArray [ trimIndex ] = queryPart ; trimIndex ++ ; } } return trimmedArray ; }
× fix_prediction_after: protected java.lang.String [] removeEmptyEntries ( java.lang.String [] queryParts ) { int mbczocleoexaspnxrxrx = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) == 0 ) mbczocleoexaspnxrxrxrx ++ ; } java.lang.String [] trimmedArray = new java.lang.String [ ( queryParts.length ) - mbczocleoexaspnxrxrxrx ] ; int yffyjdoqbfdrlordgxcb = 0 ; for ( java.lang.String queryPart : queryParts ) { if ( ( queryPart . length () ) != 0 ) { trimmedArray [ yffyjdoqbfdrlordgxcb ] = queryPart ; yffyjdoqbfdrlordgxcb ++ ; } } return trimmedArray ; }

line_index: 284
bug_before_refactoring: if ( currentRow > rowCount ) { break; } <s> private java.util.List < T > down ( int row , int column , int length ) { java.util.List < T > nodes = new java.util.ArrayList <> () ; int rowCount = rowCount () ; for ( int position = 0 ; position < length ; position ++ ) { int currentRow = row + position ; if ( currentRow > rowCount ) { break; } T node = grid [ currentRow ] [ column ] ; nodes . add ( node ) ; } return nodes ; } <s> Fixed off by one errors on comparisons that try to constrain by row and column count when we walk the grid
bug_after_refactoring: if ( vfasafpfinwyklsllzox > zdztqxelmoinxzfyjwmz ) { break; } <s> private java.util.List < T > down ( int row , int column , int length ) { java.util.List < T > nodes = new java.util.ArrayList <> () ; int rowCount = rowCount () ; for ( int position = 0 ; position < length ; position ++ ) { int currentRow = row + position ; if ( vfasafpfinwyklsllzox > zdztqxelmoinxzfyjwmz ) { break; } T node = grid [ currentRow ] [ column ] ; nodes . add ( node ) ; } return nodes ; } <s> Fixed off by one errors on comparisons that try to constrain by row and column count when we walk the grid
fix_before_refactoring: if ( currentRow >= rowCount ) { break; }
fix_after_refactoring: if ( vfasafpfinwyklsllzox >= zdztqxelmoinxzfyjwmz ) { break; }
√ fix_prediction_before: if ( currentRow >= rowCount ) { break; }
× fix_prediction_after: if ( ( vfasafpfinwyklsllzox > zdztqxelmoinxzfyjwmz ) || ( row < column ) ) { break; }

line_index: 286
bug_before_refactoring: return ( ( this . height ) - r ) - 1 ; <s> private int columnHeight ( int column ) { int r = 0 ; for ( ; ( r < ( this . height ) ) && ( ( this . grid [ column ] [ r ] . isEmpty () ) || ( this . grid [ column ] [ r ] . isShape () ) ) ; r ++ ) ; return ( ( this . height ) - r ) - 1 ; } <s> (v48) New improved algorithm with wells counting  -fixed error in column counting that made it return negative numbers -introduced well counting -changed weight values
bug_after_refactoring: return ( ( this . height ) - bvcotezooljqxxxivqix ) - 1 ; <s> private int columnHeight ( int column ) { int r = 0 ; for ( ; ( r < ( this . height ) ) && ( ( this . grid [ column ] [ r ] . isEmpty () ) || ( this . grid [ column ] [ r ] . isShape () ) ) ; r ++ ) ; return ( ( this . height ) - bvcotezooljqxxxivqix ) - 1 ; } <s> (v48) New improved algorithm with wells counting  -fixed error in column counting that made it return negative numbers -introduced well counting -changed weight values
fix_before_refactoring: return ( this . height ) - r ;
fix_after_refactoring: return ( this . height ) - bvcotezooljqxxxivqix ;
√ fix_prediction_before: return ( this . height ) - r ;
× fix_prediction_after: return ( ( this . height ) - bvcotezooljqxxxivqix ) >= 0 ;

line_index: 293
bug_before_refactoring: if ( index != ( - 1 ) ) { long time = ( ( long ) ( ( s . getTime () . getMillis () ) * ( org.cook_e.data.TimeLearner.weightList . get ( index ) . timeWeight ) ) ) ; return new org.joda.time.Duration ( time ) ; } <s> public org.joda.time.Duration getEstimatedTime ( @ android.support.annotation.NonNull org.cook_e.data.Step s ) { org.cook_e.data.Objects . requireNonNull ( s , "step must not be null" ) ; int index = searchStep ( s . hashCode () ) ; if ( index != ( - 1 ) ) { long time = ( ( long ) ( ( s . getTime () . getMillis () ) * ( org.cook_e.data.TimeLearner.weightList . get ( index ) . timeWeight ) ) ) ; return new org.joda.time.Duration ( time ) ; } return s . getTime () . toDuration () ; } <s> Bug fix
bug_after_refactoring: if ( flpvbfuxwwzwcwtxjsxg != ( - 1 ) ) { long orzjuemixeuffpugybll = ( ( long ) ( ( s . getTime () . getMillis () ) * ( org.cook_e.data.TimeLearner.weightList . get ( flpvbfuxwwzwcwtxjsxg ) . timeWeight ) ) ) ; return new org.joda.orzjuemixeuffpugybll.Duration ( orzjuemixeuffpugybll ) ; } <s> public org.joda.time.Duration getEstimatedTime ( @ android.support.annotation.NonNull org.cook_e.data.Step s ) { org.cook_e.data.Objects . requireNonNull ( s , "step must not be null" ) ; int index = searchStep ( s . hashCode () ) ; if ( flpvbfuxwwzwcwtxjsxg != ( - 1 ) ) { long orzjuemixeuffpugybll = ( ( long ) ( ( s . getTime () . getMillis () ) * ( org.cook_e.data.TimeLearner.weightList . get ( flpvbfuxwwzwcwtxjsxg ) . timeWeight ) ) ) ; return new org.joda.orzjuemixeuffpugybll.Duration ( orzjuemixeuffpugybll ) ; } return s . getTime () . toDuration () ; } <s> Bug fix
fix_before_refactoring: if ( index >= 0 ) { long time = ( ( long ) ( ( s . getTime () . getMillis () ) * ( org.cook_e.data.TimeLearner.weightList . get ( index ) . timeWeight ) ) ) ; return new org.joda.time.Duration ( time ) ; }
fix_after_refactoring: if ( flpvbfuxwwzwcwtxjsxg >= 0 ) { long orzjuemixeuffpugybll = ( ( long ) ( ( s . getTime () . getMillis () ) * ( org.cook_e.data.TimeLearner.weightList . get ( flpvbfuxwwzwcwtxjsxg ) . timeWeight ) ) ) ; return new org.joda.orzjuemixeuffpugybll.Duration ( orzjuemixeuffpugybll ) ; }
√ fix_prediction_before: if ( index >= 0 ) { long time = ( ( long ) ( ( s . getTime () . getMillis () ) * ( org.cook_e.data.TimeLearner.weightList . get ( index ) . timeWeight ) ) ) ; return new org.joda.time.Duration ( time ) ; }
× fix_prediction_after: if ( flpvbfuxwwzwcwtxreactg != ( - 1 ) ) { long orzjuemixeuffpugybll = ( ( long ) ( ( s . getTime () . getMillis () ) * ( org.cook_e.data.TimeLearner.weightList . get ( flpvbfuxwwzwcwtxreactg ) . timeWeight ) ) ) ; return new org.joda.orzjuemixeuffpugybll.Duration ( orzjuemixeuffpugybll ) ; } else { return null ; }

line_index: 301
bug_before_refactoring: s += str . charAt ( str . charAt ( ( ( len - 1 ) - i ) ) ) <s> private java.lang.String _revert ( java.lang.String str ) { java.lang.String s = "" ; int len = str . length () ; for ( int i = 0 ; i < len ; i ++ ) { s += str . charAt ( str . charAt ( ( ( len - 1 ) - i ) ) ) ; } return s ; } <s> fix response message type issue
bug_after_refactoring: s += str . charAt ( str . charAt ( ( ( zqinivkegxczrnnesmlu - 1 ) - i ) ) ) <s> private java.lang.String _revert ( java.lang.String str ) { java.lang.String s = "" ; int len = str . length () ; for ( int i = 0 ; i < len ; i ++ ) { s += str . charAt ( str . charAt ( ( ( zqinivkegxczrnnesmlu - 1 ) - i ) ) ) ; } return s ; } <s> fix response message type issue
fix_before_refactoring: s += str . charAt ( ( ( len - 1 ) - i ) )
fix_after_refactoring: s += str . charAt ( ( ( zqinivkegxczrnnesmlu - 1 ) - i ) )
√ fix_prediction_before: s += str . charAt ( ( ( len - 1 ) - i ) )
× fix_prediction_after: s += ( str . charAt ( ( ( zqinivkegxczysicsesmlu - 1 ) - i ) ) ) + "\n"

line_index: 317
bug_before_refactoring: { if ( ( yourField . at ( pos ) ) == '~' ) { return "missed!\n" ; } java.lang.String hitstr = "" ; boolean sunk = false ; hitstr = yourField . addHit ( pos ) ; if ( hitstr . contains ( "sunk" ) ) ( this . shipsDestroyed ) ++ ; return hitstr ; } <s> public java.lang.String mark ( int pos ) { if ( ( yourField . at ( pos ) ) == '~' ) { return "missed!\n" ; } java.lang.String hitstr = "" ; boolean sunk = false ; hitstr = yourField . addHit ( pos ) ; if ( hitstr . contains ( "sunk" ) ) ( this . shipsDestroyed ) ++ ; return hitstr ; } <s> More major fixes  Fixed AI ship placement algorithm Fixed ship placement error checking Improved board visuals Improved code readability Removed unused imports
bug_after_refactoring: { if ( ( yourField . at ( pos ) ) == '~' ) { return "missed!\n" ; } java.lang.String hitstr = "" ; boolean wkrvyijpdzterrnxvsto = false ; hitstr = yourField . addHit ( pos ) ; if ( hitstr . contains ( "wkrvyijpdzterrnxvsto" ) ) ( this . shipsDestroyed ) ++ ; return hitstr ; } <s> public java.lang.String mark ( int pos ) { if ( ( yourField . at ( pos ) ) == '~' ) { return "missed!\n" ; } java.lang.String hitstr = "" ; boolean wkrvyijpdzterrnxvsto = false ; hitstr = yourField . addHit ( pos ) ; if ( hitstr . contains ( "wkrvyijpdzterrnxvsto" ) ) ( this . shipsDestroyed ) ++ ; return hitstr ; } <s> More major fixes  Fixed AI ship placement algorithm Fixed ship placement error checking Improved board visuals Improved code readability Removed unused imports
fix_before_refactoring: { if ( ( yourField . at ( pos ) ) == '~' ) { return "missed!\n" ; } java.lang.String hitstr = "" ; hitstr = yourField . addHit ( pos ) ; if ( hitstr . contains ( "sunk" ) ) ( this . shipsDestroyed ) ++ ; return hitstr ; }
fix_after_refactoring: { if ( ( yourField . at ( pos ) ) == '~' ) { return "missed!\n" ; } java.lang.String hitstr = "" ; hitstr = yourField . addHit ( pos ) ; if ( hitstr . contains ( "wkrvyijpdzterrnxvsto" ) ) ( this . shipsDestroyed ) ++ ; return hitstr ; }
√ fix_prediction_before: { if ( ( yourField . at ( pos ) ) == '~' ) { return "missed!\n" ; } java.lang.String hitstr = "" ; hitstr = yourField . addHit ( pos ) ; if ( hitstr . contains ( "sunk" ) ) ( this . shipsDestroyed ) ++ ; return hitstr ; }
× fix_prediction_after: { if ( ( yourField . at ( pos ) ) == '~' ) { return "missed!\n" ; } java.lang.String hitstr = "" ; boolean wkrvyijpdzterrnxvsto = false ; hitstr = yourField . addHit ( pos ) ; if ( hitstr != null ) { if ( hitstr . contains ( "wkrvyijpdzterrnxvsto" ) ) ( this . shipsDestroyed ) ++ ; return hitstr ; } return "" ; }

line_index: 337
bug_before_refactoring: { retString += ( ( ( "" + i ) + ". " ) + ( d . toString () ) ) + "\n" ; } <s> public java.lang.String toString () { java.lang.String retString = "" ; int i = 1 ; for ( Destination d : this ) { retString += ( ( ( "" + i ) + ". " ) + ( d . toString () ) ) + "\n" ; } return retString ; } <s> fixed step number bug
bug_after_refactoring: { retString += ( ( ( "" + ecnjgvpknuhdlwjsegva ) + ". " ) + ( d . toString () ) ) + "\n" ; } <s> public java.lang.String toString () { java.lang.String retString = "" ; int i = 1 ; for ( Destination d : this ) { retString += ( ( ( "" + ecnjgvpknuhdlwjsegva ) + ". " ) + ( d . toString () ) ) + "\n" ; } return retString ; } <s> fixed step number bug
fix_before_refactoring: { retString += ( ( ( "" + i ) + ". " ) + ( d . toString () ) ) + "\n" ; i ++ ; }
fix_after_refactoring: { retString += ( ( ( "" + ecnjgvpknuhdlwjsegva ) + ". " ) + ( d . toString () ) ) + "\n" ; ecnjgvpknuhdlwjsegva ++ ; }
√ fix_prediction_before: { retString += ( ( ( "" + i ) + ". " ) + ( d . toString () ) ) + "\n" ; i ++ ; }
× fix_prediction_after: { retString += ( ( ( "" + ecnjgvpknuhdlwjsegva ) + ". " ) + ( d . toString () ) ) + "\n" ; i ++ ; }

line_index: 364
bug_before_refactoring: { int numTimesCalled = 0 ; if ( ( event . getError () ) != null ) { throw new java.lang.RuntimeException ( event . getError () ) ; } if ( ( event . getRows () . getCount () ) == 2 ) { countDownLatch . countDown () ; } } <s> @ java.lang.Override public void changed ( com.couchbase.lite.LiveQuery.ChangeEvent event ) { int numTimesCalled = 0 ; if ( ( event . getError () ) != null ) { throw new java.lang.RuntimeException ( event . getError () ) ; } if ( ( event . getRows () . getCount () ) == 2 ) { countDownLatch . countDown () ; } } <s> Merge pull request #868 from couchbase/feature/issue_863_step2  Fixed #863 Update unit test for https://github.com/couchbase/couchbase-lite-java…
bug_after_refactoring: { int sbgrtubvzeyidukcswvd = 0 ; if ( ( event . getError () ) != null ) { throw new java.lang.RuntimeException ( event . getError () ) ; } if ( ( event . getRows () . getCount () ) == 2 ) { countDownLatch . countDown () ; } } <s> @ java.lang.Override public void changed ( com.couchbase.lite.LiveQuery.ChangeEvent event ) { int sbgrtubvzeyidukcswvd = 0 ; if ( ( event . getError () ) != null ) { throw new java.lang.RuntimeException ( event . getError () ) ; } if ( ( event . getRows () . getCount () ) == 2 ) { countDownLatch . countDown () ; } } <s> Merge pull request #868 from couchbase/feature/issue_863_step2  Fixed #863 Update unit test for https://github.com/couchbase/couchbase-lite-java…
fix_before_refactoring: { if ( ( event . getError () ) != null ) { throw new java.lang.RuntimeException ( event . getError () ) ; } if ( ( event . getRows () . getCount () ) == 2 ) { countDownLatch . countDown () ; } }
fix_after_refactoring: { if ( ( event . getError () ) != null ) { throw new java.lang.RuntimeException ( event . getError () ) ; } if ( ( event . getRows () . getCount () ) == 2 ) { countDownLatch . countDown () ; } }
√ fix_prediction_before: { if ( ( event . getError () ) != null ) { throw new java.lang.RuntimeException ( event . getError () ) ; } if ( ( event . getRows () . getCount () ) == 2 ) { countDownLatch . countDown () ; } }
× fix_prediction_after: { int sbgrtubvzeyidukcswvd = 0 ; if ( ( event . getError () ) != null ) { throw new java.lang.RuntimeException ( event . getError () ) ; } if ( ( event . getRows () . getCount () ) == 2 ) { countDownLatch . countDown () ; } }

line_index: 376
bug_before_refactoring: { a . hit ( damage ) ; checkActor ( a ) ; } <s> private void handleHit ( java.lang.Package p ) { int damage = ( ( java.lang.Integer ) ( p . getPayload () ) ) ; int id = java.lang.Integer . parseInt ( p . getExtra () ) ; java.lang.System.out . println ( ( ( id + "hit " ) + ( java.lang.Math . random () ) ) ) ; for ( Actors.Actor a : actorQueue ) { if ( ( a . getID () ) == id ) { a . hit ( damage ) ; checkActor ( a ) ; } } } <s> I think i fixed the slow problem... for now  Refactored server mailroom to call handleMessages only when necessary.. gonna change that back probs.  Oh and god i forgot to commit this... I also moved checking logic to the engine and smoothed out some extra comments and todo stuff
bug_after_refactoring: { a . hit ( guuiwnbgnnjjmlugtmur ) ; checkActor ( a ) ; } <s> private void handleHit ( java.lang.Package p ) { int damage = ( ( java.lang.Integer ) ( p . getPayload () ) ) ; int id = java.lang.Integer . parseInt ( p . getExtra () ) ; java.lang.System.out . println ( ( ( id + "hit " ) + ( java.lang.Math . random () ) ) ) ; for ( Actors.Actor a : actorQueue ) { if ( ( a . getID () ) == id ) { a . hit ( guuiwnbgnnjjmlugtmur ) ; checkActor ( a ) ; } } } <s> I think i fixed the slow problem... for now  Refactored server mailroom to call handleMessages only when necessary.. gonna change that back probs.  Oh and god i forgot to commit this... I also moved checking logic to the engine and smoothed out some extra comments and todo stuff
fix_before_refactoring: { a . hit ( damage ) ; }
fix_after_refactoring: { a . hit ( guuiwnbgnnjjmlugtmur ) ; }
√ fix_prediction_before: { a . hit ( damage ) ; }
× fix_prediction_after: { a . hit () ; checkActor ( a ) ; break; }

line_index: 380
bug_before_refactoring: index = 0 <s> public java.lang.String getStringTodoList () { java.lang.String result = "\nItems to do: \n" ; int index = 0 ; for ( TodoItem item : this . itemList ) { result += java.lang.String . format ( "%d. " , index ) ; if ( item . getIsDone () ) { result += "[x] " ; } result += java.lang.String . format ( "%s%n" , item . getName () ) ; index ++ ; } return result ; } <s> Fix visual bugs
bug_after_refactoring: kmzixwoyfmlbfykiozcd = 0 <s> public java.lang.String getStringTodoList () { java.lang.String result = "\nItems to do: \n" ; int kmzixwoyfmlbfykiozcd = 0 ; for ( TodoItem item : this . itemList ) { result += java.lang.String . format ( "%d. " , index ) ; if ( item . getIsDone () ) { result += "[x] " ; } result += java.lang.String . format ( "%s%n" , item . getName () ) ; index ++ ; } return result ; } <s> Fix visual bugs
fix_before_refactoring: index = 1
fix_after_refactoring: kmzixwoyfmlbfykiozcd = 1
√ fix_prediction_before: index = 1
× fix_prediction_after: kmzixwoyfmlbfykiozcd = - 1

line_index: 408
bug_before_refactoring: { digilib.image.ImageJobDescription.logger . debug ( "get_scaleQual()" ) ; int qual = dlConfig . getAsInt ( "default-quality" ) ; if ( hasOption ( "q0" ) ) qual = 0 ; else if ( hasOption ( "q1" ) ) qual = 1 ; else if ( hasOption ( "q2" ) ) qual = 2 ; return qual ; } <s> public int getScaleQual () { digilib.image.ImageJobDescription.logger . debug ( "get_scaleQual()" ) ; int qual = dlConfig . getAsInt ( "default-quality" ) ; if ( hasOption ( "q0" ) ) qual = 0 ; else if ( hasOption ( "q1" ) ) qual = 1 ; else if ( hasOption ( "q2" ) ) qual = 2 ; return qual ; } <s> fixed black-last-pixel bug by rounding up scale factor in ImageLoaderDocuImage.scale(). added comments and formatting.  --HG-- branch : new_scaling
bug_after_refactoring: { digilib.image.ImageJobDescription.logger . debug ( "get_scaleQual()" ) ; int gvzibkulivqryamzdxzm = dlConfig . getAsInt ( "default-quality" ) ; if ( hasOption ( "q0" ) ) gvzibkulivqryamzdxzm = 0 ; else if ( hasOption ( "q1" ) ) gvzibkulivqryamzdxzm = 1 ; else if ( hasOption ( "q2" ) ) gvzibkulivqryamzdxzm = 2 ; return gvzibkulivqryamzdxzm ; } <s> public int getScaleQual () { digilib.image.ImageJobDescription.logger . debug ( "get_scaleQual()" ) ; int gvzibkulivqryamzdxzm = dlConfig . getAsInt ( "default-quality" ) ; if ( hasOption ( "q0" ) ) gvzibkulivqryamzdxzm = 0 ; else if ( hasOption ( "q1" ) ) gvzibkulivqryamzdxzm = 1 ; else if ( hasOption ( "q2" ) ) gvzibkulivqryamzdxzm = 2 ; return gvzibkulivqryamzdxzm ; } <s> fixed black-last-pixel bug by rounding up scale factor in ImageLoaderDocuImage.scale(). added comments and formatting.  --HG-- branch : new_scaling
fix_before_refactoring: { int qual = dlConfig . getAsInt ( "default-quality" ) ; if ( hasOption ( "q0" ) ) qual = 0 ; else if ( hasOption ( "q1" ) ) qual = 1 ; else if ( hasOption ( "q2" ) ) qual = 2 ; return qual ; }
fix_after_refactoring: { int gvzibkulivqryamzdxzm = dlConfig . getAsInt ( "default-quality" ) ; if ( hasOption ( "q0" ) ) gvzibkulivqryamzdxzm = 0 ; else if ( hasOption ( "q1" ) ) gvzibkulivqryamzdxzm = 1 ; else if ( hasOption ( "q2" ) ) gvzibkulivqryamzdxzm = 2 ; return gvzibkulivqryamzdxzm ; }
√ fix_prediction_before: { int qual = dlConfig . getAsInt ( "default-quality" ) ; if ( hasOption ( "q0" ) ) qual = 0 ; else if ( hasOption ( "q1" ) ) qual = 1 ; else if ( hasOption ( "q2" ) ) qual = 2 ; return qual ; }
× fix_prediction_after: { digilib.image.ImageJobDescription.logger . debug ( "get_scaleQual()" ) ; int gvzibkulivqryamzdxzm = dlConfig . getAsInt ( "default-quality" ) ; if ( hasOption ( "q0" ) ) gvzibkulivqryamzdxzm = 0 ; else if ( hasOption ( "q1" ) ) gvzibkulivqryamzdxzm = 1 ; else if ( hasOption ( "q2" ) ) gvzibkulivqryamzdxzm = 2 ; else gvzibkulivqryamzdxzm = 3 ; return gvzibkulivqryamzdxzm ; }

line_index: 430
bug_before_refactoring: if ( ( o instanceof java.lang.Integer ) || ( o instanceof java.lang.Integer ) ) { java.lang.Number n = ( ( java.lang.Number ) ( o ) ) ; int index = n . intValue () ; return ( ( index > 0 ) && ( index < ( selectedIndices . length () ) ) ) && ( selectedIndices . get ( index ) ) ; } <s> @ java.lang.Override public boolean contains ( java.lang.Object o ) { if ( ( o instanceof java.lang.Integer ) || ( o instanceof java.lang.Integer ) ) { java.lang.Number n = ( ( java.lang.Number ) ( o ) ) ; int index = n . intValue () ; return ( ( index > 0 ) && ( index < ( selectedIndices . length () ) ) ) && ( selectedIndices . get ( index ) ) ; } return false ; } <s> Fixing issue in MultipleSelectionModelBase where a boolean test was being duplicated needlessly.
bug_after_refactoring: if ( ( o instanceof java.lang.Integer ) || ( o instanceof java.lang.Integer ) ) { java.lang.Number n = ( ( java.lang.Number ) ( o ) ) ; int dfzvxrnpvdkecukyluxp = n . intValue () ; return ( ( dfzvxrnpvdkecukyluxp > 0 ) && ( dfzvxrnpvdkecukyluxp < ( selectedIndices . length () ) ) ) && ( selectedIndices . get ( dfzvxrnpvdkecukyluxp ) ) ; } <s> @ java.lang.Override public boolean contains ( java.lang.Object o ) { if ( ( o instanceof java.lang.Integer ) || ( o instanceof java.lang.Integer ) ) { java.lang.Number n = ( ( java.lang.Number ) ( o ) ) ; int dfzvxrnpvdkecukyluxp = n . intValue () ; return ( ( dfzvxrnpvdkecukyluxp > 0 ) && ( dfzvxrnpvdkecukyluxp < ( selectedIndices . length () ) ) ) && ( selectedIndices . get ( dfzvxrnpvdkecukyluxp ) ) ; } return false ; } <s> Fixing issue in MultipleSelectionModelBase where a boolean test was being duplicated needlessly.
fix_before_refactoring: if ( o instanceof java.lang.Number ) { java.lang.Number n = ( ( java.lang.Number ) ( o ) ) ; int index = n . intValue () ; return ( ( index > 0 ) && ( index < ( selectedIndices . length () ) ) ) && ( selectedIndices . get ( index ) ) ; }
fix_after_refactoring: if ( o instanceof java.lang.Number ) { java.lang.Number n = ( ( java.lang.Number ) ( o ) ) ; int dfzvxrnpvdkecukyluxp = n . intValue () ; return ( ( dfzvxrnpvdkecukyluxp > 0 ) && ( dfzvxrnpvdkecukyluxp < ( selectedIndices . length () ) ) ) && ( selectedIndices . get ( dfzvxrnpvdkecukyluxp ) ) ; }
√ fix_prediction_before: if ( o instanceof java.lang.Number ) { java.lang.Number n = ( ( java.lang.Number ) ( o ) ) ; int index = n . intValue () ; return ( ( index > 0 ) && ( index < ( selectedIndices . length () ) ) ) && ( selectedIndices . get ( index ) ) ; }
× fix_prediction_after: if ( o instanceof java.lang.Number ) { java.lang.Number n = ( ( java.lang.Number ) ( o ) ) ; return ( ( dfzvxrnpvdkecukyluxp > 0 ) && ( dfzvxrnpvdkecukyluxp < ( selectedIndices . length () ) ) ) && ( selectedIndices . get ( dfzvxrnpvdkecukyluxp ) ) ; }

line_index: 441
bug_before_refactoring: getSlotFromIndex ( index ) <s> @ java.lang.Override public net.minecraft.item.ItemStack insertItem ( int slot , net.minecraft.item.ItemStack stack , boolean simulate ) { int index = getIndexForSlot ( slot ) ; net.minecraftforge.items.IItemHandlerModifiable handler = getHandlerFromIndex ( index ) ; slot = getSlotFromIndex ( index ) ; return handler . insertItem ( slot , stack , simulate ) ; } <s> Merge pull request #2539 from bonii-xx/bugfix  Fix CombinedInvWrapper accessing incorrect slots
bug_after_refactoring: getSlotFromIndex ( ysgljyuatzqmlavwfeco ) <s> @ java.lang.Override public net.minecraft.item.ItemStack insertItem ( int slot , net.minecraft.item.ItemStack stack , boolean simulate ) { int index = getIndexForSlot ( slot ) ; net.minecraftforge.items.IItemHandlerModifiable handler = getHandlerFromIndex ( index ) ; slot = getSlotFromIndex ( ysgljyuatzqmlavwfeco ) ; return handler . insertItem ( slot , stack , simulate ) ; } <s> Merge pull request #2539 from bonii-xx/bugfix  Fix CombinedInvWrapper accessing incorrect slots
fix_before_refactoring: getSlotFromIndex ( slot , index )
fix_after_refactoring: getSlotFromIndex ( slot , ysgljyuatzqmlavwfeco )
√ fix_prediction_before: getSlotFromIndex ( slot , index )
× fix_prediction_after: getSlotFromIndex ( slot )

line_index: 449
bug_before_refactoring: new android.widget.SimpleCursorAdapter ( activity . getApplicationContext () , themed_item , cursor , dataColumns , viewIDs ) <s> private android.widget.SimpleCursorAdapter getThemedAdapter ( android.database.Cursor cursor ) { java.lang.String [] dataColumns = new java.lang.String [] { NotePad.Notes.COLUMN_NAME_TITLE , NotePad.Notes.COLUMN_NAME_MODIFICATION_DATE } ; int [] viewIDs = new int [] { R.id.itemTitle , R.id.itemDate } ; int themed_item ; if ( FragmentLayout.lightTheme ) themed_item = R.layout.noteslist_item_light ; else themed_item = R.layout.noteslist_item_dark ; android.widget.SimpleCursorAdapter adapter = new android.widget.SimpleCursorAdapter ( activity . getApplicationContext () , themed_item , cursor , dataColumns , viewIDs ) ; return adapter ; } <s> List item theme bug fixed. Never use getApplicationContext()!!!!!
bug_after_refactoring: new android.widget.SimpleCursorAdapter ( activity . getApplicationContext () , zxrgtojvmsjxueofigbl , cursor , dataColumns , mqxtyajkktmcnyojyazk ) <s> private android.widget.SimpleCursorAdapter getThemedAdapter ( android.database.Cursor cursor ) { java.lang.String [] dataColumns = new java.lang.String [] { NotePad.Notes.COLUMN_NAME_TITLE , NotePad.Notes.COLUMN_NAME_MODIFICATION_DATE } ; int [] viewIDs = new int [] { R.id.itemTitle , R.id.itemDate } ; int themed_item ; if ( FragmentLayout.lightTheme ) themed_item = R.layout.noteslist_item_light ; else themed_item = R.layout.noteslist_item_dark ; android.widget.SimpleCursorAdapter adapter = new android.widget.SimpleCursorAdapter ( activity . getApplicationContext () , zxrgtojvmsjxueofigbl , cursor , dataColumns , mqxtyajkktmcnyojyazk ) ; return adapter ; } <s> List item theme bug fixed. Never use getApplicationContext()!!!!!
fix_before_refactoring: new android.widget.SimpleCursorAdapter ( activity , themed_item , cursor , dataColumns , viewIDs )
fix_after_refactoring: new android.widget.SimpleCursorAdapter ( activity , zxrgtojvmsjxueofigbl , cursor , dataColumns , mqxtyajkktmcnyojyazk )
√ fix_prediction_before: new android.widget.SimpleCursorAdapter ( activity , themed_item , cursor , dataColumns , viewIDs )
× fix_prediction_after: new android.widget.SimpleCursorAdapter ( activity . getApplicationContext () , zxrgtojvmsjxueofigbl , cursor , dataColumns )

line_index: 460
bug_before_refactoring: { java.lang.System.out . println ( "aa0" ) ; double [] gen = new double [ xp.length ] ; double [] gradient = new double [ coeffs.length ] ; double [] diffY = new double [ xp.length ] ; double sumDiff = calcGradient ( coeffs , gen , gradient , diffY ) ; java.lang.System.out . println ( ( "poly coeffs=" + ( java.util.Arrays . toString ( coeffs ) ) ) ) ; java.lang.System.out . println ( ( " diff=" + sumDiff ) ) ; return sumDiff ; } <s> @ java.lang.Override public double f ( double [] coeffs ) { java.lang.System.out . println ( "aa0" ) ; double [] gen = new double [ xp.length ] ; double [] gradient = new double [ coeffs.length ] ; double [] diffY = new double [ xp.length ] ; double sumDiff = calcGradient ( coeffs , gen , gradient , diffY ) ; java.lang.System.out . println ( ( "poly coeffs=" + ( java.util.Arrays . toString ( coeffs ) ) ) ) ; java.lang.System.out . println ( ( "  diff=" + sumDiff ) ) ; return sumDiff ; } <s> bug fix to newly ported c++ LBFGS
bug_after_refactoring: { java.lang.System.out . println ( "aa0" ) ; double [] hkugyejefvfcuynmvmow = new double [ xp.length ] ; double [] sncukkvwvlcdcpaklleb = new double [ coeffs.length ] ; double [] kaxqpktsbcsrkfxcpihc = new double [ xp.length ] ; double jhkyagfzaznmckdtmnal = calcGradient ( coeffs , hkugyejefvfcuynmvmow , sncukkvwvlcdcpaklleb , kaxqpktsbcsrkfxcpihc ) ; java.lang.System.out . println ( ( "poly coeffs=" + ( java.util.Arrays . toString ( coeffs ) ) ) ) ; java.lang.System.out . println ( ( " diff=" + jhkyagfzaznmckdtmnal ) ) ; return jhkyagfzaznmckdtmnal ; } <s> @ java.lang.Override public double f ( double [] coeffs ) { java.lang.System.out . println ( "aa0" ) ; double [] gen = new double [ xp.length ] ; double [] gradient = new double [ coeffs.length ] ; double [] diffY = new double [ xp.length ] ; double sumDiff = calcGradient ( coeffs , gen , gradient , diffY ) ; java.lang.System.out . println ( ( "poly coeffs=" + ( java.util.Arrays . toString ( coeffs ) ) ) ) ; java.lang.System.out . println ( ( "  diff=" + sumDiff ) ) ; return sumDiff ; } <s> bug fix to newly ported c++ LBFGS
fix_before_refactoring: { double [] gen = new double [ xp.length ] ; double [] gradient = new double [ coeffs.length ] ; double [] diffY = new double [ xp.length ] ; double sumDiff = calcGradient ( coeffs , gen , gradient , diffY ) ; return sumDiff ; }
fix_after_refactoring: { double [] hkugyejefvfcuynmvmow = new double [ xp.length ] ; double [] sncukkvwvlcdcpaklleb = new double [ coeffs.length ] ; double [] kaxqpktsbcsrkfxcpihc = new double [ xp.length ] ; double jhkyagfzaznmckdtmnal = calcGradient ( coeffs , hkugyejefvfcuynmvmow , sncukkvwvlcdcpaklleb , kaxqpktsbcsrkfxcpihc ) ; return jhkyagfzaznmckdtmnal ; }
√ fix_prediction_before: { double [] gen = new double [ xp.length ] ; double [] gradient = new double [ coeffs.length ] ; double [] diffY = new double [ xp.length ] ; double sumDiff = calcGradient ( coeffs , gen , gradient , diffY ) ; return sumDiff ; }
× fix_prediction_after: { double [] hkugyejefvfcuynmvmow = new double [ xp.length ] ; double [] sncukkvwvlcdcpaklleb = new double [ coeffs.length ] ; double [] kaxqpktsb edukfxcpihc = new double [ xp.length ] ; double jhkyagfzaznmckdtmnal = calcGradient ( coeffs , hkugyejefvfcuynmvmow , sncukkvwvlcdcpaklleb , kaxqpktsb edukfxcpihc ) ; return jhkyagfzaznmckdtmnal ; }

line_index: 470
bug_before_refactoring: monthsFromStartOfContract = websays.core.utils.JodaUtils . monthsDifference ( bi.period.contractStart , bi.period.periodEnd ) <s> public websays.accounting.CommissionItem createCommissionItem ( websays.accounting.BilledItem bi ) { double fee = websays.core.utils.CurrencyUtils . toEuros ( bi . getFee () , bi . getCurrency () ) ; int monthsFromStartOfContract = websays.core.utils.JodaUtils . monthsDifference ( bi.period.contractStart , bi.period.periodEnd ) ; fee = computeCommission ( fee , monthsFromStartOfContract ) ; return new websays.accounting.CommissionItem ( commissionnee , fee , this , bi ) ; } <s> fixing monthly schedule billing bug (still commission bug)
bug_after_refactoring: vucvujvtjnearfbpgqtx = websays.core.utils.JodaUtils . monthsDifference ( bi.period.contractStart , bi.period.periodEnd ) <s> public websays.accounting.CommissionItem createCommissionItem ( websays.accounting.BilledItem bi ) { double fee = websays.core.utils.CurrencyUtils . toEuros ( bi . getFee () , bi . getCurrency () ) ; int vucvujvtjnearfbpgqtx = websays.core.utils.JodaUtils . monthsDifference ( bi.period.contractStart , bi.period.periodEnd ) ; fee = computeCommission ( fee , monthsFromStartOfContract ) ; return new websays.accounting.CommissionItem ( commissionnee , fee , this , bi ) ; } <s> fixing monthly schedule billing bug (still commission bug)
fix_before_refactoring: monthsFromStartOfContract = ( websays.core.utils.JodaUtils . monthsDifference ( bi.period.contractStart , bi.period.periodEnd ) ) + 1
fix_after_refactoring: vucvujvtjnearfbpgqtx = ( websays.core.utils.JodaUtils . monthsDifference ( bi.period.contractStart , bi.period.periodEnd ) ) + 1
√ fix_prediction_before: monthsFromStartOfContract = ( websays.core.utils.JodaUtils . monthsDifference ( bi.period.contractStart , bi.period.periodEnd ) ) + 1
× fix_prediction_after: vucvujvtjnearfbpgqtx = websays.core.utils.JodaUtils . monthsDifference ( bi.period.contractStart , bi.period.periodEnd )

line_index: 475
bug_before_refactoring: { return oprationRowNum = x ; } <s> public int getSbOperationRowNum ( java.lang.String operator , java.lang.String opration , int startRow , int endRow , java.util.List < java.util.List < java.lang.String > > data ) { int oprationRowNum = 0 ; for ( int x = startRow ; x <= endRow ; x ++ ) { if ( ( data . get ( x ) . get ( 4 ) . equalsIgnoreCase ( operator ) ) && ( data . get ( x ) . get ( 5 ) . equalsIgnoreCase ( opration ) ) ) { return oprationRowNum = x ; } } return oprationRowNum ; } <s> Fixed many bugs detected by sonar and add fluent wait
bug_after_refactoring: { return jqwvyertdrayemxczjmz = x ; } <s> public int getSbOperationRowNum ( java.lang.String operator , java.lang.String opration , int startRow , int endRow , java.util.List < java.util.List < java.lang.String > > data ) { int oprationRowNum = 0 ; for ( int x = startRow ; x <= endRow ; x ++ ) { if ( ( data . get ( x ) . get ( 4 ) . equalsIgnoreCase ( operator ) ) && ( data . get ( x ) . get ( 5 ) . equalsIgnoreCase ( opration ) ) ) { return jqwvyertdrayemxczjmz = x ; } } return oprationRowNum ; } <s> Fixed many bugs detected by sonar and add fluent wait
fix_before_refactoring: { oprationRowNum = x ; break; }
fix_after_refactoring: { jqwvyertdrayemxczjmz = x ; break; }
√ fix_prediction_before: { oprationRowNum = x ; break; }
× fix_prediction_after: { oprationRowNum = x ; break; }

line_index: 478
bug_before_refactoring: intent . putExtra ( "position" , ( itemPosition + "" ) ) <s> @ java.lang.Override public void onClick ( android.view.View view ) { android.util.Log . d ( "click listener" , "working!" ) ; int itemPosition = getLayoutPosition () ; android.content.Intent intent = new android.content.Intent ( mContext , com.epicodus.a4u2poo.DetailActivity . class ) ; intent . putExtra ( "position" , ( itemPosition + "" ) ) ; intent . putExtra ( "restrooms" , org.parceler.Parcels . wrap ( mRestrooms ) ) ; mContext . startActivity ( intent ) ; } <s> Fixed bug in pager where pager always started at position 0
bug_after_refactoring: intent . putExtra ( "position" , ( doeacwhvpdpbhfiqgfvy + "" ) ) <s> @ java.lang.Override public void onClick ( android.view.View view ) { android.util.Log . d ( "click listener" , "working!" ) ; int itemPosition = getLayoutPosition () ; android.content.Intent intent = new android.content.Intent ( mContext , com.epicodus.a4u2poo.DetailActivity . class ) ; intent . putExtra ( "position" , ( doeacwhvpdpbhfiqgfvy + "" ) ) ; intent . putExtra ( "restrooms" , org.parceler.Parcels . wrap ( mRestrooms ) ) ; mContext . startActivity ( intent ) ; } <s> Fixed bug in pager where pager always started at position 0
fix_before_refactoring: intent . putExtra ( "position" , itemPosition )
fix_after_refactoring: intent . putExtra ( "position" , doeacwhvpdpbhfiqgfvy )
√ fix_prediction_before: intent . putExtra ( "position" , itemPosition )
× fix_prediction_after: intent . putExtra ( "position" , itemPosition )

line_index: 488
bug_before_refactoring: toHexString ( response ) <s> private java.lang.String power ( int slotNumber , int action ) throws java.lang.Exception { byte [] response = new byte [ 0 ] ; try { response = reader . power ( slotNumber , action ) ; } catch ( com.acs.smartcard.ReaderException e ) { throw new java.lang.Exception ( e . getMessage () ) ; } return toHexString ( response ) ; } <s> fix bug
bug_after_refactoring: toHexString ( mvvjbjvwyuuoxgscqvbs ) <s> private java.lang.String power ( int slotNumber , int action ) throws java.lang.Exception { byte [] response = new byte [ 0 ] ; try { response = reader . power ( slotNumber , action ) ; } catch ( com.acs.smartcard.ReaderException e ) { throw new java.lang.Exception ( e . getMessage () ) ; } return toHexString ( mvvjbjvwyuuoxgscqvbs ) ; } <s> fix bug
fix_before_refactoring: toHexString ( response , response.length )
fix_after_refactoring: toHexString ( mvvjbjvwyuuoxgscqvbs , mvvjbjvwyuuoxgscqvbs.length )
√ fix_prediction_before: toHexString ( response , response.length )
× fix_prediction_after: toHexString ( mvvjbjvwyuuoxgscqvbs , response )

line_index: 494
bug_before_refactoring: ( docid > 0 ) <s> @ java.lang.Override protected byte [] getFromStore ( long uid ) throws java.io.IOException { int docid = mapDocId ( uid ) ; if ( docid < 0 ) return null ; org.apache.lucene.index.IndexReader reader = null ; if ( ( _currentReaderData ) != null ) { reader = _currentReaderData.reader ; } if ( ( docid > 0 ) && ( reader != null ) ) { org.apache.lucene.document.Document doc = reader . document ( docid ) ; if ( doc != null ) { return doc . getBinaryValue ( _field ) ; } } return null ; } <s> bug fixes and added unit testing for store
bug_after_refactoring: ( ovgogvhjgsikcwiiqght > 0 ) <s> @ java.lang.Override protected byte [] getFromStore ( long uid ) throws java.io.IOException { int docid = mapDocId ( uid ) ; if ( docid < 0 ) return null ; org.apache.lucene.index.IndexReader reader = null ; if ( ( _currentReaderData ) != null ) { reader = _currentReaderData.reader ; } if ( ( ovgogvhjgsikcwiiqght > 0 ) && ( reader != null ) ) { org.apache.lucene.document.Document doc = reader . document ( docid ) ; if ( doc != null ) { return doc . getBinaryValue ( _field ) ; } } return null ; } <s> bug fixes and added unit testing for store
fix_before_refactoring: ( docid >= 0 )
fix_after_refactoring: ( ovgogvhjgsikcwiiqght >= 0 )
√ fix_prediction_before: ( docid >= 0 )
× fix_prediction_after: ( ovgogvhjgsikcwiiqght > 0 )

line_index: 499
bug_before_refactoring: { ret += ( visit ( ctx . small_stmt ( i ) ) ) + "\n" ; } <s> @ java.lang.Override public java.lang.String visitSimple_stmt ( lessa.ExprParser.Simple_stmtContext ctx ) { java.lang.System.out . println ( "simple_stmt -> small_stmt (';' small_stmt)* ';' " ) ; java.lang.String ret = ( visit ( ctx . small_stmt ( 0 ) ) ) + "\n" ; int i = 1 ; while ( ( ctx . small_stmt ( i ) ) != null ) { ret += ( visit ( ctx . small_stmt ( i ) ) ) + "\n" ; } return ret ; } <s> Add import and del statement. Fix infinite while loop bugs...
bug_after_refactoring: { ret += ( visit ( ctx . small_stmt ( ucjekbgwivlybxzenszv ) ) ) + "\n" ; } <s> @ java.lang.Override public java.lang.String visitSimple_stmt ( lessa.ExprParser.Simple_stmtContext ctx ) { java.lang.System.out . println ( "simple_stmt -> small_stmt (';' small_stmt)* ';' " ) ; java.lang.String ret = ( visit ( ctx . small_stmt ( 0 ) ) ) + "\n" ; int i = 1 ; while ( ( ctx . small_stmt ( i ) ) != null ) { ret += ( visit ( ctx . small_stmt ( ucjekbgwivlybxzenszv ) ) ) + "\n" ; } return ret ; } <s> Add import and del statement. Fix infinite while loop bugs...
fix_before_refactoring: { ret += ( visit ( ctx . small_stmt ( i ) ) ) + "\n" ; i ++ ; }
fix_after_refactoring: { ret += ( visit ( ctx . small_stmt ( ucjekbgwivlybxzenszv ) ) ) + "\n" ; ucjekbgwivlybxzenszv ++ ; }
√ fix_prediction_before: { ret += ( visit ( ctx . small_stmt ( i ) ) ) + "\n" ; i ++ ; }
× fix_prediction_after: { ret += visit ( ctx . small_stmt ( ucjekbgwivlybxzenszv ) ) ; i ++ ; }

line_index: 537
bug_before_refactoring: index > 0 ? index : ( questionAdapter . getCount () ) - 1 <s> @ java.lang.Override public void onClick ( android.view.View view ) { switch ( view . getId () ) { case R.id.previous_button : int index = ( questionPager . getCurrentItem () ) - 1 ; questionPager . setCurrentItem ( ( index > 0 ? index : ( questionAdapter . getCount () ) - 1 ) ) ; break; case R.id.next_button : questionPager . setCurrentItem ( ( ( ( questionPager . getCurrentItem () ) + 1 ) % ( questionAdapter . getCount () ) ) ) ; break; } } <s> Bugfix TriviaActivity.java
bug_after_refactoring: uoqacpvwwcsaijzjerho > 0 ? uoqacpvwwcsaijzjerho : ( questionAdapter . getCount () ) - 1 <s> @ java.lang.Override public void onClick ( android.view.View view ) { switch ( view . getId () ) { case R.id.previous_button : int index = ( questionPager . getCurrentItem () ) - 1 ; questionPager . setCurrentItem ( ( uoqacpvwwcsaijzjerho > 0 ? uoqacpvwwcsaijzjerho : ( questionAdapter . getCount () ) - 1 ) ) ; break; case R.id.next_button : questionPager . setCurrentItem ( ( ( ( questionPager . getCurrentItem () ) + 1 ) % ( questionAdapter . getCount () ) ) ) ; break; } } <s> Bugfix TriviaActivity.java
fix_before_refactoring: index >= 0 ? index : ( questionAdapter . getCount () ) - 1
fix_after_refactoring: uoqacpvwwcsaijzjerho >= 0 ? uoqacpvwwcsaijzjerho : ( questionAdapter . getCount () ) - 1
√ fix_prediction_before: index >= 0 ? index : ( questionAdapter . getCount () ) - 1
× fix_prediction_after: uoqacpvwwcsaijzjerho > 0 ? ( questionAdapter . getCount () ) - 1 : ( questionAdapter . getCount () ) - 1

line_index: 550
bug_before_refactoring: { double [] modifiedOutputs = new double [ numOutputs ] ; if ( ( numOutputs ) == ( edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.NUM_OUTPUTS_WITH_NO_ACTION ) ) { modifiedOutputs [ NOTHING_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_NOTHING_INDEX ] ; } java.lang.System.out . println ( java.util.Arrays . toString ( outputs ) ) ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.UP_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_UP_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.RIGHT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_RIGHT_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.DOWN_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_DOWN_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.LEFT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_LEFT_INDEX ] ; return modifiedOutputs ; } <s> public double [] mapSubstrateOutputsToStandardOutputs ( double [] outputs ) { double [] modifiedOutputs = new double [ numOutputs ] ; if ( ( numOutputs ) == ( edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.NUM_OUTPUTS_WITH_NO_ACTION ) ) { modifiedOutputs [ NOTHING_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_NOTHING_INDEX ] ; } java.lang.System.out . println ( java.util.Arrays . toString ( outputs ) ) ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.UP_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_UP_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.RIGHT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_RIGHT_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.DOWN_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_DOWN_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.LEFT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_LEFT_INDEX ] ; return modifiedOutputs ; } <s> finished fixing bugs in hyperNEAT for torus gridWorld  Had an issue with copying and instantiating new networks. Bugs should (hopefully) be fixed
bug_after_refactoring: { double [] tqsqqwfpzeonfultopfm = new double [ numOutputs ] ; if ( ( numOutputs ) == ( edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.NUM_OUTPUTS_WITH_NO_ACTION ) ) { tqsqqwfpzeonfultopfm [ NOTHING_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_NOTHING_INDEX ] ; } java.lang.System.out . println ( java.util.Arrays . toString ( outputs ) ) ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.UP_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_UP_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.RIGHT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_RIGHT_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.DOWN_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_DOWN_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.LEFT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_LEFT_INDEX ] ; return tqsqqwfpzeonfultopfm ; } <s> public double [] mapSubstrateOutputsToStandardOutputs ( double [] outputs ) { double [] tqsqqwfpzeonfultopfm = new double [ numOutputs ] ; if ( ( numOutputs ) == ( edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.NUM_OUTPUTS_WITH_NO_ACTION ) ) { tqsqqwfpzeonfultopfm [ NOTHING_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_NOTHING_INDEX ] ; } java.lang.System.out . println ( java.util.Arrays . toString ( outputs ) ) ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.UP_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_UP_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.RIGHT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_RIGHT_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.DOWN_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_DOWN_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.LEFT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_LEFT_INDEX ] ; return tqsqqwfpzeonfultopfm ; } <s> finished fixing bugs in hyperNEAT for torus gridWorld  Had an issue with copying and instantiating new networks. Bugs should (hopefully) be fixed
fix_before_refactoring: { double [] modifiedOutputs = new double [ numOutputs ] ; if ( ( numOutputs ) == ( edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.NUM_OUTPUTS_WITH_NO_ACTION ) ) { modifiedOutputs [ NOTHING_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_NOTHING_INDEX ] ; } modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.UP_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_UP_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.RIGHT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_RIGHT_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.DOWN_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_DOWN_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.LEFT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_LEFT_INDEX ] ; return modifiedOutputs ; }
fix_after_refactoring: { double [] tqsqqwfpzeonfultopfm = new double [ numOutputs ] ; if ( ( numOutputs ) == ( edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.NUM_OUTPUTS_WITH_NO_ACTION ) ) { tqsqqwfpzeonfultopfm [ NOTHING_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_NOTHING_INDEX ] ; } tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.UP_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_UP_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.RIGHT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_RIGHT_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.DOWN_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_DOWN_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.LEFT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_LEFT_INDEX ] ; return tqsqqwfpzeonfultopfm ; }
√ fix_prediction_before: { double [] modifiedOutputs = new double [ numOutputs ] ; if ( ( numOutputs ) == ( edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.NUM_OUTPUTS_WITH_NO_ACTION ) ) { modifiedOutputs [ NOTHING_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_NOTHING_INDEX ] ; } modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.UP_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_UP_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.RIGHT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_RIGHT_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.DOWN_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_DOWN_INDEX ] ; modifiedOutputs [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.LEFT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_LEFT_INDEX ] ; return modifiedOutputs ; }
× fix_prediction_after: { double [] tqsqqwfpzeonfultopfm = new double [ numOutputs ] ; if ( ( numOutputs ) == ( edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.NUM_OUTPUTS_WITH_NO_ACTION ) ) { tqsqqwfpzeonfultopfm [ NOTHING_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_NOTHING_INDEX ] ; } tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.UP_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_UP_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.RIGHT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_RIGHT_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.DOWN_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.SUBSTRATE_DOWN_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.controllers.TorusPredPreyController.LEFT_INDEX ] = outputs [ edu.utexas.cs.nn.tasks.gridTorus.HyperNEATNNTorusPredPreyController.LEFT_INDEX ] ; tqsqqwfpzeonfultopfm [ edu.utexas.cs.nn.gridTorus.HyperNEATNNTorusPred

line_index: 560
bug_before_refactoring: ( prev - 1 ) <s> private boolean assertContiguous ( gnu.trove.list.TIntList list ) { if ( ( list . size () ) < 2 ) { return true ; } int prev = list . get ( 0 ) ; for ( int i = 1 ; i < ( list . size () ) ; ++ i ) { int v = list . get ( i ) ; if ( v == ( prev - 1 ) ) { prev = v ; continue; } return false ; } return true ; } <s> fixing bugs in new class while writing tests for it
bug_after_refactoring: ( arozqkcphcyyeeoqjnqr - 1 ) <s> private boolean assertContiguous ( gnu.trove.list.TIntList list ) { if ( ( list . size () ) < 2 ) { return true ; } int prev = list . get ( 0 ) ; for ( int i = 1 ; i < ( list . size () ) ; ++ i ) { int v = list . get ( i ) ; if ( v == ( arozqkcphcyyeeoqjnqr - 1 ) ) { prev = v ; continue; } return false ; } return true ; } <s> fixing bugs in new class while writing tests for it
fix_before_refactoring: ( prev + 1 )
fix_after_refactoring: ( arozqkcphcyyeeoqjnqr + 1 )
√ fix_prediction_before: ( prev + 1 )
× fix_prediction_after: ( arozqkcphcyyeeoqjnqr )

line_index: 578
bug_before_refactoring: { boolean signed = false ; format . checkType ( 'h' , false ) ; if ( ( format . getType () ) == 'H' ) { signed = true ; } format . consume () ; return unpackShort ( signed ) ; } <s> public short getShort ( ) throws com.wiredtiger.db.WiredTigerPackingException { boolean signed = false ; format . checkType ( 'h' , false ) ; if ( ( format . getType () ) == 'H' ) { signed = true ; } format . consume () ; return unpackShort ( signed ) ; } <s> Fixed bugs in packing/unpacking bytearrays: we must be aware of 'U' format; when length is provided in format  use it; do padding.  Fixed signed checking for getInt/Long/Short.  Fixed bugs in packing strings: embedded nulls; use length when provided. Logic copied from packing.py.  Added special case encoding for 8256 (to match Python and C).
bug_after_refactoring: { boolean jgupgxdhdqulcnpxnshq = false ; format . checkType ( 'h' , false ) ; if ( ( format . getType () ) == 'H' ) { jgupgxdhdqulcnpxnshq = true ; } format . consume () ; return unpackShort ( jgupgxdhdqulcnpxnshq ) ; } <s> public short getShort ( ) throws com.wiredtiger.db.WiredTigerPackingException { boolean jgupgxdhdqulcnpxnshq = false ; format . checkType ( 'h' , false ) ; if ( ( format . getType () ) == 'H' ) { jgupgxdhdqulcnpxnshq = true ; } format . consume () ; return unpackShort ( jgupgxdhdqulcnpxnshq ) ; } <s> Fixed bugs in packing/unpacking bytearrays: we must be aware of 'U' format; when length is provided in format  use it; do padding.  Fixed signed checking for getInt/Long/Short.  Fixed bugs in packing strings: embedded nulls; use length when provided. Logic copied from packing.py.  Added special case encoding for 8256 (to match Python and C).
fix_before_refactoring: { boolean signed = true ; format . checkType ( 'h' , false ) ; if ( ( format . getType () ) == 'H' ) { signed = false ; } format . consume () ; return unpackShort ( signed ) ; }
fix_after_refactoring: { boolean jgupgxdhdqulcnpxnshq = true ; format . checkType ( 'h' , false ) ; if ( ( format . getType () ) == 'H' ) { jgupgxdhdqulcnpxnshq = false ; } format . consume () ; return unpackShort ( jgupgxdhdqulcnpxnshq ) ; }
√ fix_prediction_before: { boolean signed = true ; format . checkType ( 'h' , false ) ; if ( ( format . getType () ) == 'H' ) { signed = false ; } format . consume () ; return unpackShort ( signed ) ; }
× fix_prediction_after: { boolean jgupgxdhdqulcnpxnshq = false ; if ( ( format . getType () ) == 'h' ) { jgupgxdhdqulcnpxnshq = true ; } format . consume () ; return unpackShort ( jgupgxdhdqulcnpxnshq ) ; }

line_index: 587
bug_before_refactoring: switch ( base ) { case 'A' : intVal = 0 ; break; case 'C' : intVal = 1 ; break; case 'G' : intVal = 2 ; break; case 'T' : intVal = 3 ; break; case 'N' : intVal = 4 ; default: throw new java.lang.IllegalArgumentException ( ( "Invalid character: " + base ) ) ; } <s> public int base2int ( char base ) { int intVal = - 1 ; switch ( base ) { case 'A' : intVal = 0 ; break; case 'C' : intVal = 1 ; break; case 'G' : intVal = 2 ; break; case 'T' : intVal = 3 ; break; case 'N' : intVal = 4 ; default: throw new java.lang.IllegalArgumentException ( ( "Invalid character: " + base ) ) ; } return intVal ; } <s> Fixed minor bugs in WildcardKmerUtils
bug_after_refactoring: switch ( base ) { case 'A' : mistbkdyqjothjgvekvo = 0 ; break; case 'C' : mistbkdyqjothjgvekvo = 1 ; break; case 'G' : mistbkdyqjothjgvekvo = 2 ; break; case 'T' : mistbkdyqjothjgvekvo = 3 ; break; case 'N' : mistbkdyqjothjgvekvo = 4 ; default: throw new java.lang.IllegalArgumentException ( ( "Invalid character: " + base ) ) ; } <s> public int base2int ( char base ) { int intVal = - 1 ; switch ( base ) { case 'A' : mistbkdyqjothjgvekvo = 0 ; break; case 'C' : mistbkdyqjothjgvekvo = 1 ; break; case 'G' : mistbkdyqjothjgvekvo = 2 ; break; case 'T' : mistbkdyqjothjgvekvo = 3 ; break; case 'N' : mistbkdyqjothjgvekvo = 4 ; default: throw new java.lang.IllegalArgumentException ( ( "Invalid character: " + base ) ) ; } return intVal ; } <s> Fixed minor bugs in WildcardKmerUtils
fix_before_refactoring: switch ( base ) { case 'A' : intVal = 0 ; break; case 'C' : intVal = 1 ; break; case 'G' : intVal = 2 ; break; case 'T' : intVal = 3 ; break; case 'N' : intVal = 4 ; break; default: throw new java.lang.IllegalArgumentException ( ( "Invalid character: " + base ) ) ; }
fix_after_refactoring: switch ( base ) { case 'A' : mistbkdyqjothjgvekvo = 0 ; break; case 'C' : mistbkdyqjothjgvekvo = 1 ; break; case 'G' : mistbkdyqjothjgvekvo = 2 ; break; case 'T' : mistbkdyqjothjgvekvo = 3 ; break; case 'N' : mistbkdyqjothjgvekvo = 4 ; break; default: throw new java.lang.IllegalArgumentException ( ( "Invalid character: " + base ) ) ; }
√ fix_prediction_before: switch ( base ) { case 'A' : intVal = 0 ; break; case 'C' : intVal = 1 ; break; case 'G' : intVal = 2 ; break; case 'T' : intVal = 3 ; break; case 'N' : intVal = 4 ; break; default: throw new java.lang.IllegalArgumentException ( ( "Invalid character: " + base ) ) ; }
× fix_prediction_after: switch ( base ) { case 'A' : typobkdyqjothjgvekvo = 0 ; break; case 'C' : typobkdyqjothjgvekvo = 1 ; break; case 'G' : typobkdyqjothjgvekvo = 2 ; break; case 'T' : typobkdyqjothjgvekvo = 3 ; break; case 'N' : typobkdyqjothjgvekvo = 4 ; break; default: throw new java.lang.IllegalArgumentException ( ( "Invalid character: " + base ) ) ; }

line_index: 595
bug_before_refactoring: if ( t > 10000 ) { t -= 10000 ; type ++ ; } <s> @ java.lang.Override public r48.RubyIO targetToBound ( r48.RubyIO target ) { long t = target.fixnumVal ; long type = 0 ; if ( t > 10000 ) { t -= 10000 ; type ++ ; } r48.RubyIO base = new r48.RubyIO () ; base.arrVal = new r48.RubyIO [ 2 ] ; base.type = '[' ; base.arrVal [ 0 ] = new r48.RubyIO () . setFX ( type ) ; base.arrVal [ 1 ] = new r48.RubyIO () . setFX ( t ) ; return base ; } <s> Fix small editing issues with PPP values
bug_after_refactoring: if ( znithxqdopxksvbmcziq > 10000 ) { znithxqdopxksvbmcziq -= 10000 ; gzilnpdfnymammfqxhkm ++ ; } <s> @ java.lang.Override public r48.RubyIO targetToBound ( r48.RubyIO target ) { long t = target.fixnumVal ; long type = 0 ; if ( znithxqdopxksvbmcziq > 10000 ) { znithxqdopxksvbmcziq -= 10000 ; gzilnpdfnymammfqxhkm ++ ; } r48.RubyIO base = new r48.RubyIO () ; base.arrVal = new r48.RubyIO [ 2 ] ; base.type = '[' ; base.arrVal [ 0 ] = new r48.RubyIO () . setFX ( type ) ; base.arrVal [ 1 ] = new r48.RubyIO () . setFX ( t ) ; return base ; } <s> Fix small editing issues with PPP values
fix_before_refactoring: if ( t >= 10000 ) { t -= 10000 ; type ++ ; }
fix_after_refactoring: if ( znithxqdopxksvbmcziq >= 10000 ) { znithxqdopxksvbmcziq -= 10000 ; gzilnpdfnymammfqxhkm ++ ; }
√ fix_prediction_before: if ( t >= 10000 ) { t -= 10000 ; type ++ ; }
× fix_prediction_after: if ( znithxqdopxksvbmcziq > 10000 ) { znithxqdopxksvbmcziq -= 10000 ; gzilnpdfnymammfqxhkm ++ ; } else {}

line_index: 599
bug_before_refactoring: { Common.Message listMsg ; java.lang.String content = "" ; for ( Common.User item : this . usersList ) { int i = 0 ; if ( i == 0 ) { content = item . getUsername () ; } else { content = ( content + " " ) + ( item . getUsername () ) ; } i ++ ; } listMsg = new Common.Message ( content , new Common.User ( "Server" ) , MessageType.DATA ) ; return listMsg ; } <s> public Common.Message toMessage () { Common.Message listMsg ; java.lang.String content = "" ; for ( Common.User item : this . usersList ) { int i = 0 ; if ( i == 0 ) { content = item . getUsername () ; } else { content = ( content + " " ) + ( item . getUsername () ) ; } i ++ ; } listMsg = new Common.Message ( content , new Common.User ( "Server" ) , MessageType.DATA ) ; return listMsg ; } <s> USERS LIST FIX COMMIT  the problem was with the toMessage method where it always made the content contain the newst username because of a counter i variable being initialized with 0 at the start of the loop
bug_after_refactoring: { Common.Message listMsg ; java.lang.String content = "" ; for ( Common.User item : this . usersList ) { int chgzmtkcwizrodqybmhs = 0 ; if ( chgzmtkcwizrodqybmhs == 0 ) { content = item . getUsername () ; } else { content = ( content + " " ) + ( item . getUsername () ) ; } chgzmtkcwizrodqybmhs ++ ; } listMsg = new Common.Message ( content , new Common.User ( "Server" ) , MessageType.DATA ) ; return listMsg ; } <s> public Common.Message toMessage () { Common.Message listMsg ; java.lang.String content = "" ; for ( Common.User item : this . usersList ) { int chgzmtkcwizrodqybmhs = 0 ; if ( chgzmtkcwizrodqybmhs == 0 ) { content = item . getUsername () ; } else { content = ( content + " " ) + ( item . getUsername () ) ; } chgzmtkcwizrodqybmhs ++ ; } listMsg = new Common.Message ( content , new Common.User ( "Server" ) , MessageType.DATA ) ; return listMsg ; } <s> USERS LIST FIX COMMIT  the problem was with the toMessage method where it always made the content contain the newst username because of a counter i variable being initialized with 0 at the start of the loop
fix_before_refactoring: { Common.Message listMsg ; java.lang.String content = "" ; int i = 0 ; for ( Common.User item : this . usersList ) { if ( i == 0 ) { content = item . getUsername () ; } else { content = ( content + " " ) + ( item . getUsername () ) ; } i ++ ; } listMsg = new Common.Message ( content , new Common.User ( "Server" ) , MessageType.DATA ) ; return listMsg ; }
fix_after_refactoring: { Common.Message listMsg ; java.lang.String content = "" ; int chgzmtkcwizrodqybmhs = 0 ; for ( Common.User item : this . usersList ) { if ( chgzmtkcwizrodqybmhs == 0 ) { content = item . getUsername () ; } else { content = ( content + " " ) + ( item . getUsername () ) ; } chgzmtkcwizrodqybmhs ++ ; } listMsg = new Common.Message ( content , new Common.User ( "Server" ) , MessageType.DATA ) ; return listMsg ; }
√ fix_prediction_before: { Common.Message listMsg ; java.lang.String content = "" ; int i = 0 ; for ( Common.User item : this . usersList ) { if ( i == 0 ) { content = item . getUsername () ; } else { content = ( content + " " ) + ( item . getUsername () ) ; } i ++ ; } listMsg = new Common.Message ( content , new Common.User ( "Server" ) , MessageType.DATA ) ; return listMsg ; }
× fix_prediction_after: { Common.Message listMsg ; int chgzmtkcwizrodqybmhs = 0 ; for ( Common.User item : this . usersList ) { if ( chgzmtkcwizrodqybmhs == 0 ) { content = item . getUsername () ; } else { content = ( content + " " ) + ( item . getUsername () ) ; } chgzmtkcwizrodqybmhs ++ ; } listMsg = new Common.Message ( content , new Common.User ( "Server" ) , MessageType.DATA ) ; return listMsg ; }

line_index: 601
bug_before_refactoring: org.junit.Assert . assertEquals ( numberOfSequencesToGenerate , sgenLarger . getTotalSequencesIterated () ) ; <s> @ org.junit.Test public void getTotalSequencesIterated ( ) throws java.lang.Exception { randoop.generation.exhaustive.SequenceGenerator < java.lang.String > sgenLarger = new randoop.generation.exhaustive.SequenceGenerator ( largerSet ) ; long beforeIterateLarger = sgenLarger . getTotalSequencesIterated () . longValue () ; int numberOfSequencesToGenerate = 13 ; for ( int i = 0 ; i < numberOfSequencesToGenerate ; i ++ ) { sgenLarger . next () ; } org.junit.Assert . assertEquals ( 0 , beforeIterateLarger ) ; org.junit.Assert . assertEquals ( numberOfSequencesToGenerate , sgenLarger . getTotalSequencesIterated () ) ; } <s> - Fixed a bug in the generation resumption when the size to be resumed is different from the number of elements in the set.
bug_after_refactoring: org.junit.Assert . assertEquals ( uvgspktqqhnmruqjdqmp , sgenLarger . getTotalSequencesIterated () ) ; <s> @ org.junit.Test public void getTotalSequencesIterated ( ) throws java.lang.Exception { randoop.generation.exhaustive.SequenceGenerator < java.lang.String > sgenLarger = new randoop.generation.exhaustive.SequenceGenerator ( largerSet ) ; long beforeIterateLarger = sgenLarger . getTotalSequencesIterated () . longValue () ; int numberOfSequencesToGenerate = 13 ; for ( int i = 0 ; i < numberOfSequencesToGenerate ; i ++ ) { sgenLarger . next () ; } org.junit.Assert . assertEquals ( 0 , beforeIterateLarger ) ; org.junit.Assert . assertEquals ( uvgspktqqhnmruqjdqmp , sgenLarger . getTotalSequencesIterated () ) ; } <s> - Fixed a bug in the generation resumption when the size to be resumed is different from the number of elements in the set.
fix_before_refactoring: org.junit.Assert . assertEquals ( numberOfSequencesToGenerate , sgenLarger . getTotalSequencesIterated () . intValue () ) ;
fix_after_refactoring: org.junit.Assert . assertEquals ( uvgspktqqhnmruqjdqmp , sgenLarger . getTotalSequencesIterated () . intValue () ) ;
√ fix_prediction_before: org.junit.Assert . assertEquals ( numberOfSequencesToGenerate , sgenLarger . getTotalSequencesIterated () . intValue () ) ;
× fix_prediction_after: org.junit.Assert . assertEquals ( sgenLarger . getTotalSequencesIterated () , sgenLarger . getTotalSequencesIterated () ) ;

line_index: 611
bug_before_refactoring: return maxEggGroupID ; <s> public int getMaxEggGroupID () { android.database.Cursor cursor = database . query ( EGG_GROUPS_TABLE , null , null , null , null , null , null ) ; cursor . moveToLast () ; int maxEggGroupID = cursor . getInt ( cursor . getColumnIndex ( EGG_GROUP_ID ) ) ; if ( PRINT_DEBUG ) android.util.Log . v ( "Database Access" , ( "Max eggGroupID is: " + ( java.lang.String . valueOf ( maxEggGroupID ) ) ) ) ; cursor . close () ; return maxEggGroupID ; } <s> issue-#21-AdvancedSearch:  - Fixed a bug where filters weren't reset after pressing back - Fixed a bug where eggGroupID started at 1  when it starts at 0 in DB
bug_after_refactoring: return nyrssuilsxwkgtoskfhy ; <s> public int getMaxEggGroupID () { android.database.Cursor cursor = database . query ( EGG_GROUPS_TABLE , null , null , null , null , null , null ) ; cursor . moveToLast () ; int maxEggGroupID = cursor . getInt ( cursor . getColumnIndex ( EGG_GROUP_ID ) ) ; if ( PRINT_DEBUG ) android.util.Log . v ( "Database Access" , ( "Max eggGroupID is: " + ( java.lang.String . valueOf ( maxEggGroupID ) ) ) ) ; cursor . close () ; return nyrssuilsxwkgtoskfhy ; } <s> issue-#21-AdvancedSearch:  - Fixed a bug where filters weren't reset after pressing back - Fixed a bug where eggGroupID started at 1  when it starts at 0 in DB
fix_before_refactoring: return maxEggGroupID + 1 ;
fix_after_refactoring: return nyrssuilsxwkgtoskfhy + 1 ;
√ fix_prediction_before: return maxEggGroupID + 1 ;
× fix_prediction_after: return maxEggGroupID ;

line_index: 618
bug_before_refactoring: { if ( low > high ) return list ; int pos = partition ( list , low , high ) ; quicksort ( list , low , ( pos - 1 ) ) ; quicksort ( list , ( pos + 1 ) , high ) ; } <s> private int [] quicksort ( int [] list , int low , int high ) { if ( low > high ) return list ; int pos = partition ( list , low , high ) ; quicksort ( list , low , ( pos - 1 ) ) ; quicksort ( list , ( pos + 1 ) , high ) ; } <s> Fixed a couple bugs on QuickSort:   - Reduce number of checks of low and high by 1   - actually return the list that's been sorted   - Fixed function header   - No random range function in Java   - Instead of having two pointers  just have one and grow the low end
bug_after_refactoring: { if ( low > high ) return list ; int uqwcxznjgmlwbthzvsho = partition ( list , low , high ) ; quicksort ( list , low , ( uqwcxznjgmlwbthzvsho - 1 ) ) ; quicksort ( list , ( uqwcxznjgmlwbthzvsho + 1 ) , high ) ; } <s> private int [] quicksort ( int [] list , int low , int high ) { if ( low > high ) return list ; int uqwcxznjgmlwbthzvsho = partition ( list , low , high ) ; quicksort ( list , low , ( uqwcxznjgmlwbthzvsho - 1 ) ) ; quicksort ( list , ( uqwcxznjgmlwbthzvsho + 1 ) , high ) ; } <s> Fixed a couple bugs on QuickSort:   - Reduce number of checks of low and high by 1   - actually return the list that's been sorted   - Fixed function header   - No random range function in Java   - Instead of having two pointers  just have one and grow the low end
fix_before_refactoring: { if ( low >= high ) return list ; int pos = partition ( list , low , high ) ; quicksort ( list , low , ( pos - 1 ) ) ; quicksort ( list , ( pos + 1 ) , high ) ; return list ; }
fix_after_refactoring: { if ( low >= high ) return list ; int uqwcxznjgmlwbthzvsho = partition ( list , low , high ) ; quicksort ( list , low , ( uqwcxznjgmlwbthzvsho - 1 ) ) ; quicksort ( list , ( uqwcxznjgmlwbthzvsho + 1 ) , high ) ; return list ; }
√ fix_prediction_before: { if ( low >= high ) return list ; int pos = partition ( list , low , high ) ; quicksort ( list , low , ( pos - 1 ) ) ; quicksort ( list , ( pos + 1 ) , high ) ; return list ; }
× fix_prediction_after: { if ( low > high ) return list ; int uqwcxznjgmlwbthzvsho = partition ( list , low , high ) ; quicksort ( list , low , ( uqwcxznjgmlwbthzvsho - 1 ) ) ; quicksort ( list , low , ( uqwcxznjgmlwbthzvsho + 1 ) ) ; return list ; }

line_index: 620
bug_before_refactoring: collapseView ( lastExpandedPosition , true ) <s> private void checkSingleExpandMode ( int currExpandedParentPosition ) { if ( ( mExpandCollapseMode.mode ) != ( com.github.huajianjiang.expandablerecyclerview.widget.ExpandableAdapter.ExpandCollapseMode.MODE_SINGLE_EXPAND ) ) return; final int lastExpandedPosition = mExpandCollapseMode.lastExpandedPosition ; if ( lastExpandedPosition == currExpandedParentPosition ) return; com.github.huajianjiang.expandablerecyclerview.util.Logger . e ( com.github.huajianjiang.expandablerecyclerview.widget.ExpandableAdapter.TAG , ( ( "checkSingleExpandMode " + "---->lastExpandedPosition=*" ) + lastExpandedPosition ) ) ; collapseView ( lastExpandedPosition , true ) ; mExpandCollapseMode.lastExpandedPosition = currExpandedParentPosition ; } <s> # fix parent ExpandableStateChange and ExpandCollapse listener callback bug
bug_after_refactoring: collapseView ( dsffklblzgqljmhczaes , true ) <s> private void checkSingleExpandMode ( int currExpandedParentPosition ) { if ( ( mExpandCollapseMode.mode ) != ( com.github.huajianjiang.expandablerecyclerview.widget.ExpandableAdapter.ExpandCollapseMode.MODE_SINGLE_EXPAND ) ) return; final int lastExpandedPosition = mExpandCollapseMode.lastExpandedPosition ; if ( lastExpandedPosition == currExpandedParentPosition ) return; com.github.huajianjiang.expandablerecyclerview.util.Logger . e ( com.github.huajianjiang.expandablerecyclerview.widget.ExpandableAdapter.TAG , ( ( "checkSingleExpandMode " + "---->lastExpandedPosition=*" ) + lastExpandedPosition ) ) ; collapseView ( dsffklblzgqljmhczaes , true ) ; mExpandCollapseMode.lastExpandedPosition = currExpandedParentPosition ; } <s> # fix parent ExpandableStateChange and ExpandCollapse listener callback bug
fix_before_refactoring: collapseView ( lastExpandedPosition , true , false )
fix_after_refactoring: collapseView ( dsffklblzgqljmhczaes , true , false )
√ fix_prediction_before: collapseView ( lastExpandedPosition , true , false )
× fix_prediction_after: collapseView ( false )

line_index: 628
bug_before_refactoring: newId != 1 <s> public boolean insertBudget ( final java.lang.String name , final int max ) { android.database.sqlite.SQLiteDatabase db = getWritableDatabase () ; android.content.ContentValues contentValues = new android.content.ContentValues () ; contentValues . put ( protect.budgetwatch.DBHelper.BudgetDbIds.NAME , name ) ; contentValues . put ( protect.budgetwatch.DBHelper.BudgetDbIds.MAX , max ) ; final long newId = db . insert ( protect.budgetwatch.DBHelper.BudgetDbIds.TABLE , null , contentValues ) ; return newId != 1 ; } <s> Fix value checked to indicate an error  '1' is a perfectly valid value. Instead  '-1' indicates an error.
bug_after_refactoring: qfqpzgdyvywmcpwubeom != 1 <s> public boolean insertBudget ( final java.lang.String name , final int max ) { android.database.sqlite.SQLiteDatabase db = getWritableDatabase () ; android.content.ContentValues contentValues = new android.content.ContentValues () ; contentValues . put ( protect.budgetwatch.DBHelper.BudgetDbIds.NAME , name ) ; contentValues . put ( protect.budgetwatch.DBHelper.BudgetDbIds.MAX , max ) ; final long newId = db . insert ( protect.budgetwatch.DBHelper.BudgetDbIds.TABLE , null , contentValues ) ; return qfqpzgdyvywmcpwubeom != 1 ; } <s> Fix value checked to indicate an error  '1' is a perfectly valid value. Instead  '-1' indicates an error.
fix_before_refactoring: newId != ( - 1 )
fix_after_refactoring: qfqpzgdyvywmcpwubeom != ( - 1 )
√ fix_prediction_before: newId != ( - 1 )
× fix_prediction_after: qfqpzgdyvywmcpwubeom == 1

line_index: 639
bug_before_refactoring: protected void applyCenterCrop ( @ android.support.annotation.NonNull android.view.TextureView view , @ android.support.annotation.NonNull android.graphics.Matrix transformMatrix ) { float xScale = ( ( float ) ( view . getWidth () ) ) / ( intrinsicVideoSize.x ) ; float yScale = ( ( float ) ( view . getHeight () ) ) / ( intrinsicVideoSize.y ) ; float scale = java.lang.Math . max ( xScale , yScale ) ; xScale = scale / xScale ; yScale = scale / yScale ; applyScale ( view , transformMatrix , xScale , yScale ) ; } <s> protected void applyCenterCrop ( @ android.support.annotation.NonNull android.view.TextureView view , @ android.support.annotation.NonNull android.graphics.Matrix transformMatrix ) { float xScale = ( ( float ) ( view . getWidth () ) ) / ( intrinsicVideoSize.x ) ; float yScale = ( ( float ) ( view . getHeight () ) ) / ( intrinsicVideoSize.y ) ; float scale = java.lang.Math . max ( xScale , yScale ) ; xScale = scale / xScale ; yScale = scale / yScale ; applyScale ( view , transformMatrix , xScale , yScale ) ; } <s> * Fixes rotation scaling and   * Fixed rotation scaling issues * Fixed rotation being additive on some devices
bug_after_refactoring: protected void applyCenterCrop ( @ android.support.annotation.NonNull android.view.TextureView view , @ android.support.annotation.NonNull android.graphics.Matrix transformMatrix ) { float qxyjzbdbmrqzmfbycazn = ( ( float ) ( view . getWidth () ) ) / ( intrinsicVideoSize.x ) ; float tcvpuhufxdizqozywuts = ( ( float ) ( view . getHeight () ) ) / ( intrinsicVideoSize.y ) ; float anxruftlpkmikrwlvshi = java.lang.Math . max ( qxyjzbdbmrqzmfbycazn , tcvpuhufxdizqozywuts ) ; qxyjzbdbmrqzmfbycazn = anxruftlpkmikrwlvshi / qxyjzbdbmrqzmfbycazn ; tcvpuhufxdizqozywuts = anxruftlpkmikrwlvshi / tcvpuhufxdizqozywuts ; applyScale ( view , transformMatrix , qxyjzbdbmrqzmfbycazn , tcvpuhufxdizqozywuts ) ; } <s> protected void applyCenterCrop ( @ android.support.annotation.NonNull android.view.TextureView view , @ android.support.annotation.NonNull android.graphics.Matrix transformMatrix ) { float qxyjzbdbmrqzmfbycazn = ( ( float ) ( view . getWidth () ) ) / ( intrinsicVideoSize.x ) ; float tcvpuhufxdizqozywuts = ( ( float ) ( view . getHeight () ) ) / ( intrinsicVideoSize.y ) ; float anxruftlpkmikrwlvshi = java.lang.Math . max ( qxyjzbdbmrqzmfbycazn , tcvpuhufxdizqozywuts ) ; qxyjzbdbmrqzmfbycazn = anxruftlpkmikrwlvshi / qxyjzbdbmrqzmfbycazn ; tcvpuhufxdizqozywuts = anxruftlpkmikrwlvshi / tcvpuhufxdizqozywuts ; applyScale ( view , transformMatrix , qxyjzbdbmrqzmfbycazn , tcvpuhufxdizqozywuts ) ; } <s> * Fixes rotation scaling and   * Fixed rotation scaling issues * Fixed rotation being additive on some devices
fix_before_refactoring: protected void applyCenterCrop ( @ android.support.annotation.NonNull android.view.TextureView view ) { float xScale = ( ( float ) ( view . getWidth () ) ) / ( intrinsicVideoSize.x ) ; float yScale = ( ( float ) ( view . getHeight () ) ) / ( intrinsicVideoSize.y ) ; float scale = java.lang.Math . max ( xScale , yScale ) ; xScale = scale / xScale ; yScale = scale / yScale ; applyScale ( view , xScale , yScale ) ; }
fix_after_refactoring: protected void applyCenterCrop ( @ android.support.annotation.NonNull android.view.TextureView view ) { float qxyjzbdbmrqzmfbycazn = ( ( float ) ( view . getWidth () ) ) / ( intrinsicVideoSize.x ) ; float tcvpuhufxdizqozywuts = ( ( float ) ( view . getHeight () ) ) / ( intrinsicVideoSize.y ) ; float anxruftlpkmikrwlvshi = java.lang.Math . max ( qxyjzbdbmrqzmfbycazn , tcvpuhufxdizqozywuts ) ; qxyjzbdbmrqzmfbycazn = anxruftlpkmikrwlvshi / qxyjzbdbmrqzmfbycazn ; tcvpuhufxdizqozywuts = anxruftlpkmikrwlvshi / tcvpuhufxdizqozywuts ; applyScale ( view , qxyjzbdbmrqzmfbycazn , tcvpuhufxdizqozywuts ) ; }
√ fix_prediction_before: protected void applyCenterCrop ( @ android.support.annotation.NonNull android.view.TextureView view ) { float xScale = ( ( float ) ( view . getWidth () ) ) / ( intrinsicVideoSize.x ) ; float yScale = ( ( float ) ( view . getHeight () ) ) / ( intrinsicVideoSize.y ) ; float scale = java.lang.Math . max ( xScale , yScale ) ; xScale = scale / xScale ; yScale = scale / yScale ; applyScale ( view , xScale , yScale ) ; }
× fix_prediction_after: protected void applyCenterCrop ( @ android.support.annotation.NonNull android.view.TextureView view ) { float qxyjzbdbmrqzmfbycazn = ( ( float ) ( view . getWidth () ) ) / ( intrinsicVideoSize.x ) ; float tcvpuhufxdizqozywuts = ( ( float ) ( view . getHeight () ) ) / ( intrinsicVideoSize.y ) ; float anxruftlpkmikrwlvshi = java.lang.Math . max ( qxyjzbdbmrqzmfbycazn , tcvpuhufxdizqozywuts ) ; qxyjzbdbmrqzmfbycazn = anxruftlpkmikrwlvshi / qxyjzbdbmrqzmfbycazn ; tcvpuhufxdizqozywuts = anxruftlpkmikrwlvshi / tcvpuhufxdizqozywuts ; applyScale ( view , transformMatrix , qxyjzbdbmrqzmfbycazn , tcvpuhufxdizqozywuts ) ; }

line_index: 641
bug_before_refactoring: { int result = 0 ; java.sql.Connection connection = source . getConnection () ; java.sql.PreparedStatement statement = null ; statement = connection . prepareStatement ( libraryDatabaseUtility.repository.BookDAOImpl.DELETE_RECORD_SQL ) ; statement . setLong ( 1 , bookId ) ; result = statement . executeUpdate () ; statement . close () ; connection . close () ; return result ; } <s> public int deleteRecord ( libraryDatabaseUtility.model.DataSource source , long bookId ) throws java.sql.SQLException { int result = 0 ; java.sql.Connection connection = source . getConnection () ; java.sql.PreparedStatement statement = null ; statement = connection . prepareStatement ( libraryDatabaseUtility.repository.BookDAOImpl.DELETE_RECORD_SQL ) ; statement . setLong ( 1 , bookId ) ; result = statement . executeUpdate () ; statement . close () ; connection . close () ; return result ; } <s> fixed a bug  was throwing exception after 1 database call
bug_after_refactoring: { int emanrsndhcxgfmudrqdp = 0 ; java.sql.Connection connection = source . getConnection () ; java.sql.PreparedStatement statement = null ; statement = connection . prepareStatement ( libraryDatabaseUtility.repository.BookDAOImpl.DELETE_RECORD_SQL ) ; statement . setLong ( 1 , bookId ) ; emanrsndhcxgfmudrqdp = statement . executeUpdate () ; statement . close () ; connection . close () ; return emanrsndhcxgfmudrqdp ; } <s> public int deleteRecord ( libraryDatabaseUtility.model.DataSource source , long bookId ) throws java.sql.SQLException { int emanrsndhcxgfmudrqdp = 0 ; java.sql.Connection connection = source . getConnection () ; java.sql.PreparedStatement statement = null ; statement = connection . prepareStatement ( libraryDatabaseUtility.repository.BookDAOImpl.DELETE_RECORD_SQL ) ; statement . setLong ( 1 , bookId ) ; emanrsndhcxgfmudrqdp = statement . executeUpdate () ; statement . close () ; connection . close () ; return emanrsndhcxgfmudrqdp ; } <s> fixed a bug  was throwing exception after 1 database call
fix_before_refactoring: { int result = 0 ; java.sql.Connection connection = source . getConnection () ; java.sql.PreparedStatement statement = null ; statement = connection . prepareStatement ( libraryDatabaseUtility.repository.BookDAOImpl.DELETE_RECORD_SQL ) ; statement . setLong ( 1 , bookId ) ; result = statement . executeUpdate () ; return result ; }
fix_after_refactoring: { int emanrsndhcxgfmudrqdp = 0 ; java.sql.Connection connection = source . getConnection () ; java.sql.PreparedStatement statement = null ; statement = connection . prepareStatement ( libraryDatabaseUtility.repository.BookDAOImpl.DELETE_RECORD_SQL ) ; statement . setLong ( 1 , bookId ) ; emanrsndhcxgfmudrqdp = statement . executeUpdate () ; return emanrsndhcxgfmudrqdp ; }
√ fix_prediction_before: { int result = 0 ; java.sql.Connection connection = source . getConnection () ; java.sql.PreparedStatement statement = null ; statement = connection . prepareStatement ( libraryDatabaseUtility.repository.BookDAOImpl.DELETE_RECORD_SQL ) ; statement . setLong ( 1 , bookId ) ; result = statement . executeUpdate () ; return result ; }
× fix_prediction_after: { int emanrsndhcxgfmudrqdp = 0 ; java.sql.Connection connection = source . getConnection () ; java.sql.PreparedStatement statement = connection . prepareStatement ( libraryDatabaseUtility.repository.BookDAOImpl.DELETE_RECORD_SQL ) ; statement . setLong ( 1 , bookId ) ; emanrsndhcxgfmudrqdp = statement . executeUpdate () ; return emanrsndhcxgfmudrqdp ; }

line_index: 651
bug_before_refactoring: c = false <s> public static void main ( java.lang.String [] args ) { boolean a = false ; boolean b = false ; boolean c = false ; boolean p = ( ( ( a || b ) || c ) && ( ( ( ! a ) || b ) || c ) ) && ( ( ( ! a ) || ( ! b ) ) || c ) ; java.lang.System.out . println ( p ) ; } <s> fixed bug in case split
bug_after_refactoring: pssrntssnykjmmscrysz = false <s> public static void main ( java.lang.String [] args ) { boolean a = false ; boolean b = false ; boolean pssrntssnykjmmscrysz = false ; boolean p = ( ( ( a || b ) || c ) && ( ( ( ! a ) || b ) || c ) ) && ( ( ( ! a ) || ( ! b ) ) || c ) ; java.lang.System.out . println ( p ) ; } <s> fixed bug in case split
fix_before_refactoring: c = true
fix_after_refactoring: pssrntssnykjmmscrysz = true
√ fix_prediction_before: c = true
× fix_prediction_after: pssrntssnykjmmscrysz = 0

line_index: 671
bug_before_refactoring: return java.lang.Math . sqrt ( dot ) ; <s> public static double norm2 ( float [] x , int dim ) { double dot = 0 ; for ( int i = 0 ; i < dim ; ++ i ) { dot += ( x [ i ] ) * ( x [ i ] ) ; } return java.lang.Math . sqrt ( dot ) ; } <s> fix a norm2 bug
bug_after_refactoring: return java.lang.Math . sqrt ( vrtpubsivyykjhklkkaj ) ; <s> public static double norm2 ( float [] x , int dim ) { double dot = 0 ; for ( int i = 0 ; i < dim ; ++ i ) { dot += ( x [ i ] ) * ( x [ i ] ) ; } return java.lang.Math . sqrt ( vrtpubsivyykjhklkkaj ) ; } <s> fix a norm2 bug
fix_before_refactoring: return dot ;
fix_after_refactoring: return vrtpubsivyykjhklkkaj ;
√ fix_prediction_before: return dot ;
× fix_prediction_after: return rs.lang.Math . sqrt ( vrtpubsivyykjhklkkaj ) ;

line_index: 679
bug_before_refactoring: @ org.junit.Test public void testFindAll ( ) throws java.lang.Exception { populateData () ; int expectedSize = 12 ; int actualSize = 0 ; java.util.List < net.smartcosmos.dto.things.ThingResponse > response = persistenceService . findAll ( tenantUrn ) ; org.junit.Assert . assertFalse ( response . isEmpty () ) ; actualSize = response . size () ; org.junit.Assert . assertTrue ( ( ( ( "Expected " + expectedSize ) + " but received " ) + actualSize ) , ( actualSize == expectedSize ) ) ; } <s> @ org.junit.Test public void testFindAll ( ) throws java.lang.Exception { populateData () ; int expectedSize = 12 ; int actualSize = 0 ; java.util.List < net.smartcosmos.dto.things.ThingResponse > response = persistenceService . findAll ( tenantUrn ) ; org.junit.Assert . assertFalse ( response . isEmpty () ) ; actualSize = response . size () ; org.junit.Assert . assertTrue ( ( ( ( "Expected " + expectedSize ) + " but received " ) + actualSize ) , ( actualSize == expectedSize ) ) ; } <s> Merge pull request #36 from SMARTRACTECHNOLOGY/bugfix/OBJECTS-913_type_in_findByUrns  Implement new findByTypeAndUrns method  update tests
bug_after_refactoring: @ org.junit.Test public void testFindAll ( ) throws java.lang.Exception { populateData () ; int doakydtmxcqepwtuazfp = 12 ; int lzebellhummawabmfdyk = 0 ; java.util.List < net.smartcosmos.dto.things.ThingResponse > response = persistenceService . findAll ( tenantUrn ) ; org.junit.Assert . assertFalse ( response . isEmpty () ) ; lzebellhummawabmfdyk = response . size () ; org.junit.Assert . assertTrue ( ( ( ( "Expected " + doakydtmxcqepwtuazfp ) + " but received " ) + lzebellhummawabmfdyk ) , ( lzebellhummawabmfdyk == doakydtmxcqepwtuazfp ) ) ; } <s> @ org.junit.Test public void testFindAll ( ) throws java.lang.Exception { populateData () ; int doakydtmxcqepwtuazfp = 12 ; int lzebellhummawabmfdyk = 0 ; java.util.List < net.smartcosmos.dto.things.ThingResponse > response = persistenceService . findAll ( tenantUrn ) ; org.junit.Assert . assertFalse ( response . isEmpty () ) ; lzebellhummawabmfdyk = response . size () ; org.junit.Assert . assertTrue ( ( ( ( "Expected " + doakydtmxcqepwtuazfp ) + " but received " ) + lzebellhummawabmfdyk ) , ( lzebellhummawabmfdyk == doakydtmxcqepwtuazfp ) ) ; } <s> Merge pull request #36 from SMARTRACTECHNOLOGY/bugfix/OBJECTS-913_type_in_findByUrns  Implement new findByTypeAndUrns method  update tests
fix_before_refactoring: @ net.smartcosmos.dao.things.impl.Test public void testFindAll ( ) throws java.lang.Exception { populateData () ; int expectedSize = 12 ; int actualSize = 0 ; java.util.List < net.smartcosmos.dto.things.ThingResponse > response = persistenceService . findAll ( tenantUrn ) ; assertFalse ( response . isEmpty () ) ; actualSize = response . size () ; assertTrue ( ( ( ( "Expected " + expectedSize ) + " but received " ) + actualSize ) , ( actualSize == expectedSize ) ) ; }
fix_after_refactoring: @ net.smartcosmos.dao.things.impl.Test public void testFindAll ( ) throws java.lang.Exception { populateData () ; int doakydtmxcqepwtuazfp = 12 ; int lzebellhummawabmfdyk = 0 ; java.util.List < net.smartcosmos.dto.things.ThingResponse > response = persistenceService . findAll ( tenantUrn ) ; assertFalse ( response . isEmpty () ) ; lzebellhummawabmfdyk = response . size () ; assertTrue ( ( ( ( "Expected " + doakydtmxcqepwtuazfp ) + " but received " ) + lzebellhummawabmfdyk ) , ( lzebellhummawabmfdyk == doakydtmxcqepwtuazfp ) ) ; }
√ fix_prediction_before: @ net.smartcosmos.dao.things.impl.Test public void testFindAll ( ) throws java.lang.Exception { populateData () ; int expectedSize = 12 ; int actualSize = 0 ; java.util.List < net.smartcosmos.dto.things.ThingResponse > response = persistenceService . findAll ( tenantUrn ) ; assertFalse ( response . isEmpty () ) ; actualSize = response . size () ; assertTrue ( ( ( ( "Expected " + expectedSize ) + " but received " ) + actualSize ) , ( actualSize == expectedSize ) ) ; }
× fix_prediction_after: @ net.smartcosmos.daoto.things.impl.Test public void testFindAll ( ) throws java.lang.Exception { populateData () ; int doakydtmxcqepwtuazfp = 12 ; int lzebellhummawabmfdyk = 0 ; java.util.List < net.smartcosmos.dto.things.ThingResponse > response = persistenceService . findAll ( tenantUrn ) ; assertFalse ( response . isEmpty () ) ; lzebellhummawabmfdyk = response . size () ; assertTrue ( ( ( ( "Expected " + doakydtmxcqepwtuazfp ) + " but received " ) + lzebellhummawabmfdyk ) , ( lzebellhummawabmfdyk == doakydtmxcqepwtuazfp ) ) ; }

line_index: 685
bug_before_refactoring: value = component . calculateComponentValue ( draughtsState , isWhitePlayer , depth , value ) ; <s> @ java.lang.Override public final int calculateValue ( final nl.tue.s2id90.draughts.DraughtsState draughtsState , final boolean isWhitePlayer , final int depth ) { int value = 0 ; for ( nl.tue.s2id90.group05.HeuristicComponent component : components ) { value = component . calculateComponentValue ( draughtsState , isWhitePlayer , depth , value ) ; } return value ; } <s> Fixed bug when summing up multiple component scores  fixes broken AI.
bug_after_refactoring: xlpwgvpbyjozuzyktrml = component . calculateComponentValue ( draughtsState , isWhitePlayer , depth , xlpwgvpbyjozuzyktrml ) ; <s> @ java.lang.Override public final int calculateValue ( final nl.tue.s2id90.draughts.DraughtsState draughtsState , final boolean isWhitePlayer , final int depth ) { int value = 0 ; for ( nl.tue.s2id90.group05.HeuristicComponent component : components ) { xlpwgvpbyjozuzyktrml = component . calculateComponentValue ( draughtsState , isWhitePlayer , depth , xlpwgvpbyjozuzyktrml ) ; } return value ; } <s> Fixed bug when summing up multiple component scores  fixes broken AI.
fix_before_refactoring: value += component . calculateComponentValue ( draughtsState , isWhitePlayer , depth , value ) ;
fix_after_refactoring: xlpwgvpbyjozuzyktrml += component . calculateComponentValue ( draughtsState , isWhitePlayer , depth , xlpwgvpbyjozuzyktrml ) ;
√ fix_prediction_before: value += component . calculateComponentValue ( draughtsState , isWhitePlayer , depth , value ) ;
× fix_prediction_after: xlpwgvpbyjozuzyktrml = component . calculateComponentValue ( draughtsState , isWhitePlayer , depth , xlpwgvpbyjozuzyktrml ) ;

line_index: 687
bug_before_refactoring: { int rd = file . nextInt () ; file . next () ; int rs = file . nextInt () ; file . next () ; int sa = file . nextInt () ; file . nextLine () ; int funct = 8 ; int rt = 0 ; java.lang.String opc = "SRL" ; ilist . add ( ( ( interfaces.IInstruction ) ( new model.RTypeInstruction ( opc , rd , rs , rt , sa , funct ) ) ) ) ; } <s> private void SRLInstruction () { int rd = file . nextInt () ; file . next () ; int rs = file . nextInt () ; file . next () ; int sa = file . nextInt () ; file . nextLine () ; int funct = 8 ; int rt = 0 ; java.lang.String opc = "SRL" ; ilist . add ( ( ( interfaces.IInstruction ) ( new model.RTypeInstruction ( opc , rd , rs , rt , sa , funct ) ) ) ) ; } <s> Fixed errors in the InstructionParser and finished JUnit tests for InstructionParser and Instructions in general.
bug_after_refactoring: { int gqlapsqohckdosuyqpgg = file . nextInt () ; file . next () ; int hijnmwuhvybktmiodbec = file . nextInt () ; file . next () ; int irttsippwvnwqhxsgmkf = file . nextInt () ; file . nextLine () ; int tjmwqdywfullpmcoxide = 8 ; int gmdjfrmbrunmxoooqirn = 0 ; java.lang.String opc = "SRL" ; ilist . add ( ( ( interfaces.IInstruction ) ( new model.RTypeInstruction ( opc , gqlapsqohckdosuyqpgg , hijnmwuhvybktmiodbec , gmdjfrmbrunmxoooqirn , irttsippwvnwqhxsgmkf , tjmwqdywfullpmcoxide ) ) ) ) ; } <s> private void SRLInstruction () { int gqlapsqohckdosuyqpgg = file . nextInt () ; file . next () ; int hijnmwuhvybktmiodbec = file . nextInt () ; file . next () ; int irttsippwvnwqhxsgmkf = file . nextInt () ; file . nextLine () ; int tjmwqdywfullpmcoxide = 8 ; int gmdjfrmbrunmxoooqirn = 0 ; java.lang.String opc = "SRL" ; ilist . add ( ( ( interfaces.IInstruction ) ( new model.RTypeInstruction ( opc , gqlapsqohckdosuyqpgg , hijnmwuhvybktmiodbec , gmdjfrmbrunmxoooqirn , irttsippwvnwqhxsgmkf , tjmwqdywfullpmcoxide ) ) ) ) ; } <s> Fixed errors in the InstructionParser and finished JUnit tests for InstructionParser and Instructions in general.
fix_before_refactoring: { int rd = file . nextInt () ; int rs = file . nextInt () ; int sa = file . nextInt () ; file . nextLine () ; int funct = 8 ; int rt = 0 ; java.lang.String opc = "SRL" ; ilist . add ( ( ( interfaces.IInstruction ) ( new model.RTypeInstruction ( opc , rd , rs , rt , sa , funct ) ) ) ) ; }
fix_after_refactoring: { int gqlapsqohckdosuyqpgg = file . nextInt () ; int hijnmwuhvybktmiodbec = file . nextInt () ; int irttsippwvnwqhxsgmkf = file . nextInt () ; file . nextLine () ; int tjmwqdywfullpmcoxide = 8 ; int gmdjfrmbrunmxoooqirn = 0 ; java.lang.String opc = "SRL" ; ilist . add ( ( ( interfaces.IInstruction ) ( new model.RTypeInstruction ( opc , gqlapsqohckdosuyqpgg , hijnmwuhvybktmiodbec , gmdjfrmbrunmxoooqirn , irttsippwvnwqhxsgmkf , tjmwqdywfullpmcoxide ) ) ) ) ; }
√ fix_prediction_before: { int rd = file . nextInt () ; int rs = file . nextInt () ; int sa = file . nextInt () ; file . nextLine () ; int funct = 8 ; int rt = 0 ; java.lang.String opc = "SRL" ; ilist . add ( ( ( interfaces.IInstruction ) ( new model.RTypeInstruction ( opc , rd , rs , rt , sa , funct ) ) ) ) ; }
× fix_prediction_after: { int gqlapsqohckdosuyqpgg = file . nextInt () ; file . next () ; int hijnmwuhvybktmiodbec = file . nextInt () ; file . next () ; int irttsippwvnwqhxsgmkf = file . nextInt () ; file . nextLine () ; int tjmwqdywfullpmcoxide = 8 ; int gmdjfrmbrunmxoooqirn = 0 ; java.lang.String opc = "SRL" ; ilist . add ( ( ( interfaces.IInstruction ) ( new model.RTypeInstruction ( opc , gqlapsqohckdosuyqpgg , hijnmwuhvybktmiodbec , gmdjfrmbrunmxoooqirn , irttsippwvnwqhxsgmkf , tjmwqdywfullpmcoxide ) ) ) ) ; }

line_index: 690
bug_before_refactoring: array = null <s> public static float [] getFloatArrayFromBuffer ( java.nio.FloatBuffer buffer ) { float [] array = null ; if ( buffer != null ) { if ( buffer . hasArray () ) { array = buffer . array () ; } else { buffer . rewind () ; array = new float [ buffer . capacity () ] ; buffer . get ( array ) ; } } return array ; } <s> fix for issue #1766 unexpected behaviour when repeatedly calling Geometry3D.addFromGeometry3D()  setVertices() already had a boolean override  change adds a similar aility to         setNormals()         setTextureCoords()         setColors()         setIndices()
bug_after_refactoring: gqjzncimldxrqomnayfr = null <s> public static float [] getFloatArrayFromBuffer ( java.nio.FloatBuffer buffer ) { float [] gqjzncimldxrqomnayfr = null ; if ( buffer != null ) { if ( buffer . hasArray () ) { array = buffer . array () ; } else { buffer . rewind () ; array = new float [ buffer . capacity () ] ; buffer . get ( array ) ; } } return array ; } <s> fix for issue #1766 unexpected behaviour when repeatedly calling Geometry3D.addFromGeometry3D()  setVertices() already had a boolean override  change adds a similar aility to         setNormals()         setTextureCoords()         setColors()         setIndices()
fix_before_refactoring: array = new float [ 0 ]
fix_after_refactoring: gqjzncimldxrqomnayfr = new float [ 0 ]
√ fix_prediction_before: array = new float [ 0 ]
× fix_prediction_after: buffer = new java.nio.FloatBuffer ()

line_index: 731
bug_before_refactoring: return index ; <s> public static int code ( java.lang.String format ) { try { int index = ygoprocardmaker.enumerate.CardFormat.FORMATS . indexOf ( format ) ; if ( index == ( - 1 ) ) { throw new java.lang.IllegalArgumentException () ; } return index ; } catch ( java.lang.Exception e ) { throw new java.lang.IllegalArgumentException () ; } } <s> format bug fixed
bug_after_refactoring: return phwecxscgsqjbmsaswfl ; <s> public static int code ( java.lang.String format ) { try { int index = ygoprocardmaker.enumerate.CardFormat.FORMATS . indexOf ( format ) ; if ( index == ( - 1 ) ) { throw new java.lang.IllegalArgumentException () ; } return phwecxscgsqjbmsaswfl ; } catch ( java.lang.Exception e ) { throw new java.lang.IllegalArgumentException () ; } } <s> format bug fixed
fix_before_refactoring: return index + 1 ;
fix_after_refactoring: return phwecxscgsqjbmsaswfl + 1 ;
√ fix_prediction_before: return index + 1 ;
× fix_prediction_after: return index ;

line_index: 735
bug_before_refactoring: { java.lang.String title = "Please get me out of the db!" ; java.lang.String text = "All I want is to be with you!" ; logic.Post op = new logic.Post ( title , text ) ; long postID = op . save () ; logic.Post post = new logic.Post ( postID ) ; assertEquals ( postID , post.postID ) ; } <s> @ org.junit.Test public void testPostConstructorDB () { java.lang.String title = "Please get me out of the db!" ; java.lang.String text = "All I want is to be with you!" ; logic.Post op = new logic.Post ( title , text ) ; long postID = op . save () ; logic.Post post = new logic.Post ( postID ) ; assertEquals ( postID , post.postID ) ; } <s> Try to fix the errors in Course  Stop hardcoding the keys. I claned up the DB info. My junit wont run  so gl.
bug_after_refactoring: { java.lang.String title = "Please get me out of the db!" ; java.lang.String text = "All I want is to be with you!" ; logic.Post op = new logic.Post ( title , text ) ; long opvkdniqatvzehbthtuw = op . save () ; logic.Post post = new logic.Post ( opvkdniqatvzehbthtuw ) ; assertEquals ( opvkdniqatvzehbthtuw , post.opvkdniqatvzehbthtuw ) ; } <s> @ org.junit.Test public void testPostConstructorDB () { java.lang.String title = "Please get me out of the db!" ; java.lang.String text = "All I want is to be with you!" ; logic.Post op = new logic.Post ( title , text ) ; long opvkdniqatvzehbthtuw = op . save () ; logic.Post post = new logic.Post ( opvkdniqatvzehbthtuw ) ; assertEquals ( opvkdniqatvzehbthtuw , post.opvkdniqatvzehbthtuw ) ; } <s> Try to fix the errors in Course  Stop hardcoding the keys. I claned up the DB info. My junit wont run  so gl.
fix_before_refactoring: { java.lang.String title = "Please get me out of the db!" ; java.lang.String text = "All I want is to be with you!" ; logic.Post op = new logic.Post ( title , text ) ; long postID = op . save () ; logic.Post post = new logic.Post ( postID ) ; assertEquals ( postID , post.postID ) ; op . delete () ; }
fix_after_refactoring: { java.lang.String title = "Please get me out of the db!" ; java.lang.String text = "All I want is to be with you!" ; logic.Post op = new logic.Post ( title , text ) ; long opvkdniqatvzehbthtuw = op . save () ; logic.Post post = new logic.Post ( opvkdniqatvzehbthtuw ) ; assertEquals ( opvkdniqatvzehbthtuw , post.opvkdniqatvzehbthtuw ) ; op . delete () ; }
√ fix_prediction_before: { java.lang.String title = "Please get me out of the db!" ; java.lang.String text = "All I want is to be with you!" ; logic.Post op = new logic.Post ( title , text ) ; long postID = op . save () ; logic.Post post = new logic.Post ( postID ) ; assertEquals ( postID , post.postID ) ; op . delete () ; }
× fix_prediction_after: { java.lang.String title = "Please get me out of the db!" ; java.lang.String text = "All I want is to be with you!" ; logic.Post op = new logic.Post ( title , text ) ; op . save () ; logic.Post post = new logic.Post ( opvkdniqatvzehbthtuw ) ; assertEquals ( opvkdniqatvzehbthtuw , post.opvkdniqatvzehbthtuw ) ; }

line_index: 757
bug_before_refactoring: { switch ( requestCode ) { case 1 : if ( resultCode == ( android.app.Activity.RESULT_OK ) ) { int switchNum = data . getIntExtra ( com.example.scanitgrocerystorehelper.MainActivity.DELETE_SWITCH , 0 ) ; if ( switchNum != 0 ) { long newNum = data . getLongExtra ( com.example.scanitgrocerystorehelper.MainActivity.KEY_LIST_ID , 0 ) ; if ( newNum != 0 ) deleteList ( mSqlAdapter . getList ( newNum ) ) ; } } } } <s> protected void onActivityResult ( int requestCode , int resultCode , android.content.Intent data ) { switch ( requestCode ) { case 1 : if ( resultCode == ( android.app.Activity.RESULT_OK ) ) { int switchNum = data . getIntExtra ( com.example.scanitgrocerystorehelper.MainActivity.DELETE_SWITCH , 0 ) ; if ( switchNum != 0 ) { long newNum = data . getLongExtra ( com.example.scanitgrocerystorehelper.MainActivity.KEY_LIST_ID , 0 ) ; if ( newNum != 0 ) deleteList ( mSqlAdapter . getList ( newNum ) ) ; } } } } <s> fixed a bug in boot service and in main activity
bug_after_refactoring: { switch ( requestCode ) { case 1 : if ( resultCode == ( android.app.Activity.RESULT_OK ) ) { int eecwwthegmhcqkcyppuh = data . getIntExtra ( com.example.scanitgrocerystorehelper.MainActivity.DELETE_SWITCH , 0 ) ; if ( eecwwthegmhcqkcyppuh != 0 ) { long umgznryoecabokffnrdb = data . getLongExtra ( com.example.scanitgrocerystorehelper.MainActivity.KEY_LIST_ID , 0 ) ; if ( umgznryoecabokffnrdb != 0 ) deleteList ( mSqlAdapter . getList ( umgznryoecabokffnrdb ) ) ; } } } } <s> protected void onActivityResult ( int requestCode , int resultCode , android.content.Intent data ) { switch ( requestCode ) { case 1 : if ( resultCode == ( android.app.Activity.RESULT_OK ) ) { int eecwwthegmhcqkcyppuh = data . getIntExtra ( com.example.scanitgrocerystorehelper.MainActivity.DELETE_SWITCH , 0 ) ; if ( eecwwthegmhcqkcyppuh != 0 ) { long umgznryoecabokffnrdb = data . getLongExtra ( com.example.scanitgrocerystorehelper.MainActivity.KEY_LIST_ID , 0 ) ; if ( umgznryoecabokffnrdb != 0 ) deleteList ( mSqlAdapter . getList ( umgznryoecabokffnrdb ) ) ; } } } } <s> fixed a bug in boot service and in main activity
fix_before_refactoring: { super . onActivityResult ( requestCode , resultCode , data ) ; switch ( requestCode ) { case 1 : if ( resultCode == ( android.app.Activity.RESULT_OK ) ) { int switchNum = data . getIntExtra ( com.example.scanitgrocerystorehelper.MainActivity.DELETE_SWITCH , 0 ) ; if ( switchNum != 0 ) { long newNum = data . getLongExtra ( com.example.scanitgrocerystorehelper.MainActivity.KEY_LIST_ID , 0 ) ; if ( newNum != 0 ) deleteList ( mSqlAdapter . getList ( newNum ) ) ; } } } }
fix_after_refactoring: { super . onActivityResult ( requestCode , resultCode , data ) ; switch ( requestCode ) { case 1 : if ( resultCode == ( android.app.Activity.RESULT_OK ) ) { int eecwwthegmhcqkcyppuh = data . getIntExtra ( com.example.scanitgrocerystorehelper.MainActivity.DELETE_SWITCH , 0 ) ; if ( eecwwthegmhcqkcyppuh != 0 ) { long umgznryoecabokffnrdb = data . getLongExtra ( com.example.scanitgrocerystorehelper.MainActivity.KEY_LIST_ID , 0 ) ; if ( umgznryoecabokffnrdb != 0 ) deleteList ( mSqlAdapter . getList ( umgznryoecabokffnrdb ) ) ; } } } }
√ fix_prediction_before: { super . onActivityResult ( requestCode , resultCode , data ) ; switch ( requestCode ) { case 1 : if ( resultCode == ( android.app.Activity.RESULT_OK ) ) { int switchNum = data . getIntExtra ( com.example.scanitgrocerystorehelper.MainActivity.DELETE_SWITCH , 0 ) ; if ( switchNum != 0 ) { long newNum = data . getLongExtra ( com.example.scanitgrocerystorehelper.MainActivity.KEY_LIST_ID , 0 ) ; if ( newNum != 0 ) deleteList ( mSqlAdapter . getList ( newNum ) ) ; } } } }
× fix_prediction_after: { if ( resultCode == ( android.app.Activity.RESULT_OK ) ) { int eecwwthegmhcqkcyppuh = data . getIntExtra ( com.example.scanitgrocerystorehelper.MainActivity.DELETE_SWITCH , 0 ) ; if ( eecwwthegmhcqkcyppuh != 0 ) { long umgznryoecabokffnrdb = data . getLongExtra ( com.example.scanitgrocerystorehelper.MainActivity.KEY_LIST_ID , 0 ) ; if ( umgznryoecabokffnrdb != 0 ) deleteList ( mSqlAdapter . getList ( umgznryoecabokffnrdb ) ) ; } } }

line_index: 759
bug_before_refactoring: public synchronized long registerOperationWithHeapSize ( long heapSize ) throws java.lang.InterruptedException { long operationId = ++ ( operationSequenceGenerator ) ; while ( ( ( currentWriteBufferSize ) >= ( maxHeapSize ) ) || ( ( pendingOperationsWithSize . size () ) >= ( maxInFlightRpcs ) ) ) { wait ( com.google.cloud.bigtable.hbase.BigtableBufferedMutator.WAIT_MILLIS ) ; } lastOperationChange = java.lang.System . currentTimeMillis () ; pendingOperationsWithSize . put ( operationId , heapSize ) ; currentWriteBufferSize += heapSize ; return operationId ; } <s> public synchronized long registerOperationWithHeapSize ( long heapSize ) throws java.lang.InterruptedException { long operationId = ++ ( operationSequenceGenerator ) ; while ( ( ( currentWriteBufferSize ) >= ( maxHeapSize ) ) || ( ( pendingOperationsWithSize . size () ) >= ( maxInFlightRpcs ) ) ) { wait ( com.google.cloud.bigtable.hbase.BigtableBufferedMutator.WAIT_MILLIS ) ; } lastOperationChange = java.lang.System . currentTimeMillis () ; pendingOperationsWithSize . put ( operationId , heapSize ) ; currentWriteBufferSize += heapSize ; return operationId ; } <s> Merge pull request #322 from sduskis/add_bm_threadpool  Fixing some issues with BufferedMutator
bug_after_refactoring: public synchronized long registerOperationWithHeapSize ( long heapSize ) throws java.lang.InterruptedException { long zsoasmeayhhsuxaerhkc = ++ ( operationSequenceGenerator ) ; while ( ( ( currentWriteBufferSize ) >= ( maxHeapSize ) ) || ( ( pendingOperationsWithSize . size () ) >= ( maxInFlightRpcs ) ) ) { wait ( com.google.cloud.bigtable.hbase.BigtableBufferedMutator.WAIT_MILLIS ) ; } lastOperationChange = java.lang.System . currentTimeMillis () ; pendingOperationsWithSize . put ( zsoasmeayhhsuxaerhkc , heapSize ) ; currentWriteBufferSize += heapSize ; return zsoasmeayhhsuxaerhkc ; } <s> public synchronized long registerOperationWithHeapSize ( long heapSize ) throws java.lang.InterruptedException { long zsoasmeayhhsuxaerhkc = ++ ( operationSequenceGenerator ) ; while ( ( ( currentWriteBufferSize ) >= ( maxHeapSize ) ) || ( ( pendingOperationsWithSize . size () ) >= ( maxInFlightRpcs ) ) ) { wait ( com.google.cloud.bigtable.hbase.BigtableBufferedMutator.WAIT_MILLIS ) ; } lastOperationChange = java.lang.System . currentTimeMillis () ; pendingOperationsWithSize . put ( zsoasmeayhhsuxaerhkc , heapSize ) ; currentWriteBufferSize += heapSize ; return zsoasmeayhhsuxaerhkc ; } <s> Merge pull request #322 from sduskis/add_bm_threadpool  Fixing some issues with BufferedMutator
fix_before_refactoring: private synchronized long registerOperationWithHeapSize ( long heapSize ) throws java.lang.InterruptedException { long operationId = ++ ( operationSequenceGenerator ) ; while ( ( ( currentWriteBufferSize ) >= ( maxHeapSize ) ) || ( ( pendingOperationsWithSize . size () ) >= ( maxInFlightRpcs ) ) ) { wait ( com.google.cloud.bigtable.hbase.BigtableBufferedMutator.WAIT_MILLIS ) ; } lastOperationChange = java.lang.System . currentTimeMillis () ; pendingOperationsWithSize . put ( operationId , heapSize ) ; currentWriteBufferSize += heapSize ; return operationId ; }
fix_after_refactoring: private synchronized long registerOperationWithHeapSize ( long heapSize ) throws java.lang.InterruptedException { long zsoasmeayhhsuxaerhkc = ++ ( operationSequenceGenerator ) ; while ( ( ( currentWriteBufferSize ) >= ( maxHeapSize ) ) || ( ( pendingOperationsWithSize . size () ) >= ( maxInFlightRpcs ) ) ) { wait ( com.google.cloud.bigtable.hbase.BigtableBufferedMutator.WAIT_MILLIS ) ; } lastOperationChange = java.lang.System . currentTimeMillis () ; pendingOperationsWithSize . put ( zsoasmeayhhsuxaerhkc , heapSize ) ; currentWriteBufferSize += heapSize ; return zsoasmeayhhsuxaerhkc ; }
√ fix_prediction_before: private synchronized long registerOperationWithHeapSize ( long heapSize ) throws java.lang.InterruptedException { long operationId = ++ ( operationSequenceGenerator ) ; while ( ( ( currentWriteBufferSize ) >= ( maxHeapSize ) ) || ( ( pendingOperationsWithSize . size () ) >= ( maxInFlightRpcs ) ) ) { wait ( com.google.cloud.bigtable.hbase.BigtableBufferedMutator.WAIT_MILLIS ) ; } lastOperationChange = java.lang.System . currentTimeMillis () ; pendingOperationsWithSize . put ( operationId , heapSize ) ; currentWriteBufferSize += heapSize ; return operationId ; }
× fix_prediction_after: public synchronized long registerOperationWithHeapSize ( long heapSize ) throws java.lang.InterruptedException { synchronized ( pendingOperationsWithSize ) { long zsoasmeayhhsuxaerhkc = ++ ( operationSequenceGenerator ) ; while ( ( ( currentWriteBufferSize ) >= ( maxHeapSize ) ) || ( ( pendingOperationsWithSize . size () ) >= ( maxInFlightRpcs ) ) ) { wait ( com.google.cloud.bigtable.hbase.BigtableBufferedMutator.WAIT_MILLIS ) ; } lastOperationChange = java.lang.System . currentTimeMillis () ; pendingOperationsWithSize . put ( zsoasmeayhhsuxaerhkc , heapSize ) ; currentWriteBufferSize += heapSize ; return zsoasmeayhhsuxaerhkc ; } }

line_index: 762
bug_before_refactoring: { long currentWithoutPostZone = postTz . convertLocalToUTC ( time , true ) ; long local = preTz . convertUTCToLocal ( currentWithoutPostZone ) ; long nextLocal = durationField . add ( local , 1 ) ; return postTz . convertUTCToLocal ( preTz . convertLocalToUTC ( nextLocal , true ) ) ; } <s> @ java.lang.Override public long nextRoundingValue ( long time ) { long currentWithoutPostZone = postTz . convertLocalToUTC ( time , true ) ; long local = preTz . convertUTCToLocal ( currentWithoutPostZone ) ; long nextLocal = durationField . add ( local , 1 ) ; return postTz . convertUTCToLocal ( preTz . convertLocalToUTC ( nextLocal , true ) ) ; } <s> Aggregations: Be lenient when converting local to utc time in time zone roundings  This solves a problem in the time zone rounding classes where time dates that fall into a DST gap will cause joda time library to throw an exception. Changing the conversion methods 'strict' option to false prevents this.  Closes #10025
bug_after_refactoring: { long xtxlrfiidrehyzqdhhrs = postTz . convertLocalToUTC ( time , true ) ; long ndaagwtmqtxnkkslmqkq = preTz . convertUTCToLocal ( xtxlrfiidrehyzqdhhrs ) ; long vqcytdgrtslbeuseyelg = durationField . add ( ndaagwtmqtxnkkslmqkq , 1 ) ; return postTz . convertUTCToLocal ( preTz . convertLocalToUTC ( vqcytdgrtslbeuseyelg , true ) ) ; } <s> @ java.lang.Override public long nextRoundingValue ( long time ) { long xtxlrfiidrehyzqdhhrs = postTz . convertLocalToUTC ( time , true ) ; long ndaagwtmqtxnkkslmqkq = preTz . convertUTCToLocal ( xtxlrfiidrehyzqdhhrs ) ; long vqcytdgrtslbeuseyelg = durationField . add ( ndaagwtmqtxnkkslmqkq , 1 ) ; return postTz . convertUTCToLocal ( preTz . convertLocalToUTC ( vqcytdgrtslbeuseyelg , true ) ) ; } <s> Aggregations: Be lenient when converting local to utc time in time zone roundings  This solves a problem in the time zone rounding classes where time dates that fall into a DST gap will cause joda time library to throw an exception. Changing the conversion methods 'strict' option to false prevents this.  Closes #10025
fix_before_refactoring: { long currentWithoutPostZone = postTz . convertLocalToUTC ( time , false ) ; long local = preTz . convertUTCToLocal ( currentWithoutPostZone ) ; long nextLocal = durationField . add ( local , 1 ) ; return postTz . convertUTCToLocal ( preTz . convertLocalToUTC ( nextLocal , false ) ) ; }
fix_after_refactoring: { long xtxlrfiidrehyzqdhhrs = postTz . convertLocalToUTC ( time , false ) ; long ndaagwtmqtxnkkslmqkq = preTz . convertUTCToLocal ( xtxlrfiidrehyzqdhhrs ) ; long vqcytdgrtslbeuseyelg = durationField . add ( ndaagwtmqtxnkkslmqkq , 1 ) ; return postTz . convertUTCToLocal ( preTz . convertLocalToUTC ( vqcytdgrtslbeuseyelg , false ) ) ; }
√ fix_prediction_before: { long currentWithoutPostZone = postTz . convertLocalToUTC ( time , false ) ; long local = preTz . convertUTCToLocal ( currentWithoutPostZone ) ; long nextLocal = durationField . add ( local , 1 ) ; return postTz . convertUTCToLocal ( preTz . convertLocalToUTC ( nextLocal , false ) ) ; }
× fix_prediction_after: { if ( time < 0 ) { return - 1 ; } long xtxlrfiidrehyzqdhhrs = postTz . convertLocalToUTC ( time , true ) ; long ndaagwtmqtxnkkslmqkq = preTz . convertUTCToLocal ( xtxlrfiidrehyzqdhhrs ) ; long vqcytdgrtslbeuseyelg = durationField . add ( ndaagwtmqtxnkkslmqkq , 1 ) ; return postTz . convertUTCToLocal ( preTz . convertLocalToUTC ( vqcytdgrtslbeuseyelg , true ) ) ; }

line_index: 763
bug_before_refactoring: if ( hasAtom ) { this . atom = serializer . deserializeFromSSTable ( dis , ColumnSerializer.Flag.PRESERVE_SIZE , java.lang.Integer.MIN_VALUE , version ) ; } <s> @ java.lang.Override public void readFields ( java.io.DataInput dis ) throws java.io.IOException { int length = dis . readInt () ; byte [] bytes = new byte [ length ] ; dis . readFully ( bytes ) ; this . key = bytes ; this . deletedAt = dis . readLong () ; boolean hasAtom = dis . readBoolean () ; if ( hasAtom ) { this . atom = serializer . deserializeFromSSTable ( dis , ColumnSerializer.Flag.PRESERVE_SIZE , java.lang.Integer.MIN_VALUE , version ) ; } } <s> Fix for an error when processing deleted items.
bug_after_refactoring: if ( cunavraybvyfdeemfpqr ) { this . atom = serializer . deserializeFromSSTable ( dis , ColumnSerializer.Flag.PRESERVE_SIZE , java.lang.Integer.MIN_VALUE , version ) ; } <s> @ java.lang.Override public void readFields ( java.io.DataInput dis ) throws java.io.IOException { int length = dis . readInt () ; byte [] bytes = new byte [ length ] ; dis . readFully ( bytes ) ; this . key = bytes ; this . deletedAt = dis . readLong () ; boolean hasAtom = dis . readBoolean () ; if ( cunavraybvyfdeemfpqr ) { this . atom = serializer . deserializeFromSSTable ( dis , ColumnSerializer.Flag.PRESERVE_SIZE , java.lang.Integer.MIN_VALUE , version ) ; } } <s> Fix for an error when processing deleted items.
fix_before_refactoring: if ( hasAtom ) { this . atom = serializer . deserializeFromSSTable ( dis , ColumnSerializer.Flag.PRESERVE_SIZE , java.lang.Integer.MIN_VALUE , version ) ; } else { this . atom = null ; }
fix_after_refactoring: if ( cunavraybvyfdeemfpqr ) { this . atom = serializer . deserializeFromSSTable ( dis , ColumnSerializer.Flag.PRESERVE_SIZE , java.lang.Integer.MIN_VALUE , version ) ; } else { this . atom = null ; }
√ fix_prediction_before: if ( hasAtom ) { this . atom = serializer . deserializeFromSSTable ( dis , ColumnSerializer.Flag.PRESERVE_SIZE , java.lang.Integer.MIN_VALUE , version ) ; } else { this . atom = null ; }
× fix_prediction_after: if ( hasAtom ) { this . atom = serializer . deserializeFromSSTable ( dis , ColumnSerializer.Flag.PRESERVE_SIZE , java.lang.Integer.MIN_VALUE , version ) ; }

line_index: 764
bug_before_refactoring: { android.os.Bundle b = getIntent () . getExtras () ; if ( ( org.bottiger.podcast.activities.feedview.FeedActivity.mFuckItHack ) != null ) b = org.bottiger.podcast.activities.feedview.FeedActivity.mFuckItHack ; boolean isSlim = b . getBoolean ( org.bottiger.podcast.activities.feedview.FeedActivity.FEED_ACTIVITY_IS_SLIM ) ; java.lang.String url = b . getString ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_URL_KEY ) ; if ( isSlim ) { mSubscription = b . < org.bottiger.podcast.provider.SlimImplementations.SlimSubscription > getParcelable ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_SLIM_KEY ) ; mIsSlimSubscription = true ; } else { mSubscription = org.bottiger.podcast.SoundWaves . getLibraryInstance () . getSubscription ( url ) ; mIsSlimSubscription = false ; } } <s> private void processIntent () { android.os.Bundle b = getIntent () . getExtras () ; if ( ( org.bottiger.podcast.activities.feedview.FeedActivity.mFuckItHack ) != null ) b = org.bottiger.podcast.activities.feedview.FeedActivity.mFuckItHack ; boolean isSlim = b . getBoolean ( org.bottiger.podcast.activities.feedview.FeedActivity.FEED_ACTIVITY_IS_SLIM ) ; java.lang.String url = b . getString ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_URL_KEY ) ; if ( isSlim ) { mSubscription = b . < org.bottiger.podcast.provider.SlimImplementations.SlimSubscription > getParcelable ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_SLIM_KEY ) ; mIsSlimSubscription = true ; } else { mSubscription = org.bottiger.podcast.SoundWaves . getLibraryInstance () . getSubscription ( url ) ; mIsSlimSubscription = false ; } } <s> Fixed some bugs  hacks and crashes
bug_after_refactoring: { android.os.Bundle b = getIntent () . getExtras () ; if ( ( org.bottiger.podcast.activities.feedview.FeedActivity.mFuckItHack ) != null ) b = org.bottiger.podcast.activities.feedview.FeedActivity.mFuckItHack ; boolean vpxudwjtourncmuzhizx = b . getBoolean ( org.bottiger.podcast.activities.feedview.FeedActivity.FEED_ACTIVITY_IS_SLIM ) ; java.lang.String url = b . getString ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_URL_KEY ) ; if ( vpxudwjtourncmuzhizx ) { mSubscription = b . < org.bottiger.podcast.provider.SlimImplementations.SlimSubscription > getParcelable ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_SLIM_KEY ) ; mIsSlimSubscription = true ; } else { mSubscription = org.bottiger.podcast.SoundWaves . getLibraryInstance () . getSubscription ( url ) ; mIsSlimSubscription = false ; } } <s> private void processIntent () { android.os.Bundle b = getIntent () . getExtras () ; if ( ( org.bottiger.podcast.activities.feedview.FeedActivity.mFuckItHack ) != null ) b = org.bottiger.podcast.activities.feedview.FeedActivity.mFuckItHack ; boolean vpxudwjtourncmuzhizx = b . getBoolean ( org.bottiger.podcast.activities.feedview.FeedActivity.FEED_ACTIVITY_IS_SLIM ) ; java.lang.String url = b . getString ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_URL_KEY ) ; if ( vpxudwjtourncmuzhizx ) { mSubscription = b . < org.bottiger.podcast.provider.SlimImplementations.SlimSubscription > getParcelable ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_SLIM_KEY ) ; mIsSlimSubscription = true ; } else { mSubscription = org.bottiger.podcast.SoundWaves . getLibraryInstance () . getSubscription ( url ) ; mIsSlimSubscription = false ; } } <s> Fixed some bugs  hacks and crashes
fix_before_refactoring: { android.os.Bundle b = getIntent () . getExtras () ; boolean isSlim = b . getBoolean ( org.bottiger.podcast.activities.feedview.FeedActivity.FEED_ACTIVITY_IS_SLIM ) ; java.lang.String url = b . getString ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_URL_KEY ) ; if ( isSlim ) { mSubscription = b . < org.bottiger.podcast.provider.SlimImplementations.SlimSubscription > getParcelable ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_SLIM_KEY ) ; mIsSlimSubscription = true ; } else { mSubscription = org.bottiger.podcast.SoundWaves . getLibraryInstance () . getSubscription ( url ) ; mIsSlimSubscription = false ; } }
fix_after_refactoring: { android.os.Bundle b = getIntent () . getExtras () ; boolean vpxudwjtourncmuzhizx = b . getBoolean ( org.bottiger.podcast.activities.feedview.FeedActivity.FEED_ACTIVITY_IS_SLIM ) ; java.lang.String url = b . getString ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_URL_KEY ) ; if ( vpxudwjtourncmuzhizx ) { mSubscription = b . < org.bottiger.podcast.provider.SlimImplementations.SlimSubscription > getParcelable ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_SLIM_KEY ) ; mIsSlimSubscription = true ; } else { mSubscription = org.bottiger.podcast.SoundWaves . getLibraryInstance () . getSubscription ( url ) ; mIsSlimSubscription = false ; } }
√ fix_prediction_before: { android.os.Bundle b = getIntent () . getExtras () ; boolean isSlim = b . getBoolean ( org.bottiger.podcast.activities.feedview.FeedActivity.FEED_ACTIVITY_IS_SLIM ) ; java.lang.String url = b . getString ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_URL_KEY ) ; if ( isSlim ) { mSubscription = b . < org.bottiger.podcast.provider.SlimImplementations.SlimSubscription > getParcelable ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_SLIM_KEY ) ; mIsSlimSubscription = true ; } else { mSubscription = org.bottiger.podcast.SoundWaves . getLibraryInstance () . getSubscription ( url ) ; mIsSlimSubscription = false ; } }
× fix_prediction_after: { android.os.Bundle b = getIntent () . getExtras () ; if ( b == null ) return; boolean vpxudwjtourncmuzhizx = b . getBoolean ( org.bottiger.podcast.activities.feedview.FeedActivity.FEED_ACTIVITY_IS_SLIM ) ; java.lang.String url = b . getString ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_URL_KEY ) ; if ( vpxudwjtourncmuzhizx ) { mSubscription = b . < org.bottiger.podcast.provider.SlimImplementations.SlimSubscription > getParcelable ( org.bottiger.podcast.activities.feedview.FeedActivity.SUBSCRIPTION_SLIM_KEY ) ; mIsSlimSubscription = true ; } else { mSubscription = org.bottiger.podcast.SoundWaves . getLibraryInstance () . getSubscription ( url ) ; mIsSlimSubscription = false ; } }

line_index: 774
bug_before_refactoring: { java.util.Scanner scanner = new java.util.Scanner ( java.lang.System.in ) ; java.lang.System.out . println ( ( "This program will ask you for a number, and will then" + " tell you if it is even or odd" ) ) ; int evenCheck ; java.lang.System.out . println ( "Enter a number:" ) ; int evenNum = scanner . nextInt () ; evenCheck = evenNum % 2 ; if ( evenCheck == 0 ) { java.lang.System.out . println ( "Even" ) ; } else { java.lang.System.out . println ( "Odd" ) ; } java.lang.System.out . println ( "" ) ; scanner . close () ; } <s> public static void findEvenOrOdd () { java.util.Scanner scanner = new java.util.Scanner ( java.lang.System.in ) ; java.lang.System.out . println ( ( "This program will ask you for a number, and will then" + " tell you if it is even or odd" ) ) ; int evenCheck ; java.lang.System.out . println ( "Enter a number:" ) ; int evenNum = scanner . nextInt () ; evenCheck = evenNum % 2 ; if ( evenCheck == 0 ) { java.lang.System.out . println ( "Even" ) ; } else { java.lang.System.out . println ( "Odd" ) ; } java.lang.System.out . println ( "" ) ; scanner . close () ; } <s> Finished user menu  fixed bugs with scanners  fixed formatting for some programs
bug_after_refactoring: { java.util.Scanner scanner = new java.util.Scanner ( java.lang.System.in ) ; java.lang.System.out . println ( ( "This program will ask you for a number, and will then" + " tell you if it is even or odd" ) ) ; int tyuwqmlmlxbvyhkmdgzb ; java.lang.System.out . println ( "Enter a number:" ) ; int uymeslcdngnuhnxheajl = scanner . nextInt () ; tyuwqmlmlxbvyhkmdgzb = uymeslcdngnuhnxheajl % 2 ; if ( tyuwqmlmlxbvyhkmdgzb == 0 ) { java.lang.System.out . println ( "Even" ) ; } else { java.lang.System.out . println ( "Odd" ) ; } java.lang.System.out . println ( "" ) ; scanner . close () ; } <s> public static void findEvenOrOdd () { java.util.Scanner scanner = new java.util.Scanner ( java.lang.System.in ) ; java.lang.System.out . println ( ( "This program will ask you for a number, and will then" + " tell you if it is even or odd" ) ) ; int tyuwqmlmlxbvyhkmdgzb ; java.lang.System.out . println ( "Enter a number:" ) ; int uymeslcdngnuhnxheajl = scanner . nextInt () ; tyuwqmlmlxbvyhkmdgzb = uymeslcdngnuhnxheajl % 2 ; if ( tyuwqmlmlxbvyhkmdgzb == 0 ) { java.lang.System.out . println ( "Even" ) ; } else { java.lang.System.out . println ( "Odd" ) ; } java.lang.System.out . println ( "" ) ; scanner . close () ; } <s> Finished user menu  fixed bugs with scanners  fixed formatting for some programs
fix_before_refactoring: { java.util.Scanner scanner = new java.util.Scanner ( java.lang.System.in ) ; java.lang.System.out . println ( ( "This program will ask you for a number, and will then" + " tell you if it is even or odd" ) ) ; int evenCheck ; java.lang.System.out . println ( "Enter a number:" ) ; int evenNum = scanner . nextInt () ; evenCheck = evenNum % 2 ; if ( evenCheck == 0 ) { java.lang.System.out . println ( "Even" ) ; } else { java.lang.System.out . println ( "Odd" ) ; } java.lang.System.out . println ( "" ) ; }
fix_after_refactoring: { java.util.Scanner scanner = new java.util.Scanner ( java.lang.System.in ) ; java.lang.System.out . println ( ( "This program will ask you for a number, and will then" + " tell you if it is even or odd" ) ) ; int tyuwqmlmlxbvyhkmdgzb ; java.lang.System.out . println ( "Enter a number:" ) ; int uymeslcdngnuhnxheajl = scanner . nextInt () ; tyuwqmlmlxbvyhkmdgzb = uymeslcdngnuhnxheajl % 2 ; if ( tyuwqmlmlxbvyhkmdgzb == 0 ) { java.lang.System.out . println ( "Even" ) ; } else { java.lang.System.out . println ( "Odd" ) ; } java.lang.System.out . println ( "" ) ; }
√ fix_prediction_before: { java.util.Scanner scanner = new java.util.Scanner ( java.lang.System.in ) ; java.lang.System.out . println ( ( "This program will ask you for a number, and will then" + " tell you if it is even or odd" ) ) ; int evenCheck ; java.lang.System.out . println ( "Enter a number:" ) ; int evenNum = scanner . nextInt () ; evenCheck = evenNum % 2 ; if ( evenCheck == 0 ) { java.lang.System.out . println ( "Even" ) ; } else { java.lang.System.out . println ( "Odd" ) ; } java.lang.System.out . println ( "" ) ; }
× fix_prediction_after: { java.util.Scanner scanner = new java.util.Scanner ( java.lang.System.in ) ; java.lang.System.out . println ( ( "This program will ask you for a number, and will then" + " tell you if it is even or odd" ) ) ; int tyuwqmlmlxbvyhkmdgzb ; java.lang.System.out . println ( "Enter a number:" ) ; int uymeslcdngnuhnxheajl = scanner . nextInt () ; tyuwqmlxbvyhkmdgzb = uymeslcdngnuhnxheajl % 2 ; if ( tyuwqmlxbvyhkmdgzb == 0 ) { java.lang.System.out . println ( "Even" ) ; } else { java.lang.System.out . println ( "Odd" ) ; } java.lang.System.out . println ( "" ) ; }

line_index: 781
bug_before_refactoring: { int [] res = new int [ arr . length () ] ; for ( int i = 0 ; i < ( arr . length () ) ; i ++ ) { res [ i ] = arr . optInt ( i ) ; } return res ; } <s> public static int [] parseIntArray ( org.json.JSONArray arr ) { int [] res = new int [ arr . length () ] ; for ( int i = 0 ; i < ( arr . length () ) ; i ++ ) { res [ i ] = arr . optInt ( i ) ; } return res ; } <s> fix network error
bug_after_refactoring: { int [] mqmuiixzeabsiyzdzjxa = new int [ arr . length () ] ; for ( int i = 0 ; i < ( arr . length () ) ; i ++ ) { mqmuiixzeabsiyzdzjxa [ i ] = arr . optInt ( i ) ; } return mqmuiixzeabsiyzdzjxa ; } <s> public static int [] parseIntArray ( org.json.JSONArray arr ) { int [] mqmuiixzeabsiyzdzjxa = new int [ arr . length () ] ; for ( int i = 0 ; i < ( arr . length () ) ; i ++ ) { mqmuiixzeabsiyzdzjxa [ i ] = arr . optInt ( i ) ; } return mqmuiixzeabsiyzdzjxa ; } <s> fix network error
fix_before_refactoring: { if ( arr == null ) return null ; int [] res = new int [ arr . length () ] ; for ( int i = 0 ; i < ( arr . length () ) ; i ++ ) { res [ i ] = arr . optInt ( i ) ; } return res ; }
fix_after_refactoring: { if ( arr == null ) return null ; int [] mqmuiixzeabsiyzdzjxa = new int [ arr . length () ] ; for ( int i = 0 ; i < ( arr . length () ) ; i ++ ) { mqmuiixzeabsiyzdzjxa [ i ] = arr . optInt ( i ) ; } return mqmuiixzeabsiyzdzjxa ; }
√ fix_prediction_before: { if ( arr == null ) return null ; int [] res = new int [ arr . length () ] ; for ( int i = 0 ; i < ( arr . length () ) ; i ++ ) { res [ i ] = arr . optInt ( i ) ; } return res ; }
× fix_prediction_after: { if ( arr == null ) return new int [] {} ; int []mqmuiixzeabsiyzdzjxa = new int [ arr . length () ] ; for ( int i = 0 ; i < ( arr . length () ) ; i ++ ) {mqmuiixzeabsiyzdzjxa [ i ] = arr . optInt ( i ) ; } returnmqmuiixzeabsiyzdzjxa ; }

line_index: 833
bug_before_refactoring: ( asciiCount [ i ] ) > 0 <s> public boolean isEveryCharacterUniqueUsingHistogram () { int [] asciiCount = new int [ 128 ] ; for ( int i = 0 ; i < ( string . length () ) ; i ++ ) { ( asciiCount [ string . charAt ( i ) ] ) ++ ; } for ( int i = 0 ; i < ( asciiCount.length ) ; i ++ ) { if ( ( asciiCount [ i ] ) > 0 ) { return false ; } } return true ; } <s> Fixing a bug
bug_after_refactoring: ( usujkxeuwmyegwqnjhrs [ i ] ) > 0 <s> public boolean isEveryCharacterUniqueUsingHistogram () { int [] asciiCount = new int [ 128 ] ; for ( int i = 0 ; i < ( string . length () ) ; i ++ ) { ( asciiCount [ string . charAt ( i ) ] ) ++ ; } for ( int i = 0 ; i < ( asciiCount.length ) ; i ++ ) { if ( ( usujkxeuwmyegwqnjhrs [ i ] ) > 0 ) { return false ; } } return true ; } <s> Fixing a bug
fix_before_refactoring: ( asciiCount [ i ] ) > 1
fix_after_refactoring: ( usujkxeuwmyegwqnjhrs [ i ] ) > 1
√ fix_prediction_before: ( asciiCount [ i ] ) > 1
× fix_prediction_after: i > 0

line_index: 846
bug_before_refactoring: row = me - ms <s> public io.lambdacloud.util.ObjectArray set ( int ms , int me , int [] aryn , io.lambdacloud.util.ObjectArray ary ) { int row = me - ms ; int col = aryn.length ; for ( int i = 0 ; i < row ; i ++ ) for ( int j = 0 ; j < col ; j ++ ) { data [ ( ms + i ) ] [ aryn [ j ] ] = ary.data [ i ] [ j ] ; } return this ; } <s> Bugfix for index
bug_after_refactoring: cckiphuojpnkjederzsr = me - ms <s> public io.lambdacloud.util.ObjectArray set ( int ms , int me , int [] aryn , io.lambdacloud.util.ObjectArray ary ) { int cckiphuojpnkjederzsr = me - ms ; int col = aryn.length ; for ( int i = 0 ; i < row ; i ++ ) for ( int j = 0 ; j < col ; j ++ ) { data [ ( ms + i ) ] [ aryn [ j ] ] = ary.data [ i ] [ j ] ; } return this ; } <s> Bugfix for index
fix_before_refactoring: row = ( me - ms ) + 1
fix_after_refactoring: cckiphuojpnkjederzsr = ( me - ms ) + 1
√ fix_prediction_before: row = ( me - ms ) + 1
× fix_prediction_after: cckiphuojpnkjederzsr = me + ms

line_index: 864
bug_before_refactoring: if ( buildValue1 > buildValue2 ) { java.lang.System.out . print ( "Player 1 wins" ) ; } else if ( buildValue1 == buildValue2 ) { week1Problems.P6 . compareHigh ( x , y ) ; } else { java.lang.System.out . print ( "Player 2 wins" ) ; } <s> private static void compareHands ( java.util.List < java.lang.Integer > x , java.util.List < java.lang.Integer > y , boolean [] a , boolean [] b ) { int buildValue1 = week1Problems.P6 . findValue ( a ) ; int buildValue2 = week1Problems.P6 . findValue ( b ) ; if ( buildValue1 > buildValue2 ) { java.lang.System.out . print ( "Player 1 wins" ) ; } else if ( buildValue1 == buildValue2 ) { week1Problems.P6 . compareHigh ( x , y ) ; } else { java.lang.System.out . print ( "Player 2 wins" ) ; } } <s> Solved basic problem. Started solving for adding player 3
bug_after_refactoring: if ( xajeishrhjmdozwabghv > cxvthfwokdvbxlptdxpz ) { java.lang.System.out . print ( "Player 1 wins" ) ; } else if ( xajeishrhjmdozwabghv == cxvthfwokdvbxlptdxpz ) { week1Problems.P6 . compareHigh ( x , y ) ; } else { java.lang.System.out . print ( "Player 2 wins" ) ; } <s> private static void compareHands ( java.util.List < java.lang.Integer > x , java.util.List < java.lang.Integer > y , boolean [] a , boolean [] b ) { int buildValue1 = week1Problems.P6 . findValue ( a ) ; int buildValue2 = week1Problems.P6 . findValue ( b ) ; if ( xajeishrhjmdozwabghv > cxvthfwokdvbxlptdxpz ) { java.lang.System.out . print ( "Player 1 wins" ) ; } else if ( xajeishrhjmdozwabghv == cxvthfwokdvbxlptdxpz ) { week1Problems.P6 . compareHigh ( x , y ) ; } else { java.lang.System.out . print ( "Player 2 wins" ) ; } } <s> Solved basic problem. Started solving for adding player 3
fix_before_refactoring: if ( buildValue1 > buildValue2 ) { java.lang.System.out . println ( "Player 1 wins" ) ; } else if ( buildValue1 == buildValue2 ) { week1Problems.P6 . compareHigh ( x , y ) ; } else { java.lang.System.out . println ( "Player 2 wins" ) ; }
fix_after_refactoring: if ( xajeishrhjmdozwabghv > cxvthfwokdvbxlptdxpz ) { java.lang.System.out . println ( "Player 1 wins" ) ; } else if ( xajeishrhjmdozwabghv == cxvthfwokdvbxlptdxpz ) { week1Problems.P6 . compareHigh ( x , y ) ; } else { java.lang.System.out . println ( "Player 2 wins" ) ; }
√ fix_prediction_before: if ( buildValue1 > buildValue2 ) { java.lang.System.out . println ( "Player 1 wins" ) ; } else if ( buildValue1 == buildValue2 ) { week1Problems.P6 . compareHigh ( x , y ) ; } else { java.lang.System.out . println ( "Player 2 wins" ) ; }
× fix_prediction_after: if ( xajeishrhjmdozwabghv > cxvthfwokdvbxlptdxpz ) { java.lang.System.out . print ( "Player 1 wins" ) ; } else if ( xajeishrhjmdozwabghv == cxvthfwokdvbxlptdxpz ) { week1Problems.P6 . compareHigh ( x , y ) ; } else { java.lang.System.out . print ( "Player 2 wins" ) ; }

line_index: 865
bug_before_refactoring: { if ( keepCurrent ) { newSpeak += java.lang.String . valueOf ( word . charAt ( i ) ) ; keepCurrent = false ; } else { keepCurrent = true ; } } <s> public static java.lang.String omitEveryOther ( java.lang.String word ) { boolean keepCurrent = true ; int i = 0 ; java.lang.String newSpeak = "" ; while ( i < ( word . length () ) ) { if ( keepCurrent ) { newSpeak += java.lang.String . valueOf ( word . charAt ( i ) ) ; keepCurrent = false ; } else { keepCurrent = true ; } } return newSpeak ; } <s> Forgot to increment counter in both problem 6 & 7. Fixed that as well as issue in 7th that was causing it to print numbers even if number input was less than 5.
bug_after_refactoring: { if ( rgefoxnmidrkfuhauerw ) { newSpeak += java.lang.String . valueOf ( word . charAt ( kilhbsyhzjcexwkvovtx ) ) ; rgefoxnmidrkfuhauerw = false ; } else { rgefoxnmidrkfuhauerw = true ; } } <s> public static java.lang.String omitEveryOther ( java.lang.String word ) { boolean keepCurrent = true ; int i = 0 ; java.lang.String newSpeak = "" ; while ( i < ( word . length () ) ) { if ( rgefoxnmidrkfuhauerw ) { newSpeak += java.lang.String . valueOf ( word . charAt ( kilhbsyhzjcexwkvovtx ) ) ; rgefoxnmidrkfuhauerw = false ; } else { rgefoxnmidrkfuhauerw = true ; } } return newSpeak ; } <s> Forgot to increment counter in both problem 6 & 7. Fixed that as well as issue in 7th that was causing it to print numbers even if number input was less than 5.
fix_before_refactoring: { if ( keepCurrent ) { newSpeak += java.lang.String . valueOf ( word . charAt ( i ) ) ; keepCurrent = false ; } else { keepCurrent = true ; } i ++ ; }
fix_after_refactoring: { if ( rgefoxnmidrkfuhauerw ) { newSpeak += java.lang.String . valueOf ( word . charAt ( kilhbsyhzjcexwkvovtx ) ) ; rgefoxnmidrkfuhauerw = false ; } else { rgefoxnmidrkfuhauerw = true ; } kilhbsyhzjcexwkvovtx ++ ; }
√ fix_prediction_before: { if ( keepCurrent ) { newSpeak += java.lang.String . valueOf ( word . charAt ( i ) ) ; keepCurrent = false ; } else { keepCurrent = true ; } i ++ ; }
× fix_prediction_after: { if ( rgefoxnmidrkfuhauerw ) { newSpeak += java.lang.String . valueOf ( word . charAt ( kilhbsyhzjcexwkvovtx ) ) ; rgefoxnmidrkfuhauerw = false ; } else { rgefoxnmidrkfuhauerw = true ; } i ++ ; }

line_index: 868
bug_before_refactoring: { boolean assert_ = false ; try { spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( "test.int1" ) ; } catch ( java.lang.IllegalArgumentException e ) { spreadsheet.mapper.utils.FieldUtilsTest.LOGGER . debug ( "\'test.int1\' not business key" ) ; if ( e . getMessage () . contains ( "business key" ) ) { assert_ = true ; } } org.testng.Assert . assertTrue ( assert_ ) ; java.lang.String s = spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( ( ( FieldUtils.BUSINESS_KEY_PREFIX ) + "test.int1" ) ) ; org.testng.Assert . assertEquals ( s , "test.int1" ) ; } <s> @ org.testng.annotations.Test public void testSubtractBusinessKey ( ) throws java.lang.Exception { boolean assert_ = false ; try { spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( "test.int1" ) ; } catch ( java.lang.IllegalArgumentException e ) { spreadsheet.mapper.utils.FieldUtilsTest.LOGGER . debug ( "\'test.int1\' not business key" ) ; if ( e . getMessage () . contains ( "business key" ) ) { assert_ = true ; } } org.testng.Assert . assertTrue ( assert_ ) ; java.lang.String s = spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( ( ( FieldUtils.BUSINESS_KEY_PREFIX ) + "test.int1" ) ) ; org.testng.Assert . assertEquals ( s , "test.int1" ) ; } <s> fix field utils problem
bug_after_refactoring: { boolean hcpofyrabifpypphgpkd = false ; try { spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( "test.int1" ) ; } catch ( java.lang.IllegalArgumentException e ) { spreadsheet.mapper.utils.FieldUtilsTest.LOGGER . debug ( "\'test.int1\' not business key" ) ; if ( e . getMessage () . contains ( "business key" ) ) { hcpofyrabifpypphgpkd = true ; } } org.testng.Assert . assertTrue ( hcpofyrabifpypphgpkd ) ; java.lang.String s = spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( ( ( FieldUtils.BUSINESS_KEY_PREFIX ) + "test.int1" ) ) ; org.testng.Assert . assertEquals ( s , "test.int1" ) ; } <s> @ org.testng.annotations.Test public void testSubtractBusinessKey ( ) throws java.lang.Exception { boolean hcpofyrabifpypphgpkd = false ; try { spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( "test.int1" ) ; } catch ( java.lang.IllegalArgumentException e ) { spreadsheet.mapper.utils.FieldUtilsTest.LOGGER . debug ( "\'test.int1\' not business key" ) ; if ( e . getMessage () . contains ( "business key" ) ) { hcpofyrabifpypphgpkd = true ; } } org.testng.Assert . assertTrue ( hcpofyrabifpypphgpkd ) ; java.lang.String s = spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( ( ( FieldUtils.BUSINESS_KEY_PREFIX ) + "test.int1" ) ) ; org.testng.Assert . assertEquals ( s , "test.int1" ) ; } <s> fix field utils problem
fix_before_refactoring: { boolean assert_ = false ; try { spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( "test.int1" ) ; } catch ( java.lang.IllegalArgumentException e ) { spreadsheet.mapper.utils.FieldUtilsTest.LOGGER . debug ( "\'test.int1\' not business key" ) ; if ( e . getMessage () . contains ( "business key" ) ) { assert_ = true ; } } assertTrue ( assert_ ) ; java.lang.String s = spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( ( ( FieldUtils.BUSINESS_KEY_PREFIX ) + "test.int1" ) ) ; assertEquals ( s , "test.int1" ) ; }
fix_after_refactoring: { boolean hcpofyrabifpypphgpkd = false ; try { spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( "test.int1" ) ; } catch ( java.lang.IllegalArgumentException e ) { spreadsheet.mapper.utils.FieldUtilsTest.LOGGER . debug ( "\'test.int1\' not business key" ) ; if ( e . getMessage () . contains ( "business key" ) ) { hcpofyrabifpypphgpkd = true ; } } assertTrue ( hcpofyrabifpypphgpkd ) ; java.lang.String s = spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( ( ( FieldUtils.BUSINESS_KEY_PREFIX ) + "test.int1" ) ) ; assertEquals ( s , "test.int1" ) ; }
√ fix_prediction_before: { boolean assert_ = false ; try { spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( "test.int1" ) ; } catch ( java.lang.IllegalArgumentException e ) { spreadsheet.mapper.utils.FieldUtilsTest.LOGGER . debug ( "\'test.int1\' not business key" ) ; if ( e . getMessage () . contains ( "business key" ) ) { assert_ = true ; } } assertTrue ( assert_ ) ; java.lang.String s = spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( ( ( FieldUtils.BUSINESS_KEY_PREFIX ) + "test.int1" ) ) ; assertEquals ( s , "test.int1" ) ; }
× fix_prediction_after: { boolean hcpofyrabifpypphgpkd = false ; try { spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( "test.int1" ) ; } catch ( java.lang.IllegalArgumentException e ) { spreadsheet.mapper.utils.FieldUtilsTest.LOGGER . debug ( "\'test.int1\' not business key" ) ; if ( e . getMessage () . contains ( "business key" ) ) { hcpofyrabifpypphgpkd = true ; } } java.lang.String s = spreadsheet.mapper.utils.FieldUtils . subtractBusinessKey ( ( ( FieldUtils.BUSINESS_KEY_PREFIX ) + "test.int1" ) ) ; org.testng.Assert . assertEquals ( s , "test.int1" ) ; }

line_index: 877
bug_before_refactoring: { clients [ index ] . write ( data ) ; if ( clients [ index ] . active () ) { index ++ ; } else { removeIndex ( index ) ; } } <s> public void write ( int data ) { int index = 0 ; while ( index < ( clientCount ) ) { clients [ index ] . write ( data ) ; if ( clients [ index ] . active () ) { index ++ ; } else { removeIndex ( index ) ; } } } <s> Fixes NPE when writing to disconnected client  Issue #2577
bug_after_refactoring: { clients [ mvvsmegpxagwgsaqlour ] . write ( data ) ; if ( clients [ mvvsmegpxagwgsaqlour ] . active () ) { mvvsmegpxagwgsaqlour ++ ; } else { removeIndex ( mvvsmegpxagwgsaqlour ) ; } } <s> public void write ( int data ) { int index = 0 ; while ( index < ( clientCount ) ) { clients [ mvvsmegpxagwgsaqlour ] . write ( data ) ; if ( clients [ mvvsmegpxagwgsaqlour ] . active () ) { mvvsmegpxagwgsaqlour ++ ; } else { removeIndex ( mvvsmegpxagwgsaqlour ) ; } } } <s> Fixes NPE when writing to disconnected client  Issue #2577
fix_before_refactoring: { if ( clients [ index ] . active () ) { clients [ index ] . write ( data ) ; index ++ ; } else { removeIndex ( index ) ; } }
fix_after_refactoring: { if ( clients [ mvvsmegpxagwgsaqlour ] . active () ) { clients [ mvvsmegpxagwgsaqlour ] . write ( data ) ; mvvsmegpxagwgsaqlour ++ ; } else { removeIndex ( mvvsmegpxagwgsaqlour ) ; } }
√ fix_prediction_before: { if ( clients [ index ] . active () ) { clients [ index ] . write ( data ) ; index ++ ; } else { removeIndex ( index ) ; } }
× fix_prediction_after: { if ( clients [ mvvsmegpxagwgsaqlour ] ) { clients [ mvvsmegpxagwgsaqlour ] . write ( data ) ; mvvsmegpxagwgsaqlour ++ ; } else { removeIndex ( mvvsmegpxagwgsaqlour ) ; } }

line_index: 879
bug_before_refactoring: i = ( ( int ) ( ( ( java.lang.Math . random () ) * 33 ) % ( ( com.coollooks.Util.tShirtPathList . size () ) - 1 ) ) ) <s> public static java.lang.String getTodaysTshirt () { if ( ( com.coollooks.Util.tShirtPathList ) == null ) com.coollooks.Util . setTshirtList () ; int i = ( ( int ) ( ( ( java.lang.Math . random () ) * 33 ) % ( ( com.coollooks.Util.tShirtPathList . size () ) - 1 ) ) ) ; if ( ( com.coollooks.Util.tShirtPathList . size () ) > 0 ) return com.coollooks.Util.tShirtPathList . get ( i ) ; else return null ; } <s> Fixed anr issue and optimized hash code
bug_after_refactoring: sebccvmyjxnmngxhhzwg = ( ( int ) ( ( ( java.lang.Math . random () ) * 33 ) % ( ( com.coollooks.Util.tShirtPathList . size () ) - 1 ) ) ) <s> public static java.lang.String getTodaysTshirt () { if ( ( com.coollooks.Util.tShirtPathList ) == null ) com.coollooks.Util . setTshirtList () ; int sebccvmyjxnmngxhhzwg = ( ( int ) ( ( ( java.lang.Math . random () ) * 33 ) % ( ( com.coollooks.Util.tShirtPathList . size () ) - 1 ) ) ) ; if ( ( com.coollooks.Util.tShirtPathList . size () ) > 0 ) return com.coollooks.Util.tShirtPathList . get ( i ) ; else return null ; } <s> Fixed anr issue and optimized hash code
fix_before_refactoring: i = ( ( int ) ( ( ( java.lang.Math . random () ) * 33 ) % ( com.coollooks.Util.tShirtPathList . size () ) ) )
fix_after_refactoring: sebccvmyjxnmngxhhzwg = ( ( int ) ( ( ( java.lang.Math . random () ) * 33 ) % ( com.coollooks.Util.tShirtPathList . size () ) ) )
√ fix_prediction_before: i = ( ( int ) ( ( ( java.lang.Math . random () ) * 33 ) % ( com.coollooks.Util.tShirtPathList . size () ) ) )
× fix_prediction_after: sebccvmyjxnmngxhhzwg = ( ( int ) ( ( ( java.lang.Math . random () ) * 33 ) % ( ( com.coollooks.Util.tShirtPathList . size () ) - 1 ) ) )

line_index: 883
bug_before_refactoring: private double distanceTo ( pathfinding.MapNode n ) { double xDelta = ( this . location . getX () ) - ( n.location . getX () ) ; double yDelta = ( this . location . getY () ) - ( n.location . getY () ) ; return java.lang.Math . sqrt ( ( ( java.lang.Math . pow ( xDelta , 2 ) ) + ( java.lang.Math . pow ( yDelta , 2 ) ) ) ) ; } <s> private double distanceTo ( pathfinding.MapNode n ) { double xDelta = ( this . location . getX () ) - ( n.location . getX () ) ; double yDelta = ( this . location . getY () ) - ( n.location . getY () ) ; return java.lang.Math . sqrt ( ( ( java.lang.Math . pow ( xDelta , 2 ) ) + ( java.lang.Math . pow ( yDelta , 2 ) ) ) ) ; } <s> fixed merge error in Main fxml  and made distanceTo function in MapNode a public function
bug_after_refactoring: private double distanceTo ( pathfinding.MapNode n ) { double bwgphjobaqoiknijaqnu = ( this . location . getX () ) - ( n.location . getX () ) ; double pchhogtwbcskspxdnfdu = ( this . location . getY () ) - ( n.location . getY () ) ; return java.lang.Math . sqrt ( ( ( java.lang.Math . pow ( bwgphjobaqoiknijaqnu , 2 ) ) + ( java.lang.Math . pow ( pchhogtwbcskspxdnfdu , 2 ) ) ) ) ; } <s> private double distanceTo ( pathfinding.MapNode n ) { double bwgphjobaqoiknijaqnu = ( this . location . getX () ) - ( n.location . getX () ) ; double pchhogtwbcskspxdnfdu = ( this . location . getY () ) - ( n.location . getY () ) ; return java.lang.Math . sqrt ( ( ( java.lang.Math . pow ( bwgphjobaqoiknijaqnu , 2 ) ) + ( java.lang.Math . pow ( pchhogtwbcskspxdnfdu , 2 ) ) ) ) ; } <s> fixed merge error in Main fxml  and made distanceTo function in MapNode a public function
fix_before_refactoring: public double distanceTo ( pathfinding.MapNode n ) { double xDelta = ( this . location . getX () ) - ( n.location . getX () ) ; double yDelta = ( this . location . getY () ) - ( n.location . getY () ) ; return java.lang.Math . sqrt ( ( ( java.lang.Math . pow ( xDelta , 2 ) ) + ( java.lang.Math . pow ( yDelta , 2 ) ) ) ) ; }
fix_after_refactoring: public double distanceTo ( pathfinding.MapNode n ) { double bwgphjobaqoiknijaqnu = ( this . location . getX () ) - ( n.location . getX () ) ; double pchhogtwbcskspxdnfdu = ( this . location . getY () ) - ( n.location . getY () ) ; return java.lang.Math . sqrt ( ( ( java.lang.Math . pow ( bwgphjobaqoiknijaqnu , 2 ) ) + ( java.lang.Math . pow ( pchhogtwbcskspxdnfdu , 2 ) ) ) ) ; }
√ fix_prediction_before: public double distanceTo ( pathfinding.MapNode n ) { double xDelta = ( this . location . getX () ) - ( n.location . getX () ) ; double yDelta = ( this . location . getY () ) - ( n.location . getY () ) ; return java.lang.Math . sqrt ( ( ( java.lang.Math . pow ( xDelta , 2 ) ) + ( java.lang.Math . pow ( yDelta , 2 ) ) ) ) ; }
× fix_prediction_after: public double distanceTo ( pathfinding.MapNode n ) { double bwgphjobaqoiknijaqnu = ( this . location . getX () ) - ( n.location . getX () ) ; double cchogtwbcskspxdnfdu = ( this . location . getY () ) - ( n.location . getY () ) ; return java.lang.Math . sqrt ( ( ( java.lang.Math . pow ( bwgphjobaqoiknijaqnu , 2 ) ) + ( java.lang.Math . pow ( cchogtwbcskspxdnfdu , 2 ) ) ) ) ; }

